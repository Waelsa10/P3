{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["turbopack:///[turbopack]/browser/dev/hmr-client/hmr-client.ts"],"sourcesContent":["/// <reference path=\"../../../shared/runtime-types.d.ts\" />\r\n/// <reference path=\"../../runtime/base/dev-globals.d.ts\" />\r\n/// <reference path=\"../../runtime/base/dev-protocol.d.ts\" />\r\n/// <reference path=\"../../runtime/base/dev-extensions.ts\" />\r\n\r\ntype SendMessage = (msg: any) => void\r\nexport type WebSocketMessage =\r\n  | {\r\n      type: 'turbopack-connected'\r\n    }\r\n  | {\r\n      type: 'turbopack-message'\r\n      data: Record<string, any>\r\n    }\r\n\r\nexport type ClientOptions = {\r\n  addMessageListener: (cb: (msg: WebSocketMessage) => void) => void\r\n  sendMessage: SendMessage\r\n  onUpdateError: (err: unknown) => void\r\n}\r\n\r\nexport function connect({\r\n  addMessageListener,\r\n  sendMessage,\r\n  onUpdateError = console.error,\r\n}: ClientOptions) {\r\n  addMessageListener((msg) => {\r\n    switch (msg.type) {\r\n      case 'turbopack-connected':\r\n        handleSocketConnected(sendMessage)\r\n        break\r\n      default:\r\n        try {\r\n          if (Array.isArray(msg.data)) {\r\n            for (let i = 0; i < msg.data.length; i++) {\r\n              handleSocketMessage(msg.data[i] as ServerMessage)\r\n            }\r\n          } else {\r\n            handleSocketMessage(msg.data as ServerMessage)\r\n          }\r\n          applyAggregatedUpdates()\r\n        } catch (e: unknown) {\r\n          console.warn(\r\n            '[Fast Refresh] performing full reload\\n\\n' +\r\n              \"Fast Refresh will perform a full reload when you edit a file that's imported by modules outside of the React rendering tree.\\n\" +\r\n              'You might have a file which exports a React component but also exports a value that is imported by a non-React component file.\\n' +\r\n              'Consider migrating the non-React component export to a separate file and importing it into both files.\\n\\n' +\r\n              'It is also possible the parent component of the component you edited is a class component, which disables Fast Refresh.\\n' +\r\n              'Fast Refresh requires at least one parent function component in your React tree.'\r\n          )\r\n          onUpdateError(e)\r\n          location.reload()\r\n        }\r\n        break\r\n    }\r\n  })\r\n\r\n  const queued = globalThis.TURBOPACK_CHUNK_UPDATE_LISTENERS\r\n  if (queued != null && !Array.isArray(queued)) {\r\n    throw new Error('A separate HMR handler was already registered')\r\n  }\r\n  globalThis.TURBOPACK_CHUNK_UPDATE_LISTENERS = {\r\n    push: ([chunkPath, callback]: [ChunkListPath, UpdateCallback]) => {\r\n      subscribeToChunkUpdate(chunkPath, sendMessage, callback)\r\n    },\r\n  }\r\n\r\n  if (Array.isArray(queued)) {\r\n    for (const [chunkPath, callback] of queued) {\r\n      subscribeToChunkUpdate(chunkPath, sendMessage, callback)\r\n    }\r\n  }\r\n}\r\n\r\ntype UpdateCallbackSet = {\r\n  callbacks: Set<UpdateCallback>\r\n  unsubscribe: () => void\r\n}\r\n\r\nconst updateCallbackSets: Map<ResourceKey, UpdateCallbackSet> = new Map()\r\n\r\nfunction sendJSON(sendMessage: SendMessage, message: ClientMessage) {\r\n  sendMessage(JSON.stringify(message))\r\n}\r\n\r\ntype ResourceKey = string\r\n\r\nfunction resourceKey(resource: ResourceIdentifier): ResourceKey {\r\n  return JSON.stringify({\r\n    path: resource.path,\r\n    headers: resource.headers || null,\r\n  })\r\n}\r\n\r\nfunction subscribeToUpdates(\r\n  sendMessage: SendMessage,\r\n  resource: ResourceIdentifier\r\n): () => void {\r\n  sendJSON(sendMessage, {\r\n    type: 'turbopack-subscribe',\r\n    ...resource,\r\n  })\r\n\r\n  return () => {\r\n    sendJSON(sendMessage, {\r\n      type: 'turbopack-unsubscribe',\r\n      ...resource,\r\n    })\r\n  }\r\n}\r\n\r\nfunction handleSocketConnected(sendMessage: SendMessage) {\r\n  for (const key of updateCallbackSets.keys()) {\r\n    subscribeToUpdates(sendMessage, JSON.parse(key))\r\n  }\r\n}\r\n\r\n// we aggregate all pending updates until the issues are resolved\r\nconst chunkListsWithPendingUpdates: Map<ResourceKey, PartialServerMessage> =\r\n  new Map()\r\n\r\nfunction aggregateUpdates(msg: PartialServerMessage) {\r\n  const key = resourceKey(msg.resource)\r\n  let aggregated = chunkListsWithPendingUpdates.get(key)\r\n\r\n  if (aggregated) {\r\n    aggregated.instruction = mergeChunkListUpdates(\r\n      aggregated.instruction,\r\n      msg.instruction\r\n    )\r\n  } else {\r\n    chunkListsWithPendingUpdates.set(key, msg)\r\n  }\r\n}\r\n\r\nfunction applyAggregatedUpdates() {\r\n  if (chunkListsWithPendingUpdates.size === 0) return\r\n  hooks.beforeRefresh()\r\n  for (const msg of chunkListsWithPendingUpdates.values()) {\r\n    triggerUpdate(msg)\r\n  }\r\n  chunkListsWithPendingUpdates.clear()\r\n  finalizeUpdate()\r\n}\r\n\r\nfunction mergeChunkListUpdates(\r\n  updateA: ChunkListUpdate,\r\n  updateB: ChunkListUpdate\r\n): ChunkListUpdate {\r\n  let chunks\r\n  if (updateA.chunks != null) {\r\n    if (updateB.chunks == null) {\r\n      chunks = updateA.chunks\r\n    } else {\r\n      chunks = mergeChunkListChunks(updateA.chunks, updateB.chunks)\r\n    }\r\n  } else if (updateB.chunks != null) {\r\n    chunks = updateB.chunks\r\n  }\r\n\r\n  let merged\r\n  if (updateA.merged != null) {\r\n    if (updateB.merged == null) {\r\n      merged = updateA.merged\r\n    } else {\r\n      // Since `merged` is an array of updates, we need to merge them all into\r\n      // one, consistent update.\r\n      // Since there can only be `EcmascriptMergeUpdates` in the array, there is\r\n      // no need to key on the `type` field.\r\n      let update = updateA.merged[0]\r\n      for (let i = 1; i < updateA.merged.length; i++) {\r\n        update = mergeChunkListEcmascriptMergedUpdates(\r\n          update,\r\n          updateA.merged[i]\r\n        )\r\n      }\r\n\r\n      for (let i = 0; i < updateB.merged.length; i++) {\r\n        update = mergeChunkListEcmascriptMergedUpdates(\r\n          update,\r\n          updateB.merged[i]\r\n        )\r\n      }\r\n\r\n      merged = [update]\r\n    }\r\n  } else if (updateB.merged != null) {\r\n    merged = updateB.merged\r\n  }\r\n\r\n  return {\r\n    type: 'ChunkListUpdate',\r\n    chunks,\r\n    merged,\r\n  }\r\n}\r\n\r\nfunction mergeChunkListChunks(\r\n  chunksA: Record<ChunkPath, ChunkUpdate>,\r\n  chunksB: Record<ChunkPath, ChunkUpdate>\r\n): Record<ChunkPath, ChunkUpdate> {\r\n  const chunks: Record<ChunkPath, ChunkUpdate> = {}\r\n\r\n  for (const [chunkPath, chunkUpdateA] of Object.entries(chunksA) as Array<\r\n    [ChunkPath, ChunkUpdate]\r\n  >) {\r\n    const chunkUpdateB = chunksB[chunkPath]\r\n    if (chunkUpdateB != null) {\r\n      const mergedUpdate = mergeChunkUpdates(chunkUpdateA, chunkUpdateB)\r\n      if (mergedUpdate != null) {\r\n        chunks[chunkPath] = mergedUpdate\r\n      }\r\n    } else {\r\n      chunks[chunkPath] = chunkUpdateA\r\n    }\r\n  }\r\n\r\n  for (const [chunkPath, chunkUpdateB] of Object.entries(chunksB) as Array<\r\n    [ChunkPath, ChunkUpdate]\r\n  >) {\r\n    if (chunks[chunkPath] == null) {\r\n      chunks[chunkPath] = chunkUpdateB\r\n    }\r\n  }\r\n\r\n  return chunks\r\n}\r\n\r\nfunction mergeChunkUpdates(\r\n  updateA: ChunkUpdate,\r\n  updateB: ChunkUpdate\r\n): ChunkUpdate | undefined {\r\n  if (\r\n    (updateA.type === 'added' && updateB.type === 'deleted') ||\r\n    (updateA.type === 'deleted' && updateB.type === 'added')\r\n  ) {\r\n    return undefined\r\n  }\r\n\r\n  if (updateA.type === 'partial') {\r\n    invariant(updateA.instruction, 'Partial updates are unsupported')\r\n  }\r\n\r\n  if (updateB.type === 'partial') {\r\n    invariant(updateB.instruction, 'Partial updates are unsupported')\r\n  }\r\n\r\n  return undefined\r\n}\r\n\r\nfunction mergeChunkListEcmascriptMergedUpdates(\r\n  mergedA: EcmascriptMergedUpdate,\r\n  mergedB: EcmascriptMergedUpdate\r\n): EcmascriptMergedUpdate {\r\n  const entries = mergeEcmascriptChunkEntries(mergedA.entries, mergedB.entries)\r\n  const chunks = mergeEcmascriptChunksUpdates(mergedA.chunks, mergedB.chunks)\r\n\r\n  return {\r\n    type: 'EcmascriptMergedUpdate',\r\n    entries,\r\n    chunks,\r\n  }\r\n}\r\n\r\nfunction mergeEcmascriptChunkEntries(\r\n  entriesA: Record<ModuleId, EcmascriptModuleEntry> | undefined,\r\n  entriesB: Record<ModuleId, EcmascriptModuleEntry> | undefined\r\n): Record<ModuleId, EcmascriptModuleEntry> {\r\n  return { ...entriesA, ...entriesB }\r\n}\r\n\r\nfunction mergeEcmascriptChunksUpdates(\r\n  chunksA: Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined,\r\n  chunksB: Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined\r\n): Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined {\r\n  if (chunksA == null) {\r\n    return chunksB\r\n  }\r\n\r\n  if (chunksB == null) {\r\n    return chunksA\r\n  }\r\n\r\n  const chunks: Record<ChunkPath, EcmascriptMergedChunkUpdate> = {}\r\n\r\n  for (const [chunkPath, chunkUpdateA] of Object.entries(chunksA) as Array<\r\n    [ChunkPath, EcmascriptMergedChunkUpdate]\r\n  >) {\r\n    const chunkUpdateB = chunksB[chunkPath]\r\n    if (chunkUpdateB != null) {\r\n      const mergedUpdate = mergeEcmascriptChunkUpdates(\r\n        chunkUpdateA,\r\n        chunkUpdateB\r\n      )\r\n      if (mergedUpdate != null) {\r\n        chunks[chunkPath] = mergedUpdate\r\n      }\r\n    } else {\r\n      chunks[chunkPath] = chunkUpdateA\r\n    }\r\n  }\r\n\r\n  for (const [chunkPath, chunkUpdateB] of Object.entries(chunksB) as Array<\r\n    [ChunkPath, EcmascriptMergedChunkUpdate]\r\n  >) {\r\n    if (chunks[chunkPath] == null) {\r\n      chunks[chunkPath] = chunkUpdateB\r\n    }\r\n  }\r\n\r\n  if (Object.keys(chunks).length === 0) {\r\n    return undefined\r\n  }\r\n\r\n  return chunks\r\n}\r\n\r\nfunction mergeEcmascriptChunkUpdates(\r\n  updateA: EcmascriptMergedChunkUpdate,\r\n  updateB: EcmascriptMergedChunkUpdate\r\n): EcmascriptMergedChunkUpdate | undefined {\r\n  if (updateA.type === 'added' && updateB.type === 'deleted') {\r\n    // These two completely cancel each other out.\r\n    return undefined\r\n  }\r\n\r\n  if (updateA.type === 'deleted' && updateB.type === 'added') {\r\n    const added = []\r\n    const deleted = []\r\n    const deletedModules = new Set(updateA.modules ?? [])\r\n    const addedModules = new Set(updateB.modules ?? [])\r\n\r\n    for (const moduleId of addedModules) {\r\n      if (!deletedModules.has(moduleId)) {\r\n        added.push(moduleId)\r\n      }\r\n    }\r\n\r\n    for (const moduleId of deletedModules) {\r\n      if (!addedModules.has(moduleId)) {\r\n        deleted.push(moduleId)\r\n      }\r\n    }\r\n\r\n    if (added.length === 0 && deleted.length === 0) {\r\n      return undefined\r\n    }\r\n\r\n    return {\r\n      type: 'partial',\r\n      added,\r\n      deleted,\r\n    }\r\n  }\r\n\r\n  if (updateA.type === 'partial' && updateB.type === 'partial') {\r\n    const added = new Set([...(updateA.added ?? []), ...(updateB.added ?? [])])\r\n    const deleted = new Set([\r\n      ...(updateA.deleted ?? []),\r\n      ...(updateB.deleted ?? []),\r\n    ])\r\n\r\n    if (updateB.added != null) {\r\n      for (const moduleId of updateB.added) {\r\n        deleted.delete(moduleId)\r\n      }\r\n    }\r\n\r\n    if (updateB.deleted != null) {\r\n      for (const moduleId of updateB.deleted) {\r\n        added.delete(moduleId)\r\n      }\r\n    }\r\n\r\n    return {\r\n      type: 'partial',\r\n      added: [...added],\r\n      deleted: [...deleted],\r\n    }\r\n  }\r\n\r\n  if (updateA.type === 'added' && updateB.type === 'partial') {\r\n    const modules = new Set([\r\n      ...(updateA.modules ?? []),\r\n      ...(updateB.added ?? []),\r\n    ])\r\n\r\n    for (const moduleId of updateB.deleted ?? []) {\r\n      modules.delete(moduleId)\r\n    }\r\n\r\n    return {\r\n      type: 'added',\r\n      modules: [...modules],\r\n    }\r\n  }\r\n\r\n  if (updateA.type === 'partial' && updateB.type === 'deleted') {\r\n    // We could eagerly return `updateB` here, but this would potentially be\r\n    // incorrect if `updateA` has added modules.\r\n\r\n    const modules = new Set(updateB.modules ?? [])\r\n\r\n    if (updateA.added != null) {\r\n      for (const moduleId of updateA.added) {\r\n        modules.delete(moduleId)\r\n      }\r\n    }\r\n\r\n    return {\r\n      type: 'deleted',\r\n      modules: [...modules],\r\n    }\r\n  }\r\n\r\n  // Any other update combination is invalid.\r\n\r\n  return undefined\r\n}\r\n\r\nfunction invariant(_: never, message: string): never {\r\n  throw new Error(`Invariant: ${message}`)\r\n}\r\n\r\nconst CRITICAL = ['bug', 'error', 'fatal']\r\n\r\nfunction compareByList(list: any[], a: any, b: any) {\r\n  const aI = list.indexOf(a) + 1 || list.length\r\n  const bI = list.indexOf(b) + 1 || list.length\r\n  return aI - bI\r\n}\r\n\r\nconst chunksWithIssues: Map<ResourceKey, Issue[]> = new Map()\r\n\r\nfunction emitIssues() {\r\n  const issues = []\r\n  const deduplicationSet = new Set()\r\n\r\n  for (const [_, chunkIssues] of chunksWithIssues) {\r\n    for (const chunkIssue of chunkIssues) {\r\n      if (deduplicationSet.has(chunkIssue.formatted)) continue\r\n\r\n      issues.push(chunkIssue)\r\n      deduplicationSet.add(chunkIssue.formatted)\r\n    }\r\n  }\r\n\r\n  sortIssues(issues)\r\n\r\n  hooks.issues(issues)\r\n}\r\n\r\nfunction handleIssues(msg: ServerMessage): boolean {\r\n  const key = resourceKey(msg.resource)\r\n  let hasCriticalIssues = false\r\n\r\n  for (const issue of msg.issues) {\r\n    if (CRITICAL.includes(issue.severity)) {\r\n      hasCriticalIssues = true\r\n    }\r\n  }\r\n\r\n  if (msg.issues.length > 0) {\r\n    chunksWithIssues.set(key, msg.issues)\r\n  } else if (chunksWithIssues.has(key)) {\r\n    chunksWithIssues.delete(key)\r\n  }\r\n\r\n  emitIssues()\r\n\r\n  return hasCriticalIssues\r\n}\r\n\r\nconst SEVERITY_ORDER = ['bug', 'fatal', 'error', 'warning', 'info', 'log']\r\nconst CATEGORY_ORDER = [\r\n  'parse',\r\n  'resolve',\r\n  'code generation',\r\n  'rendering',\r\n  'typescript',\r\n  'other',\r\n]\r\n\r\nfunction sortIssues(issues: Issue[]) {\r\n  issues.sort((a, b) => {\r\n    const first = compareByList(SEVERITY_ORDER, a.severity, b.severity)\r\n    if (first !== 0) return first\r\n    return compareByList(CATEGORY_ORDER, a.category, b.category)\r\n  })\r\n}\r\n\r\nconst hooks = {\r\n  beforeRefresh: () => {},\r\n  refresh: () => {},\r\n  buildOk: () => {},\r\n  issues: (_issues: Issue[]) => {},\r\n}\r\n\r\nexport function setHooks(newHooks: typeof hooks) {\r\n  Object.assign(hooks, newHooks)\r\n}\r\n\r\nfunction handleSocketMessage(msg: ServerMessage) {\r\n  sortIssues(msg.issues)\r\n\r\n  handleIssues(msg)\r\n\r\n  switch (msg.type) {\r\n    case 'issues':\r\n      // issues are already handled\r\n      break\r\n    case 'partial':\r\n      // aggregate updates\r\n      aggregateUpdates(msg)\r\n      break\r\n    default:\r\n      // run single update\r\n      const runHooks = chunkListsWithPendingUpdates.size === 0\r\n      if (runHooks) hooks.beforeRefresh()\r\n      triggerUpdate(msg)\r\n      if (runHooks) finalizeUpdate()\r\n      break\r\n  }\r\n}\r\n\r\nfunction finalizeUpdate() {\r\n  hooks.refresh()\r\n  hooks.buildOk()\r\n\r\n  // This is used by the Next.js integration test suite to notify it when HMR\r\n  // updates have been completed.\r\n  // TODO: Only run this in test environments (gate by `process.env.__NEXT_TEST_MODE`)\r\n  if (globalThis.__NEXT_HMR_CB) {\r\n    globalThis.__NEXT_HMR_CB()\r\n    globalThis.__NEXT_HMR_CB = null\r\n  }\r\n}\r\n\r\nfunction subscribeToChunkUpdate(\r\n  chunkListPath: ChunkListPath,\r\n  sendMessage: SendMessage,\r\n  callback: UpdateCallback\r\n): () => void {\r\n  return subscribeToUpdate(\r\n    {\r\n      path: chunkListPath,\r\n    },\r\n    sendMessage,\r\n    callback\r\n  )\r\n}\r\n\r\nexport function subscribeToUpdate(\r\n  resource: ResourceIdentifier,\r\n  sendMessage: SendMessage,\r\n  callback: UpdateCallback\r\n) {\r\n  const key = resourceKey(resource)\r\n  let callbackSet: UpdateCallbackSet\r\n  const existingCallbackSet = updateCallbackSets.get(key)\r\n  if (!existingCallbackSet) {\r\n    callbackSet = {\r\n      callbacks: new Set([callback]),\r\n      unsubscribe: subscribeToUpdates(sendMessage, resource),\r\n    }\r\n    updateCallbackSets.set(key, callbackSet)\r\n  } else {\r\n    existingCallbackSet.callbacks.add(callback)\r\n    callbackSet = existingCallbackSet\r\n  }\r\n\r\n  return () => {\r\n    callbackSet.callbacks.delete(callback)\r\n\r\n    if (callbackSet.callbacks.size === 0) {\r\n      callbackSet.unsubscribe()\r\n      updateCallbackSets.delete(key)\r\n    }\r\n  }\r\n}\r\n\r\nfunction triggerUpdate(msg: ServerMessage) {\r\n  const key = resourceKey(msg.resource)\r\n  const callbackSet = updateCallbackSets.get(key)\r\n  if (!callbackSet) {\r\n    return\r\n  }\r\n\r\n  for (const callback of callbackSet.callbacks) {\r\n    callback(msg)\r\n  }\r\n\r\n  if (msg.type === 'notFound') {\r\n    // This indicates that the resource which we subscribed to either does not exist or\r\n    // has been deleted. In either case, we should clear all update callbacks, so if a\r\n    // new subscription is created for the same resource, it will send a new \"subscribe\"\r\n    // message to the server.\r\n    // No need to send an \"unsubscribe\" message to the server, it will have already\r\n    // dropped the update stream before sending the \"notFound\" message.\r\n    updateCallbackSets.delete(key)\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/firebase.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getAuth, GoogleAuthProvider } from \"firebase/auth\";\r\nimport { getFirestore, serverTimestamp, doc, setDoc } from \"firebase/firestore\";\r\nimport { getStorage } from \"firebase/storage\"; \r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCK7AV4BHrj0o_sPhstug4ph59adWv1eb0\",\r\n  authDomain: \"file-transfer-app-9f7bd.firebaseapp.com\",\r\n  projectId: \"file-transfer-app-9f7bd\",\r\n  storageBucket: \"file-transfer-app-9f7bd.firebasestorage.app\", // â† BACK TO ORIGINAL\r\n  messagingSenderId: \"31409683737\",\r\n  appId: \"1:31409683737:web:4b48323ff521d3d4619988\",\r\n  measurementId: \"G-SDRWCQRRTW\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\nconst provider = new GoogleAuthProvider();\r\nconst db = getFirestore(app);\r\nconst storage = getStorage(app);\r\n\r\nexport { auth, provider, db, storage, serverTimestamp, doc, setDoc };"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,MAAM,MAAM,IAAA,iLAAa,EAAC;AAC1B,MAAM,OAAO,IAAA,qKAAO,EAAC;AACrB,MAAM,WAAW,IAAI,gLAAkB;AACvC,MAAM,KAAK,IAAA,+KAAY,EAAC;AACxB,MAAM,UAAU,IAAA,2KAAU,EAAC","debugId":null}},
    {"offset": {"line": 511, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/utils/getRecipientEmail.js"],"sourcesContent":["// utils/getRecipientEmail.js\r\nconst getRecipientEmail = (users, userLoggedIn) => {\r\n  // Return null if either users or userLoggedIn is missing\r\n  if (!users || !Array.isArray(users) || !userLoggedIn?.email) {\r\n    console.log(\"getRecipientEmail: Missing data\", { users, hasUser: !!userLoggedIn });\r\n    return null;\r\n  }\r\n\r\n  // Normalize emails to lowercase for comparison\r\n  const normalizedUserEmail = userLoggedIn.email.toLowerCase();\r\n  const normalizedUsers = users.map(email => email?.toLowerCase()).filter(Boolean);\r\n\r\n  console.log(\"getRecipientEmail: Processing\", { normalizedUsers, normalizedUserEmail });\r\n\r\n  // Check if this is a self-chat (both users are the same)\r\n  const isSelfChat = normalizedUsers.length === 2 && \r\n                     normalizedUsers.every(email => email === normalizedUserEmail);\r\n\r\n  if (isSelfChat) {\r\n    console.log(\"getRecipientEmail: Self-chat detected\");\r\n    return userLoggedIn.email; // Return original email (not normalized)\r\n  }\r\n\r\n  // Filter out the current user's email to find the other participant\r\n  const recipientEmails = users.filter(email => \r\n    email && email.toLowerCase() !== normalizedUserEmail\r\n  );\r\n\r\n  console.log(\"getRecipientEmail: Found recipients\", recipientEmails);\r\n\r\n  // Return the first recipient email, or user's email if none found\r\n  return recipientEmails.length > 0 ? recipientEmails[0] : userLoggedIn.email;\r\n};\r\n\r\nexport default getRecipientEmail;"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AAC7B,MAAM,oBAAoB,CAAC,OAAO;IAChC,yDAAyD;IACzD,IAAI,CAAC,SAAS,CAAC,MAAM,OAAO,CAAC,UAAU,CAAC,cAAc,OAAO;QAC3D,QAAQ,GAAG,CAAC,mCAAmC;YAAE;YAAO,SAAS,CAAC,CAAC;QAAa;QAChF,OAAO;IACT;IAEA,+CAA+C;IAC/C,MAAM,sBAAsB,aAAa,KAAK,CAAC,WAAW;IAC1D,MAAM,kBAAkB,MAAM,GAAG,CAAC,CAAA,QAAS,OAAO,eAAe,MAAM,CAAC;IAExE,QAAQ,GAAG,CAAC,iCAAiC;QAAE;QAAiB;IAAoB;IAEpF,yDAAyD;IACzD,MAAM,aAAa,gBAAgB,MAAM,KAAK,KAC3B,gBAAgB,KAAK,CAAC,CAAA,QAAS,UAAU;IAE5D,IAAI,YAAY;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO,aAAa,KAAK,EAAE,yCAAyC;IACtE;IAEA,oEAAoE;IACpE,MAAM,kBAAkB,MAAM,MAAM,CAAC,CAAA,QACnC,SAAS,MAAM,WAAW,OAAO;IAGnC,QAAQ,GAAG,CAAC,uCAAuC;IAEnD,kEAAkE;IAClE,OAAO,gBAAgB,MAAM,GAAG,IAAI,eAAe,CAAC,EAAE,GAAG,aAAa,KAAK;AAC7E;uCAEe","debugId":null}},
    {"offset": {"line": 552, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/constants.js"],"sourcesContent":["// components/ChatScreen/constants.js\r\n\r\nexport const EMOJI_CATEGORIES = {\r\n  recent: { name: \"Recent\", icon: \"ğŸ•’\" },\r\n  smileys: { name: \"Smileys & People\", icon: \"ğŸ˜€\" },\r\n  animals: { name: \"Animals & Nature\", icon: \"ğŸ¶\" },\r\n  food: { name: \"Food & Drink\", icon: \"ğŸ”\" },\r\n  activities: { name: \"Activities\", icon: \"âš½\" },\r\n  travel: { name: \"Travel & Places\", icon: \"âœˆï¸\" },\r\n  objects: { name: \"Objects\", icon: \"ğŸ’¡\" },\r\n  symbols: { name: \"Symbols\", icon: \"â¤ï¸\" },\r\n  flags: { name: \"Flags\", icon: \"ğŸ\" },\r\n};\r\n\r\n\r\nexport const EMOJIS = {\r\n  smileys: [\r\n    \"ğŸ˜€\", \"ğŸ˜ƒ\", \"ğŸ˜„\", \"ğŸ˜\", \"ğŸ˜†\", \"ğŸ˜…\", \"ğŸ¤£\", \"ğŸ˜‚\", \"ğŸ™‚\", \"ğŸ™ƒ\", \"ğŸ˜‰\", \"ğŸ˜Š\", \"ğŸ˜‡\",\r\n    \"ğŸ¥°\", \"ğŸ˜\", \"ğŸ¤©\", \"ğŸ˜˜\", \"ğŸ˜—\", \"ğŸ˜š\", \"ğŸ˜™\", \"ğŸ¥²\", \"ğŸ˜‹\", \"ğŸ˜›\", \"ğŸ˜œ\", \"ğŸ¤ª\", \"ğŸ˜\",\r\n    \"ğŸ¤‘\", \"ğŸ¤—\", \"ğŸ¤­\", \"ğŸ¤«\", \"ğŸ¤”\", \"ğŸ¤\", \"ğŸ¤¨\", \"ğŸ˜\", \"ğŸ˜‘\", \"ğŸ˜¶\", \"ğŸ˜\", \"ğŸ˜’\", \"ğŸ™„\",\r\n    \"ğŸ˜¬\", \"ğŸ¤¥\", \"ğŸ˜Œ\", \"ğŸ˜”\", \"ğŸ˜ª\", \"ğŸ¤¤\", \"ğŸ˜´\", \"ğŸ˜·\", \"ğŸ¤’\", \"ğŸ¤•\", \"ğŸ¤¢\", \"ğŸ¤®\", \"ğŸ¤§\",\r\n    \"ğŸ¥µ\", \"ğŸ¥¶\", \"ğŸ¥´\", \"ğŸ˜µ\", \"ğŸ¤¯\", \"ğŸ¤ \", \"ğŸ¥³\", \"ğŸ¥¸\", \"ğŸ˜\", \"ğŸ¤“\", \"ğŸ§\", \"ğŸ˜•\", \"ğŸ˜Ÿ\",\r\n    \"ğŸ™\", \"â˜¹ï¸\", \"ğŸ˜®\", \"ğŸ˜¯\", \"ğŸ˜²\", \"ğŸ˜³\", \"ğŸ¥º\", \"ğŸ˜¦\", \"ğŸ˜§\", \"ğŸ˜¨\", \"ğŸ˜°\", \"ğŸ˜¥\", \"ğŸ˜¢\",\r\n    \"ğŸ˜­\", \"ğŸ˜±\", \"ğŸ˜–\", \"ğŸ˜£\", \"ğŸ˜\", \"ğŸ˜“\", \"ğŸ˜©\", \"ğŸ˜«\", \"ğŸ¥±\", \"ğŸ˜¤\", \"ğŸ˜¡\", \"ğŸ˜ \", \"ğŸ¤¬\",\r\n    \"ğŸ˜ˆ\", \"ğŸ‘¿\", \"ğŸ’€\", \"â˜ ï¸\", \"ğŸ’©\", \"ğŸ¤¡\", \"ğŸ‘¹\", \"ğŸ‘º\", \"ğŸ‘»\", \"ğŸ‘½\", \"ğŸ‘¾\", \"ğŸ¤–\", \"ğŸ˜º\",\r\n    \"ğŸ˜¸\", \"ğŸ˜¹\", \"ğŸ˜»\", \"ğŸ˜¼\", \"ğŸ˜½\", \"ğŸ™€\", \"ğŸ˜¿\", \"ğŸ˜¾\", \"ğŸ‘‹\", \"ğŸ¤š\", \"ğŸ–ï¸\", \"âœ‹\", \"ğŸ––\",\r\n    \"ğŸ‘Œ\", \"ğŸ¤Œ\", \"ğŸ¤\", \"âœŒï¸\", \"ğŸ¤\", \"ğŸ¤Ÿ\", \"ğŸ¤˜\", \"ğŸ¤™\", \"ğŸ‘ˆ\", \"ğŸ‘‰\", \"ğŸ‘†\", \"ğŸ–•\", \"ğŸ‘‡\",\r\n    \"â˜ï¸\", \"ğŸ‘\", \"ğŸ‘\", \"âœŠ\", \"ğŸ‘Š\", \"ğŸ¤›\", \"ğŸ¤œ\", \"ğŸ‘\", \"ğŸ™Œ\", \"ğŸ‘\", \"ğŸ¤²\", \"ğŸ¤\", \"ğŸ™\",\r\n    \"âœï¸\", \"ğŸ’…\", \"ğŸ¤³\", \"ğŸ’ª\", \"ğŸ¦¾\", \"ğŸ¦¿\", \"ğŸ¦µ\", \"ğŸ¦¶\", \"ğŸ‘‚\", \"ğŸ¦»\", \"ğŸ‘ƒ\", \"ğŸ§ \", \"ğŸ«€\",\r\n    \"ğŸ«\", \"ğŸ¦·\", \"ğŸ¦´\", \"ğŸ‘€\", \"ğŸ‘ï¸\", \"ğŸ‘…\", \"ğŸ‘„\", \"ğŸ’‹\", \"ğŸ©¸\"\r\n  ],\r\n  animals: [\r\n    \"ğŸ¶\", \"ğŸ±\", \"ğŸ­\", \"ğŸ¹\", \"ğŸ°\", \"ğŸ¦Š\", \"ğŸ»\", \"ğŸ¼\", \"ğŸ¨\", \"ğŸ¯\", \"ğŸ¦\", \"ğŸ®\", \"ğŸ·\",\r\n    \"ğŸ½\", \"ğŸ¸\", \"ğŸµ\", \"ğŸ™ˆ\", \"ğŸ™‰\", \"ğŸ™Š\", \"ğŸ’\", \"ğŸ”\", \"ğŸ§\", \"ğŸ¦\", \"ğŸ¤\", \"ğŸ£\", \"ğŸ¥\",\r\n    \"ğŸ¦†\", \"ğŸ¦…\", \"ğŸ¦‰\", \"ğŸ¦‡\", \"ğŸº\", \"ğŸ—\", \"ğŸ´\", \"ğŸ¦„\", \"ğŸ\", \"ğŸª±\", \"ğŸ›\", \"ğŸ¦‹\", \"ğŸŒ\",\r\n    \"ğŸ\", \"ğŸœ\", \"ğŸª°\", \"ğŸª²\", \"ğŸª³\", \"ğŸ¦Ÿ\", \"ğŸ¦—\", \"ğŸ•·ï¸\", \"ğŸ•¸ï¸\", \"ğŸ¦‚\", \"ğŸ¢\", \"ğŸ\", \"ğŸ¦\",\r\n    \"ğŸ¦–\", \"ğŸ¦•\", \"ğŸ™\", \"ğŸ¦‘\", \"ğŸ¦\", \"ğŸ¦\", \"ğŸ¦€\", \"ğŸ¡\", \"ğŸ \", \"ğŸŸ\", \"ğŸ¬\", \"ğŸ³\", \"ğŸ‹\",\r\n    \"ğŸ¦ˆ\", \"ğŸŠ\", \"ğŸ…\", \"ğŸ†\", \"ğŸ¦“\", \"ğŸ¦\", \"ğŸ¦§\", \"ğŸ¦£\", \"ğŸ˜\", \"ğŸ¦›\", \"ğŸ¦\", \"ğŸª\", \"ğŸ«\",\r\n    \"ğŸ¦’\", \"ğŸ¦˜\", \"ğŸ¦¬\", \"ğŸƒ\", \"ğŸ‚\", \"ğŸ„\", \"ğŸ\", \"ğŸ–\", \"ğŸ\", \"ğŸ‘\", \"ğŸ¦™\", \"ğŸ\", \"ğŸ¦Œ\",\r\n    \"ğŸ•\", \"ğŸ©\", \"ğŸ¦®\", \"ğŸ•â€ğŸ¦º\", \"ğŸˆ\", \"ğŸˆâ€â¬›\", \"ğŸª¶\", \"ğŸ“\", \"ğŸ¦ƒ\", \"ğŸ¦¤\", \"ğŸ¦š\", \"ğŸ¦œ\", \"ğŸ¦¢\",\r\n    \"ğŸ¦©\", \"ğŸ•Šï¸\", \"ğŸ‡\", \"ğŸ¦\", \"ğŸ¦¨\", \"ğŸ¦¡\", \"ğŸ¦«\", \"ğŸ¦¦\", \"ğŸ¦¥\", \"ğŸ\", \"ğŸ€\", \"ğŸ¿ï¸\", \"ğŸ¦”\",\r\n    \"ğŸŒ²\", \"ğŸŒ³\", \"ğŸŒ´\", \"ğŸŒ±\", \"ğŸŒ¿\", \"â˜˜ï¸\", \"ğŸ€\", \"ğŸ\", \"ğŸª´\", \"ğŸ‹\", \"ğŸƒ\", \"ğŸ‚\", \"ğŸ\",\r\n    \"ğŸ„\", \"ğŸš\", \"ğŸª¨\", \"ğŸŒ¾\", \"ğŸ’\", \"ğŸŒ·\", \"ğŸŒ¹\", \"ğŸ¥€\", \"ğŸŒº\", \"ğŸŒ¸\", \"ğŸŒ¼\", \"ğŸŒ»\", \"ğŸŒ\",\r\n    \"ğŸŒ\", \"ğŸŒ›\", \"ğŸŒœ\", \"ğŸŒš\", \"ğŸŒ•\", \"ğŸŒ–\", \"ğŸŒ—\", \"ğŸŒ˜\", \"ğŸŒ‘\", \"ğŸŒ’\", \"ğŸŒ“\", \"ğŸŒ”\", \"ğŸŒ™\",\r\n    \"ğŸŒ\", \"ğŸŒ\", \"ğŸŒ\", \"ğŸª\", \"ğŸ’«\", \"â­\", \"ğŸŒŸ\", \"âœ¨\", \"âš¡\", \"â˜„ï¸\", \"ğŸ’¥\", \"ğŸ”¥\", \"ğŸŒªï¸\",\r\n    \"ğŸŒˆ\", \"â˜€ï¸\", \"ğŸŒ¤ï¸\", \"â›…\", \"ğŸŒ¥ï¸\", \"â˜ï¸\", \"ğŸŒ¦ï¸\", \"ğŸŒ§ï¸\", \"â›ˆï¸\", \"ğŸŒ©ï¸\", \"ğŸŒ¨ï¸\", \"â„ï¸\", \"â˜ƒï¸\",\r\n    \"â›„\", \"ğŸŒ¬ï¸\", \"ğŸ’¨\", \"ğŸ’§\", \"ğŸ’¦\", \"â˜”\", \"â˜‚ï¸\", \"ğŸŒŠ\", \"ğŸŒ«ï¸\"\r\n  ],\r\n  food: [\r\n    \"ğŸ\", \"ğŸ\", \"ğŸ\", \"ğŸŠ\", \"ğŸ‹\", \"ğŸŒ\", \"ğŸ‰\", \"ğŸ‡\", \"ğŸ“\", \"ğŸ«\", \"ğŸˆ\", \"ğŸ’\", \"ğŸ‘\",\r\n    \"ğŸ¥­\", \"ğŸ\", \"ğŸ¥¥\", \"ğŸ¥\", \"ğŸ…\", \"ğŸ†\", \"ğŸ¥‘\", \"ğŸ¥¦\", \"ğŸ¥¬\", \"ğŸ¥’\", \"ğŸŒ¶ï¸\", \"ğŸ«‘\", \"ğŸŒ½\",\r\n    \"ğŸ¥•\", \"ğŸ«’\", \"ğŸ§„\", \"ğŸ§…\", \"ğŸ¥”\", \"ğŸ \", \"ğŸ¥\", \"ğŸ¥¯\", \"ğŸ\", \"ğŸ¥–\", \"ğŸ¥¨\", \"ğŸ§€\", \"ğŸ¥š\",\r\n    \"ğŸ³\", \"ğŸ§ˆ\", \"ğŸ¥\", \"ğŸ§‡\", \"ğŸ¥“\", \"ğŸ¥©\", \"ğŸ—\", \"ğŸ–\", \"ğŸ¦´\", \"ğŸŒ­\", \"ğŸ”\", \"ğŸŸ\", \"ğŸ•\",\r\n    \"ğŸ«“\", \"ğŸ¥ª\", \"ğŸ¥™\", \"ğŸ§†\", \"ğŸŒ®\", \"ğŸŒ¯\", \"ğŸ«”\", \"ğŸ¥—\", \"ğŸ¥˜\", \"ğŸ«•\", \"ğŸ¥«\", \"ğŸ\", \"ğŸœ\",\r\n    \"ğŸ²\", \"ğŸ›\", \"ğŸ£\", \"ğŸ±\", \"ğŸ¥Ÿ\", \"ğŸ¦ª\", \"ğŸ¤\", \"ğŸ™\", \"ğŸš\", \"ğŸ˜\", \"ğŸ¥\", \"ğŸ¥ \", \"ğŸ¥®\",\r\n    \"ğŸ¢\", \"ğŸ¡\", \"ğŸ§\", \"ğŸ¨\", \"ğŸ¦\", \"ğŸ¥§\", \"ğŸ§\", \"ğŸ°\", \"ğŸ‚\", \"ğŸ®\", \"ğŸ­\", \"ğŸ¬\", \"ğŸ«\",\r\n    \"ğŸ¿\", \"ğŸ©\", \"ğŸª\", \"ğŸŒ°\", \"ğŸ¥œ\", \"ğŸ¯\", \"ğŸ¥›\", \"ğŸ¼\", \"ğŸ«–\", \"â˜•\", \"ğŸµ\", \"ğŸ§ƒ\", \"ğŸ¥¤\",\r\n    \"ğŸ§‹\", \"ğŸ¶\", \"ğŸº\", \"ğŸ»\", \"ğŸ¥‚\", \"ğŸ·\", \"ğŸ¥ƒ\", \"ğŸ¸\", \"ğŸ¹\", \"ğŸ§‰\", \"ğŸ¾\", \"ğŸ§Š\", \"ğŸ¥„\",\r\n    \"ğŸ´\", \"ğŸ½ï¸\", \"ğŸ¥£\", \"ğŸ¥¡\", \"ğŸ¥¢\", \"ğŸ§‚\"\r\n  ],\r\n  activities: [\r\n    \"âš½\", \"ğŸ€\", \"ğŸˆ\", \"âš¾\", \"ğŸ¥\", \"ğŸ¾\", \"ğŸ\", \"ğŸ‰\", \"ğŸ¥\", \"ğŸ±\", \"ğŸª€\", \"ğŸ“\", \"ğŸ¸\",\r\n    \"ğŸ’\", \"ğŸ‘\", \"ğŸ¥\", \"ğŸ\", \"ğŸªƒ\", \"ğŸ¥…\", \"â›³\", \"ğŸª\", \"ğŸ¹\", \"ğŸ£\", \"ğŸ¤¿\", \"ğŸ¥Š\", \"ğŸ¥‹\",\r\n    \"ğŸ½\", \"ğŸ›¹\", \"ğŸ›¼\", \"ğŸ›·\", \"â›¸ï¸\", \"ğŸ¥Œ\", \"ğŸ¿\", \"â›·ï¸\", \"ğŸ‚\", \"ğŸª‚\", \"ğŸ‹ï¸\", \"ğŸ¤¼\", \"ğŸ¤¸\",\r\n    \"ğŸ¤º\", \"â›¹ï¸\", \"ğŸ¤¾\", \"ğŸŒï¸\", \"ğŸ‡\", \"ğŸ§˜\", \"ğŸ„\", \"ğŸŠ\", \"ğŸ¤½\", \"ğŸš£\", \"ğŸ§—\", \"ğŸšµ\", \"ğŸš´\",\r\n    \"ğŸ†\", \"ğŸ¥‡\", \"ğŸ¥ˆ\", \"ğŸ¥‰\", \"ğŸ…\", \"ğŸ–ï¸\", \"ğŸµï¸\", \"ğŸ—ï¸\", \"ğŸ«\", \"ğŸŸï¸\", \"ğŸª\", \"ğŸ¤¹\", \"ğŸ­\",\r\n    \"ğŸ©°\", \"ğŸ¨\", \"ğŸ¬\", \"ğŸ¤\", \"ğŸ§\", \"ğŸ¼\", \"ğŸ¹\", \"ğŸ¥\", \"ğŸª˜\", \"ğŸ·\", \"ğŸº\", \"ğŸª—\", \"ğŸ¸\",\r\n    \"ğŸª•\", \"ğŸ»\", \"ğŸ²\", \"â™Ÿï¸\", \"ğŸ¯\", \"ğŸ³\", \"ğŸ®\", \"ğŸ°\", \"ğŸ§©\"\r\n  ],\r\n  travel: [\r\n    \"ğŸš—\", \"ğŸš•\", \"ğŸš™\", \"ğŸšŒ\", \"ğŸš\", \"ğŸï¸\", \"ğŸš“\", \"ğŸš‘\", \"ğŸš’\", \"ğŸš\", \"ğŸ›»\", \"ğŸšš\", \"ğŸš›\",\r\n    \"ğŸšœ\", \"ğŸ¦¯\", \"ğŸ¦½\", \"ğŸ¦¼\", \"ğŸ›´\", \"ğŸš²\", \"ğŸ›µ\", \"ğŸï¸\", \"ğŸ›º\", \"ğŸš¨\", \"ğŸš”\", \"ğŸš\", \"ğŸš˜\",\r\n    \"ğŸš–\", \"ğŸš¡\", \"ğŸš \", \"ğŸšŸ\", \"ğŸšƒ\", \"ğŸš‹\", \"ğŸš\", \"ğŸš\", \"ğŸš„\", \"ğŸš…\", \"ğŸšˆ\", \"ğŸš‚\", \"ğŸš†\",\r\n    \"ğŸš‡\", \"ğŸšŠ\", \"ğŸš‰\", \"âœˆï¸\", \"ğŸ›«\", \"ğŸ›¬\", \"ğŸ›©ï¸\", \"ğŸ’º\", \"ğŸ›°ï¸\", \"ğŸš€\", \"ğŸ›¸\", \"ğŸš\", \"ğŸ›¶\",\r\n    \"â›µ\", \"ğŸš¤\", \"ğŸ›¥ï¸\", \"ğŸ›³ï¸\", \"â›´ï¸\", \"ğŸš¢\", \"âš“\", \"ğŸª\", \"â›½\", \"ğŸš§\", \"ğŸš¦\", \"ğŸš¥\", \"ğŸš\",\r\n    \"ğŸ—ºï¸\", \"ğŸ—¿\", \"ğŸ—½\", \"ğŸ—¼\", \"ğŸ°\", \"ğŸ¯\", \"ğŸŸï¸\", \"ğŸ¡\", \"ğŸ¢\", \"ğŸ \", \"â›²\", \"â›±ï¸\", \"ğŸ–ï¸\",\r\n    \"ğŸï¸\", \"ğŸœï¸\", \"ğŸŒ‹\", \"â›°ï¸\", \"ğŸ”ï¸\", \"ğŸ—»\", \"ğŸ•ï¸\", \"â›º\", \"ğŸ›–\", \"ğŸ \", \"ğŸ¡\", \"ğŸ˜ï¸\", \"ğŸšï¸\",\r\n    \"ğŸ—ï¸\", \"ğŸ­\", \"ğŸ¢\", \"ğŸ¬\", \"ğŸ£\", \"ğŸ¤\", \"ğŸ¥\", \"ğŸ¦\", \"ğŸ¨\", \"ğŸª\", \"ğŸ«\", \"ğŸ©\", \"ğŸ’’\",\r\n    \"ğŸ›ï¸\", \"â›ª\", \"ğŸ•Œ\", \"ğŸ•\", \"ğŸ›•\", \"ğŸ•‹\", \"â›©ï¸\", \"ğŸ›¤ï¸\", \"ğŸ›£ï¸\", \"ğŸ—¾\", \"ğŸ‘\", \"ğŸï¸\", \"ğŸŒ…\",\r\n    \"ğŸŒ„\", \"ğŸŒ \", \"ğŸ‡\", \"ğŸ†\", \"ğŸŒ‡\", \"ğŸŒ†\", \"ğŸ™ï¸\", \"ğŸŒƒ\", \"ğŸŒŒ\", \"ğŸŒ‰\", \"ğŸŒ\"\r\n  ],\r\n  objects: [\r\n    \"âŒš\", \"ğŸ“±\", \"ğŸ“²\", \"ğŸ’»\", \"âŒ¨ï¸\", \"ğŸ–¥ï¸\", \"ğŸ–¨ï¸\", \"ğŸ–±ï¸\", \"ğŸ–²ï¸\", \"ğŸ•¹ï¸\", \"ğŸ—œï¸\", \"ğŸ’½\", \"ğŸ’¾\",\r\n    \"ğŸ’¿\", \"ğŸ“€\", \"ğŸ“¼\", \"ğŸ“·\", \"ğŸ“¸\", \"ğŸ“¹\", \"ğŸ¥\", \"ğŸ“½ï¸\", \"ğŸï¸\", \"ğŸ“\", \"â˜ï¸\", \"ğŸ“Ÿ\", \"ğŸ“ \",\r\n    \"ğŸ“º\", \"ğŸ“»\", \"ğŸ™ï¸\", \"ğŸšï¸\", \"ğŸ›ï¸\", \"ğŸ§­\", \"â±ï¸\", \"â²ï¸\", \"â°\", \"ğŸ•°ï¸\", \"âŒ›\", \"â³\", \"ğŸ“¡\",\r\n    \"ğŸ”‹\", \"ğŸ”Œ\", \"ğŸ’¡\", \"ğŸ”¦\", \"ğŸ•¯ï¸\", \"ğŸª”\", \"ğŸ§¯\", \"ğŸ›¢ï¸\", \"ğŸ’¸\", \"ğŸ’µ\", \"ğŸ’´\", \"ğŸ’¶\", \"ğŸ’·\",\r\n    \"ğŸª™\", \"ğŸ’°\", \"ğŸ’³\", \"ğŸ’\", \"âš–ï¸\", \"ğŸªœ\", \"ğŸ§°\", \"ğŸª›\", \"ğŸ”§\", \"ğŸ”¨\", \"âš’ï¸\", \"ğŸ› ï¸\", \"â›ï¸\",\r\n    \"ğŸªš\", \"ğŸ”©\", \"âš™ï¸\", \"ğŸª¤\", \"ğŸ§±\", \"â›“ï¸\", \"ğŸ§²\", \"ğŸ”«\", \"ğŸ’£\", \"ğŸ§¨\", \"ğŸª“\", \"ğŸ”ª\", \"ğŸ—¡ï¸\",\r\n    \"âš”ï¸\", \"ğŸ›¡ï¸\", \"ğŸš¬\", \"âš°ï¸\", \"ğŸª¦\", \"âš±ï¸\", \"ğŸº\", \"ğŸ”®\", \"ğŸ“¿\", \"ğŸ§¿\", \"ğŸ’ˆ\", \"âš—ï¸\", \"ğŸ”­\",\r\n    \"ğŸ”¬\", \"ğŸ•³ï¸\", \"ğŸ©¹\", \"ğŸ©º\", \"ğŸ’Š\", \"ğŸ’‰\", \"ğŸ©¸\", \"ğŸ§¬\", \"ğŸ¦ \", \"ğŸ§«\", \"ğŸ§ª\", \"ğŸŒ¡ï¸\", \"ğŸ§¹\",\r\n    \"ğŸª \", \"ğŸ§º\", \"ğŸ§»\", \"ğŸš½\", \"ğŸš°\", \"ğŸš¿\", \"ğŸ›\", \"ğŸ›€\", \"ğŸ§¼\", \"ğŸª¥\", \"ğŸª’\", \"ğŸ§½\", \"ğŸª£\",\r\n    \"ğŸ§´\", \"ğŸ›ï¸\", \"ğŸ”‘\", \"ğŸ—ï¸\", \"ğŸšª\", \"ğŸª‘\", \"ğŸ›‹ï¸\", \"ğŸ›ï¸\", \"ğŸ›Œ\", \"ğŸ§¸\", \"ğŸª†\", \"ğŸ–¼ï¸\", \"ğŸª\",\r\n    \"ğŸªŸ\", \"ğŸ›ï¸\", \"ğŸ›’\", \"ğŸ\", \"ğŸˆ\", \"ğŸ\", \"ğŸ€\", \"ğŸª„\", \"ğŸª…\", \"ğŸŠ\", \"ğŸ‰\", \"ğŸ\", \"ğŸ®\",\r\n    \"ğŸ\", \"ğŸ§§\", \"âœ‰ï¸\", \"ğŸ“©\", \"ğŸ“¨\", \"ğŸ“§\", \"ğŸ’Œ\", \"ğŸ“¥\", \"ğŸ“¤\", \"ğŸ“¦\", \"ğŸ·ï¸\", \"ğŸª§\", \"ğŸ“ª\",\r\n    \"ğŸ“«\", \"ğŸ“¬\", \"ğŸ“­\", \"ğŸ“®\", \"ğŸ“¯\", \"ğŸ“œ\", \"ğŸ“ƒ\", \"ğŸ“„\", \"ğŸ“‘\", \"ğŸ§¾\", \"ğŸ“Š\", \"ğŸ“ˆ\", \"ğŸ“‰\",\r\n    \"ğŸ—’ï¸\", \"ğŸ—“ï¸\", \"ğŸ“†\", \"ğŸ“…\", \"ğŸ—‘ï¸\", \"ğŸ“‡\", \"ğŸ—ƒï¸\", \"ğŸ—³ï¸\", \"ğŸ—„ï¸\", \"ğŸ“‹\", \"ğŸ“\", \"ğŸ“‚\", \"ğŸ—‚ï¸\",\r\n    \"ğŸ—ï¸\", \"ğŸ“°\", \"ğŸ““\", \"ğŸ“”\", \"ğŸ“’\", \"ğŸ“•\", \"ğŸ“—\", \"ğŸ“˜\", \"ğŸ“™\", \"ğŸ“š\", \"ğŸ“–\", \"ğŸ”–\", \"ğŸ§·\",\r\n    \"ğŸ”—\", \"ğŸ“\", \"ğŸ–‡ï¸\", \"ğŸ“\", \"ğŸ“\", \"ğŸ§®\", \"ğŸ“Œ\", \"ğŸ“\", \"âœ‚ï¸\", \"ğŸ–Šï¸\", \"ğŸ–‹ï¸\", \"âœ’ï¸\", \"ğŸ–Œï¸\",\r\n    \"ğŸ–ï¸\", \"ğŸ“\", \"âœï¸\", \"ğŸ”\", \"ğŸ”\", \"ğŸ”\", \"ğŸ”\", \"ğŸ”’\", \"ğŸ”“\"\r\n  ],\r\n  symbols: [\r\n    \"â¤ï¸\", \"ğŸ§¡\", \"ğŸ’›\", \"ğŸ’š\", \"ğŸ’™\", \"ğŸ’œ\", \"ğŸ–¤\", \"ğŸ¤\", \"ğŸ¤\", \"ğŸ’”\", \"â£ï¸\", \"ğŸ’•\", \"ğŸ’\",\r\n    \"ğŸ’“\", \"ğŸ’—\", \"ğŸ’–\", \"ğŸ’˜\", \"ğŸ’\", \"ğŸ’Ÿ\", \"â˜®ï¸\", \"âœï¸\", \"â˜ªï¸\", \"ğŸ•‰ï¸\", \"â˜¸ï¸\", \"âœ¡ï¸\", \"ğŸ”¯\",\r\n    \"ğŸ•\", \"â˜¯ï¸\", \"â˜¦ï¸\", \"ğŸ›\", \"â›\", \"â™ˆ\", \"â™‰\", \"â™Š\", \"â™‹\", \"â™Œ\", \"â™\", \"â™\", \"â™\", \"â™\",\r\n    \"â™‘\", \"â™’\", \"â™“\", \"ğŸ†”\", \"âš›ï¸\", \"ğŸ‰‘\", \"â˜¢ï¸\", \"â˜£ï¸\", \"ğŸ“´\", \"ğŸ“³\", \"ğŸˆ¶\", \"ğŸˆš\", \"ğŸˆ¸\",\r\n    \"ğŸˆº\", \"ğŸˆ·ï¸\", \"âœ´ï¸\", \"ğŸ†š\", \"ğŸ’®\", \"ğŸ‰\", \"ãŠ™ï¸\", \"ãŠ—ï¸\", \"ğŸˆ´\", \"ğŸˆµ\", \"ğŸˆ¹\", \"ğŸˆ²\", \"ğŸ…°ï¸\",\r\n    \"ğŸ…±ï¸\", \"ğŸ†\", \"ğŸ†‘\", \"ğŸ…¾ï¸\", \"ğŸ†˜\", \"âŒ\", \"â­•\", \"ğŸ›‘\", \"â›”\", \"ğŸ“›\", \"ğŸš«\", \"ğŸ’¯\", \"ğŸ’¢\",\r\n    \"â™¨ï¸\", \"ğŸš·\", \"ğŸš¯\", \"ğŸš³\", \"ğŸš±\", \"ğŸ”\", \"ğŸ“µ\", \"ğŸš­\", \"â—\", \"â•\", \"â“\", \"â”\", \"â€¼ï¸\",\r\n    \"â‰ï¸\", \"ğŸ”…\", \"ğŸ”†\", \"ã€½ï¸\", \"âš ï¸\", \"ğŸš¸\", \"ğŸ”±\", \"âšœï¸\", \"ğŸ”°\", \"â™»ï¸\", \"âœ…\", \"ğŸˆ¯\", \"ğŸ’¹\",\r\n    \"â‡ï¸\", \"âœ³ï¸\", \"â\", \"ğŸŒ\", \"ğŸ’ \", \"â“‚ï¸\", \"ğŸŒ€\", \"ğŸ’¤\", \"ğŸ§\", \"ğŸš¾\", \"â™¿\", \"ğŸ…¿ï¸\", \"ğŸ›—\",\r\n    \"ğŸˆ³\", \"ğŸˆ‚ï¸\", \"ğŸ›‚\", \"ğŸ›ƒ\", \"ğŸ›„\", \"ğŸ›…\", \"ğŸš¹\", \"ğŸšº\", \"ğŸš¼\", \"âš§ï¸\", \"ğŸš»\", \"ğŸš®\", \"ğŸ¦\",\r\n    \"ğŸ“¶\", \"ğŸˆ\", \"ğŸ”£\", \"â„¹ï¸\", \"ğŸ”¤\", \"ğŸ”¡\", \"ğŸ” \", \"ğŸ†–\", \"ğŸ†—\", \"ğŸ†™\", \"ğŸ†’\", \"ğŸ†•\", \"ğŸ†“\",\r\n    \"0ï¸âƒ£\", \"1ï¸âƒ£\", \"2ï¸âƒ£\", \"3ï¸âƒ£\", \"4ï¸âƒ£\", \"5ï¸âƒ£\", \"6ï¸âƒ£\", \"7ï¸âƒ£\", \"8ï¸âƒ£\", \"9ï¸âƒ£\", \"ğŸ”Ÿ\", \"ğŸ”¢\", \"#ï¸âƒ£\",\r\n    \"*ï¸âƒ£\", \"âï¸\", \"â–¶ï¸\", \"â¸ï¸\", \"â¯ï¸\", \"â¹ï¸\", \"âºï¸\", \"â­ï¸\", \"â®ï¸\", \"â©\", \"âª\", \"â«\", \"â¬\",\r\n    \"â—€ï¸\", \"ğŸ”¼\", \"ğŸ”½\", \"â¡ï¸\", \"â¬…ï¸\", \"â¬†ï¸\", \"â¬‡ï¸\", \"â†—ï¸\", \"â†˜ï¸\", \"â†™ï¸\", \"â†–ï¸\", \"â†•ï¸\", \"â†”ï¸\",\r\n    \"â†ªï¸\", \"â†©ï¸\", \"â¤´ï¸\", \"â¤µï¸\", \"ğŸ”€\", \"ğŸ”\", \"ğŸ”‚\", \"ğŸ”„\", \"ğŸ”ƒ\", \"ğŸµ\", \"ğŸ¶\", \"â•\", \"â–\",\r\n    \"â—\", \"âœ–ï¸\", \"ğŸŸ°\", \"â™¾ï¸\", \"ğŸ’²\", \"ğŸ’±\", \"â„¢ï¸\", \"Â©ï¸\", \"Â®ï¸\", \"ã€°ï¸\", \"â°\", \"â¿\", \"ğŸ”š\",\r\n    \"ğŸ”™\", \"ğŸ”›\", \"ğŸ”\", \"ğŸ”œ\", \"âœ”ï¸\", \"â˜‘ï¸\", \"ğŸ”˜\", \"ğŸ”´\", \"ğŸŸ \", \"ğŸŸ¡\", \"ğŸŸ¢\", \"ğŸ”µ\", \"ğŸŸ£\",\r\n    \"âš«\", \"âšª\", \"ğŸŸ¤\", \"ğŸ”º\", \"ğŸ”»\", \"ğŸ”¸\", \"ğŸ”¹\", \"ğŸ”¶\", \"ğŸ”·\", \"ğŸ”³\", \"ğŸ”²\", \"â–ªï¸\", \"â–«ï¸\",\r\n    \"â—¾\", \"â—½\", \"â—¼ï¸\", \"â—»ï¸\", \"ğŸŸ¥\", \"ğŸŸ§\", \"ğŸŸ¨\", \"ğŸŸ©\", \"ğŸŸ¦\", \"ğŸŸª\", \"â¬›\", \"â¬œ\", \"ğŸŸ«\",\r\n    \"ğŸ”ˆ\", \"ğŸ”‡\", \"ğŸ”‰\", \"ğŸ”Š\", \"ğŸ””\", \"ğŸ”•\", \"ğŸ“£\", \"ğŸ“¢\", \"ğŸ‘ï¸â€ğŸ—¨ï¸\", \"ğŸ’¬\", \"ğŸ’­\", \"ğŸ—¯ï¸\", \"â™ ï¸\",\r\n    \"â™£ï¸\", \"â™¥ï¸\", \"â™¦ï¸\", \"ğŸƒ\", \"ğŸ´\", \"ğŸ€„\", \"ğŸ•\", \"ğŸ•‘\", \"ğŸ•’\", \"ğŸ•“\", \"ğŸ•”\", \"ğŸ••\", \"ğŸ•–\",\r\n    \"ğŸ•—\", \"ğŸ•˜\", \"ğŸ•™\", \"ğŸ•š\", \"ğŸ•›\", \"ğŸ•œ\", \"ğŸ•\", \"ğŸ•\", \"ğŸ•Ÿ\", \"ğŸ• \", \"ğŸ•¡\", \"ğŸ•¢\", \"ğŸ•£\",\r\n    \"ğŸ•¤\", \"ğŸ•¥\", \"ğŸ•¦\", \"ğŸ•§\"\r\n  ],\r\n  flags: [\r\n    \"ğŸ³ï¸\", \"ğŸ´\", \"ğŸ\", \"ğŸš©\", \"ğŸ³ï¸â€ğŸŒˆ\", \"ğŸ³ï¸â€âš§ï¸\", \"ğŸ´â€â˜ ï¸\", \"ğŸ‡¦ğŸ‡«\", \"ğŸ‡¦ğŸ‡½\", \"ğŸ‡¦ğŸ‡±\", \"ğŸ‡©ğŸ‡¿\",\r\n    \"ğŸ‡¦ğŸ‡¸\", \"ğŸ‡¦ğŸ‡©\", \"ğŸ‡¦ğŸ‡´\", \"ğŸ‡¦ğŸ‡®\", \"ğŸ‡¦ğŸ‡¶\", \"ğŸ‡¦ğŸ‡¬\", \"ğŸ‡¦ğŸ‡·\", \"ğŸ‡¦ğŸ‡²\", \"ğŸ‡¦ğŸ‡¼\", \"ğŸ‡¦ğŸ‡º\", \"ğŸ‡¦ğŸ‡¹\",\r\n    \"ğŸ‡¦ğŸ‡¿\", \"ğŸ‡§ğŸ‡¸\", \"ğŸ‡§ğŸ‡­\", \"ğŸ‡§ğŸ‡©\", \"ğŸ‡§ğŸ‡§\", \"ğŸ‡§ğŸ‡¾\", \"ğŸ‡§ğŸ‡ª\", \"ğŸ‡§ğŸ‡¿\", \"ğŸ‡§ğŸ‡¯\", \"ğŸ‡§ğŸ‡²\", \"ğŸ‡§ğŸ‡¹\",\r\n    \"ğŸ‡§ğŸ‡´\", \"ğŸ‡§ğŸ‡¦\", \"ğŸ‡§ğŸ‡¼\", \"ğŸ‡§ğŸ‡·\", \"ğŸ‡®ğŸ‡´\", \"ğŸ‡»ğŸ‡¬\", \"ğŸ‡§ğŸ‡³\", \"ğŸ‡§ğŸ‡¬\", \"ğŸ‡§ğŸ‡«\", \"ğŸ‡§ğŸ‡®\", \"ğŸ‡°ğŸ‡­\",\r\n    \"ğŸ‡¨ğŸ‡²\", \"ğŸ‡¨ğŸ‡¦\", \"ğŸ‡®ğŸ‡¨\", \"ğŸ‡¨ğŸ‡»\", \"ğŸ‡§ğŸ‡¶\", \"ğŸ‡°ğŸ‡¾\", \"ğŸ‡¨ğŸ‡«\", \"ğŸ‡¹ğŸ‡©\", \"ğŸ‡¨ğŸ‡±\", \"ğŸ‡¨ğŸ‡³\", \"ğŸ‡¨ğŸ‡½\",\r\n    \"ğŸ‡¨ğŸ‡¨\", \"ğŸ‡¨ğŸ‡´\", \"ğŸ‡°ğŸ‡²\", \"ğŸ‡¨ğŸ‡¬\", \"ğŸ‡¨ğŸ‡©\", \"ğŸ‡¨ğŸ‡°\", \"ğŸ‡¨ğŸ‡·\", \"ğŸ‡¨ğŸ‡®\", \"ğŸ‡­ğŸ‡·\", \"ğŸ‡¨ğŸ‡º\", \"ğŸ‡¨ğŸ‡¼\",\r\n    \"ğŸ‡¨ğŸ‡¾\", \"ğŸ‡¨ğŸ‡¿\", \"ğŸ‡©ğŸ‡°\", \"ğŸ‡©ğŸ‡¯\", \"ğŸ‡©ğŸ‡²\", \"ğŸ‡©ğŸ‡´\", \"ğŸ‡ªğŸ‡¨\", \"ğŸ‡ªğŸ‡¬\", \"ğŸ‡¸ğŸ‡»\", \"ğŸ‡¬ğŸ‡¶\", \"ğŸ‡ªğŸ‡·\",\r\n    \"ğŸ‡ªğŸ‡ª\", \"ğŸ‡¸ğŸ‡¿\", \"ğŸ‡ªğŸ‡¹\", \"ğŸ‡ªğŸ‡º\", \"ğŸ‡«ğŸ‡°\", \"ğŸ‡«ğŸ‡´\", \"ğŸ‡«ğŸ‡¯\", \"ğŸ‡«ğŸ‡®\", \"ğŸ‡«ğŸ‡·\", \"ğŸ‡¬ğŸ‡«\", \"ğŸ‡µğŸ‡«\",\r\n    \"ğŸ‡¹ğŸ‡«\", \"ğŸ‡¬ğŸ‡¦\", \"ğŸ‡¬ğŸ‡²\", \"ğŸ‡¬ğŸ‡ª\", \"ğŸ‡©ğŸ‡ª\", \"ğŸ‡¬ğŸ‡­\", \"ğŸ‡¬ğŸ‡®\", \"ğŸ‡¬ğŸ‡·\", \"ğŸ‡¬ğŸ‡±\", \"ğŸ‡¬ğŸ‡©\", \"ğŸ‡¬ğŸ‡µ\",\r\n    \"ğŸ‡¬ğŸ‡º\", \"ğŸ‡¬ğŸ‡¹\", \"ğŸ‡¬ğŸ‡¬\", \"ğŸ‡¬ğŸ‡³\", \"ğŸ‡¬ğŸ‡¼\", \"ğŸ‡¬ğŸ‡¾\", \"ğŸ‡­ğŸ‡¹\", \"ğŸ‡­ğŸ‡³\", \"ğŸ‡­ğŸ‡°\", \"ğŸ‡­ğŸ‡º\", \"ğŸ‡®ğŸ‡¸\",\r\n    \"ğŸ‡®ğŸ‡³\", \"ğŸ‡®ğŸ‡©\", \"ğŸ‡®ğŸ‡·\", \"ğŸ‡®ğŸ‡¶\", \"ğŸ‡®ğŸ‡ª\", \"ğŸ‡®ğŸ‡²\", \"ğŸ‡®ğŸ‡±\", \"ğŸ‡®ğŸ‡¹\", \"ğŸ‡¯ğŸ‡²\", \"ğŸ‡¯ğŸ‡µ\", \"ğŸŒ\", \"ğŸ‡¯ğŸ‡ª\",\r\n    \"ğŸ‡¯ğŸ‡´\", \"ğŸ‡°ğŸ‡¿\", \"ğŸ‡°ğŸ‡ª\", \"ğŸ‡°ğŸ‡®\", \"ğŸ‡½ğŸ‡°\", \"ğŸ‡°ğŸ‡¼\", \"ğŸ‡°ğŸ‡¬\", \"ğŸ‡±ğŸ‡¦\", \"ğŸ‡±ğŸ‡»\", \"ğŸ‡±ğŸ‡§\", \"ğŸ‡±ğŸ‡¸\",\r\n    \"ğŸ‡±ğŸ‡·\", \"ğŸ‡±ğŸ‡¾\", \"ğŸ‡±ğŸ‡®\", \"ğŸ‡±ğŸ‡¹\", \"ğŸ‡±ğŸ‡º\", \"ğŸ‡²ğŸ‡´\", \"ğŸ‡²ğŸ‡¬\", \"ğŸ‡²ğŸ‡¼\", \"ğŸ‡²ğŸ‡¾\", \"ğŸ‡²ğŸ‡»\", \"ğŸ‡²ğŸ‡±\",\r\n    \"ğŸ‡²ğŸ‡¹\", \"ğŸ‡²ğŸ‡­\", \"ğŸ‡²ğŸ‡¶\", \"ğŸ‡²ğŸ‡·\", \"ğŸ‡²ğŸ‡º\", \"ğŸ‡¾ğŸ‡¹\", \"ğŸ‡²ğŸ‡½\", \"ğŸ‡«ğŸ‡²\", \"ğŸ‡²ğŸ‡©\", \"ğŸ‡²ğŸ‡¨\", \"ğŸ‡²ğŸ‡³\",\r\n    \"ğŸ‡²ğŸ‡ª\", \"ğŸ‡²ğŸ‡¸\", \"ğŸ‡²ğŸ‡¦\", \"ğŸ‡²ğŸ‡¿\", \"ğŸ‡²ğŸ‡²\", \"ğŸ‡³ğŸ‡¦\", \"ğŸ‡³ğŸ‡·\", \"ğŸ‡³ğŸ‡µ\", \"ğŸ‡³ğŸ‡±\", \"ğŸ‡³ğŸ‡¨\", \"ğŸ‡³ğŸ‡¿\",\r\n    \"ğŸ‡³ğŸ‡®\", \"ğŸ‡³ğŸ‡ª\", \"ğŸ‡³ğŸ‡¬\", \"ğŸ‡³ğŸ‡º\", \"ğŸ‡³ğŸ‡«\", \"ğŸ‡°ğŸ‡µ\", \"ğŸ‡²ğŸ‡°\", \"ğŸ‡²ğŸ‡µ\", \"ğŸ‡³ğŸ‡´\", \"ğŸ‡´ğŸ‡²\", \"ğŸ‡µğŸ‡°\",\r\n    \"ğŸ‡µğŸ‡¼\", \"ğŸ‡µğŸ‡¸\", \"ğŸ‡µğŸ‡¦\", \"ğŸ‡µğŸ‡¬\", \"ğŸ‡µğŸ‡¾\", \"ğŸ‡µğŸ‡ª\", \"ğŸ‡µğŸ‡­\", \"ğŸ‡µğŸ‡³\", \"ğŸ‡µğŸ‡±\", \"ğŸ‡µğŸ‡¹\", \"ğŸ‡µğŸ‡·\",\r\n    \"ğŸ‡¶ğŸ‡¦\", \"ğŸ‡·ğŸ‡ª\", \"ğŸ‡·ğŸ‡´\", \"ğŸ‡·ğŸ‡º\", \"ğŸ‡·ğŸ‡¼\", \"ğŸ‡¼ğŸ‡¸\", \"ğŸ‡¸ğŸ‡²\", \"ğŸ‡¸ğŸ‡¹\", \"ğŸ‡¸ğŸ‡¦\", \"ğŸ‡¸ğŸ‡³\", \"ğŸ‡·ğŸ‡¸\",\r\n    \"ğŸ‡¸ğŸ‡¨\", \"ğŸ‡¸ğŸ‡±\", \"ğŸ‡¸ğŸ‡¬\", \"ğŸ‡¸ğŸ‡½\", \"ğŸ‡¸ğŸ‡°\", \"ğŸ‡¸ğŸ‡®\", \"ğŸ‡¬ğŸ‡¸\", \"ğŸ‡¸ğŸ‡§\", \"ğŸ‡¸ğŸ‡´\", \"ğŸ‡¿ğŸ‡¦\", \"ğŸ‡°ğŸ‡·\",\r\n    \"ğŸ‡¸ğŸ‡¸\", \"ğŸ‡ªğŸ‡¸\", \"ğŸ‡±ğŸ‡°\", \"ğŸ‡§ğŸ‡±\", \"ğŸ‡¸ğŸ‡­\", \"ğŸ‡°ğŸ‡³\", \"ğŸ‡±ğŸ‡¨\", \"ğŸ‡µğŸ‡²\", \"ğŸ‡»ğŸ‡¨\", \"ğŸ‡¸ğŸ‡©\", \"ğŸ‡¸ğŸ‡·\",\r\n    \"ğŸ‡¸ğŸ‡ª\", \"ğŸ‡¨ğŸ‡­\", \"ğŸ‡¸ğŸ‡¾\", \"ğŸ‡¹ğŸ‡¼\", \"ğŸ‡¹ğŸ‡¯\", \"ğŸ‡¹ğŸ‡¿\", \"ğŸ‡¹ğŸ‡­\", \"ğŸ‡¹ğŸ‡±\", \"ğŸ‡¹ğŸ‡¬\", \"ğŸ‡¹ğŸ‡°\", \"ğŸ‡¹ğŸ‡´\",\r\n    \"ğŸ‡¹ğŸ‡¹\", \"ğŸ‡¹ğŸ‡³\", \"ğŸ‡¹ğŸ‡·\", \"ğŸ‡¹ğŸ‡²\", \"ğŸ‡¹ğŸ‡¨\", \"ğŸ‡¹ğŸ‡»\", \"ğŸ‡»ğŸ‡®\", \"ğŸ‡ºğŸ‡¬\", \"ğŸ‡ºğŸ‡¦\", \"ğŸ‡¦ğŸ‡ª\", \"ğŸ‡¬ğŸ‡§\",\r\n    \"ğŸ´ó §ó ¢ó ¥ó ®ó §ó ¿\", \"ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿\", \"ğŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿\", \"ğŸ‡ºğŸ‡¸\", \"ğŸ‡ºğŸ‡¾\", \"ğŸ‡ºğŸ‡¿\", \"ğŸ‡»ğŸ‡º\", \"ğŸ‡»ğŸ‡¦\", \"ğŸ‡»ğŸ‡ª\",\r\n    \"ğŸ‡»ğŸ‡³\", \"ğŸ‡¼ğŸ‡«\", \"ğŸ‡ªğŸ‡­\", \"ğŸ‡¾ğŸ‡ª\", \"ğŸ‡¿ğŸ‡²\", \"ğŸ‡¿ğŸ‡¼\"\r\n  ],\r\n};\r\nexport const MESSAGE_STATUS = {\r\n  SENT: 'sent',\r\n  DELIVERED: 'delivered',\r\n  READ: 'read'\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2089, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/MessageStatus.jsx"],"sourcesContent":["// components/ChatScreen/components/MessageStatus.jsx\r\n\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport DoneIcon from \"@mui/icons-material/Done\";\r\nimport DoneAllIcon from \"@mui/icons-material/DoneAll\";\r\nimport AccessTimeIcon from \"@mui/icons-material/AccessTime\";\r\nimport { MESSAGE_STATUS } from \"../constants\";\r\n\r\nfunction MessageStatus({ status, darkMode }) {\r\n  if (!status || status === MESSAGE_STATUS.SENT) {\r\n    // Single gray checkmark for sent\r\n    return (\r\n      <StatusIcon darkMode={darkMode}>\r\n        <DoneIcon style={{ fontSize: 16 }} />\r\n      </StatusIcon>\r\n    );\r\n  }\r\n\r\n  if (status === MESSAGE_STATUS.DELIVERED) {\r\n    // Double gray checkmarks for delivered\r\n    return (\r\n      <StatusIcon darkMode={darkMode}>\r\n        <DoneAllIcon style={{ fontSize: 16 }} />\r\n      </StatusIcon>\r\n    );\r\n  }\r\n\r\n  if (status === MESSAGE_STATUS.READ) {\r\n    // Double blue checkmarks for read\r\n    return (\r\n      <StatusIcon darkMode={darkMode} isRead={true}>\r\n        <DoneAllIcon style={{ fontSize: 16 }} />\r\n      </StatusIcon>\r\n    );\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport default MessageStatus;\r\n\r\nconst StatusIcon = styled.span`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  color: ${props => props.isRead ? '#53bdeb' : (props.darkMode ? '#8696a0' : '#667781')};\r\n  margin-left: 4px;\r\n`;\r\n\r\n// Styled Components\r\nconst StatusContainer = styled.span`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  margin-left: 4px;\r\n  vertical-align: middle;\r\n`;\r\n\r\nconst SingleCheck = styled(DoneIcon)`\r\n  font-size: 16px !important;\r\n  color: ${props => props.darkMode ? '#8696a0' : '#667781'};\r\n`;\r\n\r\nconst DoubleCheckGray = styled(DoneAllIcon)`\r\n  font-size: 16px !important;\r\n  color: ${props => props.darkMode ? '#8696a0' : '#667781'};\r\n`;\r\n\r\nconst DoubleCheckBlue = styled(DoneAllIcon)`\r\n  font-size: 16px !important;\r\n  color: #53bdeb;\r\n`;\r\n\r\nconst PendingIcon = styled(AccessTimeIcon)`\r\n  font-size: 14px !important;\r\n  color: ${props => props.darkMode ? '#8696a0' : '#667781'};\r\n  opacity: 0.6;\r\n`;"],"names":[],"mappings":"AAAA,qDAAqD;;;;;;AAErD;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAEA,SAAS,cAAc,EAAE,MAAM,EAAE,QAAQ,EAAE;IACzC,IAAI,CAAC,UAAU,WAAW,mJAAc,CAAC,IAAI,EAAE;QAC7C,iCAAiC;QACjC,qBACE,0JAAC;YAAW,UAAU;sBACpB,cAAA,0JAAC,yJAAQ;gBAAC,OAAO;oBAAE,UAAU;gBAAG;;;;;;;;;;;IAGtC;IAEA,IAAI,WAAW,mJAAc,CAAC,SAAS,EAAE;QACvC,uCAAuC;QACvC,qBACE,0JAAC;YAAW,UAAU;sBACpB,cAAA,0JAAC,4JAAW;gBAAC,OAAO;oBAAE,UAAU;gBAAG;;;;;;;;;;;IAGzC;IAEA,IAAI,WAAW,mJAAc,CAAC,IAAI,EAAE;QAClC,kCAAkC;QAClC,qBACE,0JAAC;YAAW,UAAU;YAAU,QAAQ;sBACtC,cAAA,0JAAC,4JAAW;gBAAC,OAAO;oBAAE,UAAU;gBAAG;;;;;;;;;;;IAGzC;IAEA,OAAO;AACT;KA7BS;uCA+BM;AAEf,MAAM,aAAa,6LAAM,CAAC,IAAI,CAAC;;;SAGtB,EAAE,CAAA,QAAS,MAAM,MAAM,GAAG,YAAa,MAAM,QAAQ,GAAG,YAAY,UAAW;;AAExF,CAAC;MALK;AAON,oBAAoB;AACpB,MAAM,kBAAkB,6LAAM,CAAC,IAAI,CAAC;;;;;AAKpC,CAAC;AAED,MAAM,cAAc,IAAA,6LAAM,EAAC,yJAAQ,CAAC,CAAC;;SAE5B,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,UAAU;AAC3D,CAAC;AAED,MAAM,kBAAkB,IAAA,6LAAM,EAAC,4JAAW,CAAC,CAAC;;SAEnC,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,UAAU;AAC3D,CAAC;AAED,MAAM,kBAAkB,IAAA,6LAAM,EAAC,4JAAW,CAAC,CAAC;;;AAG5C,CAAC;AAED,MAAM,cAAc,IAAA,6LAAM,EAAC,+JAAc,CAAC,CAAC;;SAElC,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,UAAU;;AAE3D,CAAC","debugId":null}},
    {"offset": {"line": 2212, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/DarkModeProvider.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const DarkModeContext = createContext();\r\n\r\nexport const DarkModeProvider = ({ children }) => {\r\n  const [darkMode, setDarkMode] = useState(() => {\r\n    // Get saved preference from localStorage\r\n    if (typeof window !== \"undefined\") {\r\n      const saved = localStorage.getItem(\"darkMode\");\r\n      return saved === \"true\";\r\n    }\r\n    return false;\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Save preference to localStorage\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.setItem(\"darkMode\", darkMode);\r\n    }\r\n  }, [darkMode]);\r\n\r\n  const toggleDarkMode = () => {\r\n    setDarkMode((prev) => !prev);\r\n  };\r\n\r\n  return (\r\n    <DarkModeContext.Provider value={{ darkMode, toggleDarkMode }}>\r\n      {children}\r\n    </DarkModeContext.Provider>\r\n  );\r\n};"],"names":[],"mappings":";;;;;;;AAAA;;;;AAEO,MAAM,gCAAkB,IAAA,2IAAa;AAErC,MAAM,mBAAmB,CAAC,EAAE,QAAQ,EAAE;;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,sIAAQ;qCAAC;YACvC,yCAAyC;YACzC,wCAAmC;gBACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;gBACnC,OAAO,UAAU;YACnB;;;QAEF;;IAEA,IAAA,uIAAS;sCAAC;YACR,kCAAkC;YAClC,wCAAmC;gBACjC,aAAa,OAAO,CAAC,YAAY;YACnC;QACF;qCAAG;QAAC;KAAS;IAEb,MAAM,iBAAiB;QACrB,YAAY,CAAC,OAAS,CAAC;IACzB;IAEA,qBACE,0JAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAU;QAAe;kBACzD;;;;;;AAGP;GA1Ba;KAAA","debugId":null}},
    {"offset": {"line": 2273, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/Chat.js"],"sourcesContent":["// components/Chat.jsx\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Avatar } from \"@mui/material\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { auth, db } from \"../firebase\";\r\nimport getRecipientEmail from \"../utils/getRecipientEmail\";\r\nimport { useRouter } from \"next/router\";\r\nimport { \r\n  collection, \r\n  query, \r\n  where, \r\n  orderBy, \r\n  limit,\r\n  onSnapshot \r\n} from \"firebase/firestore\";\r\nimport { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport MessageStatus from \"./ChatScreen/components/MessageStatus\";\r\nimport { MESSAGE_STATUS } from \"./ChatScreen/constants\";\r\nimport { DarkModeContext } from \"./DarkModeProvider\";\r\n\r\nfunction Chat({ id, users, latestMessage: propLatestMessage }) {\r\n  const router = useRouter();\r\n  const [user] = useAuthState(auth);\r\n  const [latestMessage, setLatestMessage] = useState(propLatestMessage || null);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n\r\n  // Get dark mode context\r\n  const darkModeContext = useContext(DarkModeContext);\r\n  const { darkMode } = darkModeContext || { darkMode: false };\r\n\r\nconst recipientEmail = getRecipientEmail(users, user);\r\nconst isSelfChat = users?.length === 2 && \r\n                   users.every(email => email?.toLowerCase() === user?.email?.toLowerCase());\r\n  // Get recipient info - only query if recipientEmail exists\r\n  const recipientQuery = recipientEmail\r\n    ? query(collection(db, \"users\"), where(\"email\", \"==\", recipientEmail))\r\n    : null;\r\n  const [recipientSnapshot] = useCollection(recipientQuery);\r\n  const recipient = recipientSnapshot?.docs?.[0]?.data();\r\n\r\n  // Real-time listener for latest message and unread count\r\n  useEffect(() => {\r\n    // Exit early if required data is missing\r\n    if (!id || !user || !recipientEmail) {\r\n      console.log(\"Missing required data for Chat:\", { id, user: !!user, recipientEmail });\r\n      return;\r\n    }\r\n\r\n    // Real-time listener for latest message\r\n    const messagesRef = collection(db, \"chats\", id, \"messages\");\r\n    const q = query(messagesRef, orderBy(\"timestamp\", \"desc\"), limit(1));\r\n    \r\n    const unsubscribeMessages = onSnapshot(\r\n      q, \r\n      (snapshot) => {\r\n        if (!snapshot.empty) {\r\n          const messageData = snapshot.docs[0].data();\r\n          setLatestMessage({\r\n            id: snapshot.docs[0].id,\r\n            ...messageData,\r\n            timestamp: messageData.timestamp?.toMillis(),\r\n          });\r\n        } else {\r\n          setLatestMessage(null);\r\n        }\r\n      }, \r\n      (error) => {\r\n        console.error(\"Error listening to messages:\", error);\r\n      }\r\n    );\r\n\r\n    // Real-time listener for unread count (skip for self-chat)\r\n    let unsubscribeUnread = () => {};\r\n    \r\n    if (!isSelfChat && recipientEmail) {\r\n      const unreadQuery = query(\r\n        messagesRef,\r\n        where(\"user\", \"==\", recipientEmail),\r\n        where(\"status\", \"in\", [MESSAGE_STATUS.SENT, MESSAGE_STATUS.DELIVERED])\r\n      );\r\n      \r\n      unsubscribeUnread = onSnapshot(\r\n        unreadQuery, \r\n        (snapshot) => {\r\n          setUnreadCount(snapshot.docs.length);\r\n        }, \r\n        (error) => {\r\n          console.error(\"Error listening to unread count:\", error);\r\n          setUnreadCount(0);\r\n        }\r\n      );\r\n    }\r\n\r\n    return () => {<RecipientName darkMode={darkMode}>\r\n  {isSelfChat ? `${user.displayName || user.email} (You)` : recipientEmail}\r\n</RecipientName>\r\n      unsubscribeMessages();\r\n      unsubscribeUnread();\r\n    };\r\n  }, [id, user, recipientEmail, isSelfChat]);\r\n\r\n  const enterChat = () => {\r\n    router.push(`/chat/${id}`);\r\n  };\r\n\r\n  // Format timestamp\r\n  const formatTimestamp = (timestamp) => {\r\n    if (!timestamp) return \"\";\r\n    \r\n    const messageDate = new Date(timestamp);\r\n    const today = new Date();\r\n    const yesterday = new Date(today);\r\n    yesterday.setDate(yesterday.getDate() - 1);\r\n\r\n    // Check if today\r\n    if (messageDate.toDateString() === today.toDateString()) {\r\n      return messageDate.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    }\r\n    \r\n    // Check if yesterday\r\n    if (messageDate.toDateString() === yesterday.toDateString()) {\r\n      return \"Yesterday\";\r\n    }\r\n    \r\n    // Check if within this week\r\n    const weekAgo = new Date(today);\r\n    weekAgo.setDate(weekAgo.getDate() - 7);\r\n    if (messageDate > weekAgo) {\r\n      return messageDate.toLocaleDateString([], { weekday: 'short' });\r\n    }\r\n    \r\n    // Older messages\r\n    return messageDate.toLocaleDateString([], { month: 'short', day: 'numeric' });\r\n  };\r\n\r\n  // Truncate message\r\n  const truncateMessage = (message, maxLength = 35) => {\r\n    if (!message) return \"\";\r\n    if (message.length <= maxLength) return message;\r\n    return message.substring(0, maxLength) + \"...\";\r\n  };\r\n\r\n  // Get preview text for the message\r\n  const getMessagePreview = () => {\r\n    if (!latestMessage) return \"No messages yet\";\r\n\r\n    // Voice message\r\n    if (latestMessage.voiceURL) {\r\n      return \"ğŸ¤ Voice message\";\r\n    }\r\n\r\n    // File attachment\r\n    if (latestMessage.fileURL) {\r\n      if (latestMessage.fileType?.startsWith('image/')) {\r\n        return \"ğŸ“· Photo\";\r\n      }\r\n      if (latestMessage.fileType?.startsWith('video/')) {\r\n        return \"ğŸ¥ Video\";\r\n      }\r\n      if (latestMessage.fileType?.startsWith('audio/')) {\r\n        return \"ğŸµ Audio\";\r\n      }\r\n      return `ğŸ“ ${truncateMessage(latestMessage.fileName || 'File', 25)}`;\r\n    }\r\n\r\n    // Regular text message\r\n    return truncateMessage(latestMessage.message);\r\n  };\r\n\r\n  const isOwnMessage = latestMessage?.user === user?.email;\r\n  const hasUnread = unreadCount > 0 && !isOwnMessage;\r\n\r\n  // Don't render if missing essential data\r\n  if (!recipientEmail) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Container onClick={enterChat} darkMode={darkMode}>\r\n      {recipient ? (\r\n        <UserAvatar src={recipient?.photoURL} />\r\n      ) : (\r\n        <UserAvatar>{recipientEmail?.[0]?.toUpperCase()}</UserAvatar>\r\n      )}\r\n      <ChatContent>\r\n        <ChatHeader>\r\n          <RecipientName darkMode={darkMode}>\r\n            {isSelfChat ? `${recipientEmail} (You)` : recipientEmail}\r\n          </RecipientName>\r\n          {latestMessage && (\r\n            <MessageTime darkMode={darkMode}>\r\n              {formatTimestamp(latestMessage.timestamp)}\r\n            </MessageTime>\r\n          )}\r\n        </ChatHeader>\r\n        <LastMessageContainer>\r\n          <LastMessage isOwnMessage={isOwnMessage}>\r\n            {isOwnMessage && latestMessage && (\r\n              <StatusWrapper>\r\n                <MessageStatus \r\n                  status={latestMessage.status || MESSAGE_STATUS.SENT}\r\n                  darkMode={darkMode}\r\n                />\r\n              </StatusWrapper>\r\n            )}\r\n            <MessageText hasUnread={hasUnread} darkMode={darkMode}>\r\n              {getMessagePreview()}\r\n            </MessageText>\r\n          </LastMessage>\r\n          {hasUnread && (\r\n            <UnreadBadge darkMode={darkMode}>{unreadCount}</UnreadBadge>\r\n          )}\r\n        </LastMessageContainer>\r\n      </ChatContent>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n\r\n// Styled Components\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  padding: 15px;\r\n  word-break: break-word;\r\n  transition: background-color 0.2s;\r\n\r\n  :hover {\r\n    background-color: ${props => props.darkMode ? '#2a2a2a' : '#f5f5f5'};\r\n  }\r\n`;\r\n\r\nconst UserAvatar = styled(Avatar)`\r\n  margin: 5px;\r\n  margin-right: 15px;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst ChatContent = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  min-width: 0;\r\n`;\r\n\r\nconst ChatHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 4px;\r\n`;\r\n\r\nconst RecipientName = styled.p`\r\n  margin: 0;\r\n  font-weight: 600;\r\n  font-size: 15px;\r\n  color: ${props => props.darkMode ? '#e0e0e0' : '#000'};\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  flex: 1;\r\n`;\r\n\r\nconst MessageTime = styled.span`\r\n  font-size: 12px;\r\n  color: ${props => props.darkMode ? '#8696a0' : '#667781'};\r\n  margin-left: 8px;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst LastMessageContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 8px;\r\n`;\r\n\r\nconst LastMessage = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  flex: 1;\r\n  min-width: 0;\r\n`;\r\n\r\nconst StatusWrapper = styled.span`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst MessageText = styled.span`\r\n  font-size: 14px;\r\n  color: ${props => {\r\n    if (props.hasUnread) {\r\n      return props.darkMode ? '#e0e0e0' : '#000';\r\n    }\r\n    return props.darkMode ? '#8696a0' : '#667781';\r\n  }};\r\n  font-weight: ${props => props.hasUnread ? '600' : '400'};\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  flex: 1;\r\n`;\r\n\r\nconst UnreadBadge = styled.div`\r\n  background-color: ${props => props.darkMode ? '#00a884' : '#25d366'};\r\n  color: white;\r\n  border-radius: 50%;\r\n  min-width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  padding: 0 6px;\r\n  flex-shrink: 0;\r\n`;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2704, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/Sidebar.js"],"sourcesContent":["// components/Sidebar.jsx\r\nimport React, { useState, useContext, useEffect } from \"react\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { auth, db } from \"../firebase\";\r\nimport styled from \"styled-components\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Button from \"@mui/material/Button\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport ChatIcon from \"@mui/icons-material/Chat\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport Chat from \"./Chat\";\r\nimport { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport * as EmailValidator from \"email-validator\";\r\nimport { \r\n  collection, \r\n  query, \r\n  where, \r\n  addDoc, \r\n  doc, \r\n  updateDoc,\r\n  arrayUnion,\r\n  arrayRemove,\r\n  setDoc,\r\n  orderBy,\r\n  limit,\r\n  getDocs,\r\n} from \"firebase/firestore\";\r\nimport Menu from \"@mui/material/Menu\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport Switch from \"@mui/material/Switch\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport List from \"@mui/material/List\";\r\nimport ListItem from \"@mui/material/ListItem\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport ListItemSecondaryAction from \"@mui/material/ListItemSecondaryAction\";\r\nimport { DarkModeContext } from \"./DarkModeProvider\";\r\n\r\nfunction Sidebar({ isMobile, sidebarOpen, setSidebarOpen }) {\r\n  const [user] = useAuthState(auth);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [headerAnchorEl, setHeaderAnchorEl] = useState(null);\r\n  const [selectedChatId, setSelectedChatId] = useState(null);\r\n  const [selectedChatUsers, setSelectedChatUsers] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [settingsOpen, setSettingsOpen] = useState(false);\r\n  const [aboutOpen, setAboutOpen] = useState(false);\r\n  const [blockedUsersOpen, setBlockedUsersOpen] = useState(false);\r\n  const [chatsList, setChatsList] = useState([]);\r\n  \r\n  // Get dark mode context\r\n  const darkModeContext = useContext(DarkModeContext);\r\n  const { darkMode, toggleDarkMode } = darkModeContext || { darkMode: false, toggleDarkMode: () => {} };\r\n\r\n  const userChatsRef = user\r\n    ? query(\r\n        collection(db, \"chats\"),\r\n        where(\"users\", \"array-contains\", user.email)\r\n      )\r\n    : null;\r\n\r\n  const [chatsSnapshot, loading, error] = useCollection(userChatsRef);\r\n\r\n  // Get current user document to check blocked users\r\n  const userDocRef = user ? doc(db, \"users\", user.uid) : null;\r\n  const [userDocSnapshot] = useCollection(userDocRef ? query(collection(db, \"users\"), where(\"__name__\", \"==\", user.uid)) : null);\r\n  const currentUserData = userDocSnapshot?.docs?.[0]?.data();\r\n  const blockedUsers = currentUserData?.blockedUsers || [];\r\n\r\n  // Sort chats by latest message\r\n  useEffect(() => {\r\n    if (!chatsSnapshot || !user) {\r\n      setChatsList([]);\r\n      return;\r\n    }\r\n\r\n    const loadChatsWithLatestMessage = async () => {\r\n      const chatsWithMessages = await Promise.all(\r\n        chatsSnapshot.docs\r\n          .filter((chat) => {\r\n            const deletedBy = chat.data().deletedBy || [];\r\n            return !deletedBy.includes(user.email);\r\n          })\r\n          .map(async (chat) => {\r\n            try {\r\n              const messagesRef = collection(db, \"chats\", chat.id, \"messages\");\r\n              const q = query(messagesRef, orderBy(\"timestamp\", \"desc\"), limit(1));\r\n              const snapshot = await getDocs(q);\r\n              \r\n              const latestMessage = snapshot.empty \r\n                ? null \r\n                : {\r\n                    ...snapshot.docs[0].data(),\r\n                    timestamp: snapshot.docs[0].data().timestamp?.toMillis() || 0\r\n                  };\r\n\r\n              return {\r\n                id: chat.id,\r\n                data: chat.data(),\r\n                latestMessage,\r\n                latestTimestamp: latestMessage?.timestamp || 0,\r\n              };\r\n            } catch (error) {\r\n              console.error(\"Error loading message for chat:\", chat.id, error);\r\n              return {\r\n                id: chat.id,\r\n                data: chat.data(),\r\n                latestMessage: null,\r\n                latestTimestamp: 0,\r\n              };\r\n            }\r\n          })\r\n      );\r\n\r\n      // Sort by latest message timestamp (newest first)\r\n      const sortedChats = chatsWithMessages.sort((a, b) => {\r\n        return b.latestTimestamp - a.latestTimestamp;\r\n      });\r\n\r\n      setChatsList(sortedChats);\r\n    };\r\n\r\n    loadChatsWithLatestMessage();\r\n  }, [chatsSnapshot, user]);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      console.error(\"Collection error:\", error);\r\n    }\r\n  }, [error]);\r\n\r\n  const chatAlreadyExist = (recipientEmail) => {\r\n    if (!chatsSnapshot) return false;\r\n    \r\n    if (recipientEmail === user.email) {\r\n      return !!chatsSnapshot.docs.find((chat) => {\r\n        const users = chat.data().users;\r\n        return users.length === 2 && users[0] === user.email && users[1] === user.email;\r\n      });\r\n    }\r\n    \r\n    return !!chatsSnapshot.docs.find((chat) => {\r\n      const users = chat.data().users;\r\n      return users.includes(recipientEmail) && users.includes(user.email);\r\n    });\r\n  };\r\n\r\n  const createChat = async () => {\r\n    if (!user) {\r\n      console.error(\"No user logged in\");\r\n      return;\r\n    }\r\n\r\n    const input = prompt(\r\n      \"Please enter an email address for the user you wish to chat with\"\r\n    );\r\n    \r\n    if (!input) {\r\n      return;\r\n    }\r\n\r\n    if (!EmailValidator.validate(input)) {\r\n      alert(\"Please enter a valid email address\");\r\n      return;\r\n    }\r\n\r\n    if (chatAlreadyExist(input)) {\r\n      alert(\"Chat already exists with this user\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await addDoc(collection(db, \"chats\"), {\r\n        users: [user.email, input],\r\n        deletedBy: [],\r\n        createdAt: new Date(),\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error creating chat:\", error);\r\n      alert(`Failed to create chat: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleMenuOpen = (event, chatId, chatUsers) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setSelectedChatId(chatId);\r\n    setSelectedChatUsers(chatUsers);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    setSelectedChatId(null);\r\n    setSelectedChatUsers(null);\r\n  };\r\n\r\n  const handleHeaderMenuOpen = (event) => {\r\n    setHeaderAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleHeaderMenuClose = () => {\r\n    setHeaderAnchorEl(null);\r\n  };\r\n\r\n  const handleSettingsOpen = () => {\r\n    setSettingsOpen(true);\r\n    handleHeaderMenuClose();\r\n  };\r\n\r\n  const handleSettingsClose = () => {\r\n    setSettingsOpen(false);\r\n  };\r\n\r\n  const handleAboutOpen = () => {\r\n    setAboutOpen(true);\r\n    handleHeaderMenuClose();\r\n  };\r\n\r\n  const handleAboutClose = () => {\r\n    setAboutOpen(false);\r\n  };\r\n\r\n  const handleBlockedUsersOpen = () => {\r\n    setBlockedUsersOpen(true);\r\n    handleHeaderMenuClose();\r\n  };\r\n\r\n  const handleBlockedUsersClose = () => {\r\n    setBlockedUsersOpen(false);\r\n  };\r\n\r\n  const deleteChat = async () => {\r\n    if (!selectedChatId || !user) return;\r\n    try {\r\n      const chatRef = doc(db, \"chats\", selectedChatId);\r\n      await updateDoc(chatRef, {\r\n        deletedBy: arrayUnion(user.email),\r\n      });\r\n      handleMenuClose();\r\n      alert(\"Chat deleted\");\r\n    } catch (error) {\r\n      console.error(\"Error deleting chat:\", error);\r\n      alert(\"Failed to delete chat\");\r\n    }\r\n  };\r\n\r\n  const blockUser = async () => {\r\n    if (!selectedChatUsers || !user) return;\r\n    \r\n    const recipientEmail = selectedChatUsers.find((email) => email !== user.email);\r\n    \r\n    if (!recipientEmail || recipientEmail === user.email) {\r\n      alert(\"You cannot block yourself\");\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const userDocRef = doc(db, \"users\", user.uid);\r\n      \r\n      await setDoc(userDocRef, {\r\n        email: user.email,\r\n        blockedUsers: arrayUnion(recipientEmail),\r\n      }, { merge: true });\r\n      \r\n      handleMenuClose();\r\n      alert(`${recipientEmail} has been blocked. They can no longer send you messages.`);\r\n    } catch (error) {\r\n      console.error(\"Error blocking user:\", error);\r\n      alert(\"Failed to block user\");\r\n    }\r\n  };\r\n\r\n  const unblockUser = async (emailToUnblock) => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      const userDocRef = doc(db, \"users\", user.uid);\r\n      \r\n      await updateDoc(userDocRef, {\r\n        blockedUsers: arrayRemove(emailToUnblock),\r\n      });\r\n      \r\n      alert(`${emailToUnblock} has been unblocked`);\r\n    } catch (error) {\r\n      console.error(\"Error unblocking user:\", error);\r\n      alert(\"Failed to unblock user\");\r\n    }\r\n  };\r\n\r\n  const isUserBlocked = () => {\r\n    if (!selectedChatUsers || !user) return false;\r\n    const recipientEmail = selectedChatUsers.find((email) => email !== user.email);\r\n    if (!recipientEmail) return false;\r\n    return blockedUsers.includes(recipientEmail);\r\n  };\r\n\r\n  if (!user) return <Container darkMode={darkMode}>Loading...</Container>;\r\n\r\n  const filteredChats = chatsList.filter((chat) => {\r\n    if (!searchTerm.trim()) return true;\r\n    \r\n    const chatUsers = chat.data.users || [];\r\n    const otherUser = chatUsers.find((email) => email !== user.email);\r\n    \r\n    if (!otherUser) {\r\n      return user.email?.toLowerCase().includes(searchTerm.toLowerCase());\r\n    }\r\n    \r\n    return otherUser?.toLowerCase().includes(searchTerm.toLowerCase());\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {/* Overlay for mobile */}\r\n      {isMobile && sidebarOpen && (\r\n        <Overlay onClick={() => setSidebarOpen(false)} />\r\n      )}\r\n\r\n      <Container \r\n        darkMode={darkMode} \r\n        isMobile={isMobile}\r\n        sidebarOpen={sidebarOpen}\r\n      >\r\n        <Header darkMode={darkMode}>\r\n          <UserAvatar onClick={() => auth.signOut()} src={user.photoURL} />\r\n          <IconsContainer>\r\n            <IconButton>\r\n              <ChatIcon />\r\n            </IconButton>\r\n            <IconButton onClick={handleHeaderMenuOpen}>\r\n              <MoreVertIcon />\r\n            </IconButton>\r\n            {isMobile && (\r\n              <IconButton onClick={() => setSidebarOpen(false)}>\r\n                <CloseIcon />\r\n              </IconButton>\r\n            )}\r\n          </IconsContainer>\r\n        </Header>\r\n\r\n        <Search darkMode={darkMode}>\r\n          <SearchIcon />\r\n          <SearchInput \r\n            darkMode={darkMode}\r\n            placeholder=\"Search in chats\" \r\n            type=\"text\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n        </Search>\r\n\r\n        <SidebarButton onClick={createChat} disabled={loading}>\r\n          Start a new chat\r\n        </SidebarButton>\r\n\r\n        {loading ? (\r\n          <LoadingContainer darkMode={darkMode}>\r\n            <Typography>Loading chats...</Typography>\r\n          </LoadingContainer>\r\n        ) : (\r\n          filteredChats.map((chat) => (\r\n            <ChatWrapper key={chat.id} darkMode={darkMode}>\r\n              <Chat \r\n                id={chat.id} \r\n                users={chat.data.users} \r\n                latestMessage={chat.latestMessage}\r\n              />\r\n              <OptionsButton\r\n                onClick={(e) => handleMenuOpen(e, chat.id, chat.data.users)}\r\n              >\r\n                <MoreVertIcon fontSize=\"small\" />\r\n              </OptionsButton>\r\n            </ChatWrapper>\r\n          ))\r\n        )}\r\n\r\n        {/* All your existing menus and dialogs remain the same */}\r\n        <Menu\r\n          anchorEl={headerAnchorEl}\r\n          open={Boolean(headerAnchorEl)}\r\n          onClose={handleHeaderMenuClose}\r\n          PaperProps={{\r\n            style: {\r\n              backgroundColor: darkMode ? '#2a2a2a' : 'white',\r\n              color: darkMode ? '#e0e0e0' : 'black',\r\n            },\r\n          }}\r\n        >\r\n          <MenuItem onClick={handleSettingsOpen}>Settings</MenuItem>\r\n          <MenuItem onClick={handleBlockedUsersOpen}>Blocked Users</MenuItem>\r\n          <MenuItem onClick={handleAboutOpen}>About</MenuItem>\r\n        </Menu>\r\n\r\n        <Menu\r\n          anchorEl={anchorEl}\r\n          open={Boolean(anchorEl)}\r\n          onClose={handleMenuClose}\r\n          PaperProps={{\r\n            style: {\r\n              backgroundColor: darkMode ? '#2a2a2a' : 'white',\r\n              color: darkMode ? '#e0e0e0' : 'black',\r\n            },\r\n          }}\r\n        >\r\n          {selectedChatUsers && selectedChatUsers.find((email) => email !== user.email) && (\r\n            <>\r\n              {isUserBlocked() ? (\r\n                <MenuItem onClick={() => {\r\n                  const recipientEmail = selectedChatUsers.find((email) => email !== user.email);\r\n                  unblockUser(recipientEmail);\r\n                  handleMenuClose();\r\n                }}>\r\n                  Unblock User\r\n                </MenuItem>\r\n              ) : (\r\n                <MenuItem onClick={blockUser}>Block User</MenuItem>\r\n              )}\r\n            </>\r\n          )}\r\n          <MenuItem onClick={deleteChat}>Delete Chat</MenuItem>\r\n        </Menu>\r\n\r\n        <Dialog \r\n          open={settingsOpen} \r\n          onClose={handleSettingsClose} \r\n          maxWidth=\"sm\" \r\n          fullWidth\r\n          PaperProps={{\r\n            style: {\r\n              backgroundColor: darkMode ? '#1e1e1e' : 'white',\r\n              color: darkMode ? '#e0e0e0' : 'black',\r\n            },\r\n          }}\r\n        >\r\n          <DialogTitle>Settings</DialogTitle>\r\n          <DialogContent>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={darkMode}\r\n                  onChange={toggleDarkMode}\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label=\"Dark Mode\"\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={handleSettingsClose}>Close</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog \r\n          open={blockedUsersOpen} \r\n          onClose={handleBlockedUsersClose} \r\n          maxWidth=\"sm\" \r\n          fullWidth\r\n          PaperProps={{\r\n            style: {\r\n              backgroundColor: darkMode ? '#1e1e1e' : 'white',\r\n              color: darkMode ? '#e0e0e0' : 'black',\r\n            },\r\n          }}\r\n        >\r\n          <DialogTitle>Blocked Users</DialogTitle>\r\n          <DialogContent>\r\n            {blockedUsers.length === 0 ? (\r\n              <Typography variant=\"body2\" color=\"textSecondary\">\r\n                No blocked users\r\n              </Typography>\r\n            ) : (\r\n              <List>\r\n                {blockedUsers.map((blockedEmail) => (\r\n                  <ListItem key={blockedEmail}>\r\n                    <ListItemText \r\n                      primary={blockedEmail}\r\n                      primaryTypographyProps={{\r\n                        style: { color: darkMode ? '#e0e0e0' : 'black' }\r\n                      }}\r\n                    />\r\n                    <ListItemSecondaryAction>\r\n                      <Button \r\n                        variant=\"outlined\" \r\n                        size=\"small\"\r\n                        onClick={() => unblockUser(blockedEmail)}\r\n                      >\r\n                        Unblock\r\n                      </Button>\r\n                    </ListItemSecondaryAction>\r\n                  </ListItem>\r\n                ))}\r\n              </List>\r\n            )}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={handleBlockedUsersClose}>Close</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog \r\n          open={aboutOpen} \r\n          onClose={handleAboutClose} \r\n          maxWidth=\"sm\" \r\n          fullWidth\r\n          PaperProps={{\r\n            style: {\r\n              backgroundColor: darkMode ? '#1e1e1e' : 'white',\r\n              color: darkMode ? '#e0e0e0' : 'black',\r\n            },\r\n          }}\r\n        >\r\n          <DialogTitle>About</DialogTitle>\r\n          <DialogContent>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Chat Application\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              Version: 1.0.0\r\n            </Typography>\r\n            <Typography variant=\"body2\" paragraph>\r\n              A real-time messaging application built with React and Firebase.\r\n              Connect with friends and family through instant messaging.\r\n            </Typography>\r\n            <Typography variant=\"body2\" paragraph>\r\n              <strong>Features:</strong>\r\n            </Typography>\r\n            <Typography variant=\"body2\" component=\"div\">\r\n              <ul>\r\n                <li>Real-time messaging</li>\r\n                <li>User authentication</li>\r\n                <li>Search chats</li>\r\n                <li>Block/Unblock users</li>\r\n                <li>Delete conversations</li>\r\n                <li>Dark mode support</li>\r\n                <li>Chat with yourself (like WhatsApp)</li>\r\n                <li>Sorted by latest message</li>\r\n                <li>File sharing support</li>\r\n                <li>Voice messages</li>\r\n              </ul>\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"textSecondary\" style={{ marginTop: 20 }}>\r\n              Â© 2024 Chat App. All rights reserved.\r\n            </Typography>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={handleAboutClose}>Close</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Sidebar;\r\n\r\n// Updated Styled Components with responsive design\r\nconst Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  z-index: 998;\r\n  \r\n  @media (min-width: 1025px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  flex: 0.45;\r\n  border-right: 1px solid ${props => props.darkMode ? '#333' : 'whitesmoke'};\r\n  height: 100vh;\r\n  min-width: 300px;\r\n  max-width: 350px;\r\n  overflow-y: scroll;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : 'white'};\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n\r\n  ::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n\r\n  /* Mobile and Tablet Responsive */\r\n  @media (max-width: 1024px) {\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    z-index: 999;\r\n    max-width: 85%;\r\n    width: 85%;\r\n    transform: ${props => props.sidebarOpen ? 'translateX(0)' : 'translateX(-100%)'};\r\n    transition: transform 0.3s ease-in-out;\r\n    box-shadow: ${props => props.sidebarOpen ? '2px 0 10px rgba(0,0,0,0.3)' : 'none'};\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    max-width: 90%;\r\n    width: 90%;\r\n  }\r\n`;\r\n\r\nconst UserAvatar = styled(Avatar)`\r\n  cursor: pointer;\r\n\r\n  :hover {\r\n    opacity: 0.8;\r\n  }\r\n`;\r\n\r\nconst SidebarButton = styled(Button)`\r\n  width: 100%;\r\n  &&& {\r\n    border-top: 1px solid whitesmoke;\r\n    border-bottom: 1px solid whitesmoke;\r\n  }\r\n`;\r\n\r\nconst Search = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 5px;\r\n  border-radius: 2px;\r\n  padding: 20px;\r\n  background-color: ${props => props.darkMode ? '#2a2a2a' : 'white'};\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  outline-width: 0;\r\n  border: none;\r\n  flex: 1;\r\n  background-color: ${props => props.darkMode ? '#2a2a2a' : 'white'};\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  \r\n  ::placeholder {\r\n    color: ${props => props.darkMode ? '#888' : '#999'};\r\n  }\r\n`;\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  position: sticky;\r\n  top: 0;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : 'white'};\r\n  z-index: 1;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 15px;\r\n  height: 80px;\r\n  border-bottom: 1px solid ${props => props.darkMode ? '#333' : 'whitesmoke'};\r\n`;\r\n\r\nconst IconsContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst ChatWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 10px;\r\n  \r\n  &:hover {\r\n    background-color: ${props => props.darkMode ? '#2a2a2a' : '#f5f5f5'};\r\n  }\r\n`;\r\n\r\nconst OptionsButton = styled(IconButton)`\r\n  visibility: hidden;\r\n  \r\n  ${ChatWrapper}:hover & {\r\n    visibility: visible;\r\n  }\r\n`;\r\n\r\nconst LoadingContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 20px;\r\n  color: ${props => props.darkMode ? '#888' : '#666'};\r\n`;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3771, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/hooks/useEmojiPicker.js"],"sourcesContent":["// components/ChatScreen/hooks/useEmojiPicker.js\r\nimport { useState, useEffect } from \"react\";\r\nimport { EMOJIS } from \"../constants\";\r\n\r\nexport const useEmojiPicker = () => {\r\n  const [emojiAnchorEl, setEmojiAnchorEl] = useState(null);\r\n  const [selectedEmojiCategory, setSelectedEmojiCategory] = useState(\"recent\");\r\n  const [recentEmojis, setRecentEmojis] = useState([]);\r\n  const [emojiSearchTerm, setEmojiSearchTerm] = useState(\"\");\r\n\r\n  // Load recent emojis from localStorage\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem(\"recentEmojis\");\r\n    if (stored) {\r\n      setRecentEmojis(JSON.parse(stored));\r\n    }\r\n  }, []);\r\n\r\n  const saveRecentEmoji = (emoji) => {\r\n    const updated = [emoji, ...recentEmojis.filter((e) => e !== emoji)].slice(0, 30);\r\n    setRecentEmojis(updated);\r\n    localStorage.setItem(\"recentEmojis\", JSON.stringify(updated));\r\n  };\r\n\r\n  const handleEmojiPickerOpen = (event) => {\r\n    setEmojiAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleEmojiPickerClose = () => {\r\n    setEmojiAnchorEl(null);\r\n    setEmojiSearchTerm(\"\");\r\n  };\r\n\r\n  const getFilteredEmojis = () => {\r\n    if (selectedEmojiCategory === \"recent\") {\r\n      return recentEmojis;\r\n    }\r\n\r\n    const categoryEmojis = EMOJIS[selectedEmojiCategory] || [];\r\n    return categoryEmojis;\r\n  };\r\n\r\n  return {\r\n    emojiAnchorEl,\r\n    selectedEmojiCategory,\r\n    setSelectedEmojiCategory,\r\n    emojiSearchTerm,\r\n    setEmojiSearchTerm,\r\n    recentEmojis,\r\n    handleEmojiPickerOpen,\r\n    handleEmojiPickerClose,\r\n    saveRecentEmoji,\r\n    getFilteredEmojis,\r\n    openEmojiPicker: Boolean(emojiAnchorEl),\r\n  };\r\n};"],"names":[],"mappings":"AAAA,gDAAgD;;;;;AAChD;AACA;;;;AAEO,MAAM,iBAAiB;;IAC5B,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,sIAAQ,EAAC;IACnD,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,IAAA,sIAAQ,EAAC;IACnE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,sIAAQ,EAAC,EAAE;IACnD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,sIAAQ,EAAC;IAEvD,uCAAuC;IACvC,IAAA,uIAAS;oCAAC;YACR,MAAM,SAAS,aAAa,OAAO,CAAC;YACpC,IAAI,QAAQ;gBACV,gBAAgB,KAAK,KAAK,CAAC;YAC7B;QACF;mCAAG,EAAE;IAEL,MAAM,kBAAkB,CAAC;QACvB,MAAM,UAAU;YAAC;eAAU,aAAa,MAAM,CAAC,CAAC,IAAM,MAAM;SAAO,CAAC,KAAK,CAAC,GAAG;QAC7E,gBAAgB;QAChB,aAAa,OAAO,CAAC,gBAAgB,KAAK,SAAS,CAAC;IACtD;IAEA,MAAM,wBAAwB,CAAC;QAC7B,iBAAiB,MAAM,aAAa;IACtC;IAEA,MAAM,yBAAyB;QAC7B,iBAAiB;QACjB,mBAAmB;IACrB;IAEA,MAAM,oBAAoB;QACxB,IAAI,0BAA0B,UAAU;YACtC,OAAO;QACT;QAEA,MAAM,iBAAiB,2IAAM,CAAC,sBAAsB,IAAI,EAAE;QAC1D,OAAO;IACT;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,QAAQ;IAC3B;AACF;GAnDa","debugId":null}},
    {"offset": {"line": 3840, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/lib/cloudinary.js"],"sourcesContent":["// lib/cloudinary.js\r\n\r\nconst CLOUDINARY_CLOUD_NAME = process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME;\r\nconst CLOUDINARY_UPLOAD_PRESET = process.env.NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET;\r\n\r\n// Validate environment variables\r\nif (!CLOUDINARY_CLOUD_NAME) {\r\n  console.error('âŒ NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME is not set in .env.local');\r\n}\r\n\r\nif (!CLOUDINARY_UPLOAD_PRESET) {\r\n  console.error('âŒ NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET is not set in .env.local');\r\n}\r\n\r\nconst CLOUDINARY_URL = `https://api.cloudinary.com/v1_1/${CLOUDINARY_CLOUD_NAME}/auto/upload`;\r\n\r\n/**\r\n * Upload file to Cloudinary\r\n * @param {Blob|File} file - The file to upload\r\n * @param {Function} onProgress - Progress callback (0-100)\r\n * @returns {Promise<string>} - Download URL\r\n */\r\nexport const uploadToCloudinary = async (file, onProgress = null) => {\r\n  return new Promise((resolve, reject) => {\r\n    // Validation\r\n    if (!CLOUDINARY_CLOUD_NAME || !CLOUDINARY_UPLOAD_PRESET) {\r\n      reject(new Error('Cloudinary configuration is missing. Check your .env.local file.'));\r\n      return;\r\n    }\r\n\r\n    if (!file) {\r\n      reject(new Error('No file provided'));\r\n      return;\r\n    }\r\n\r\n    console.log('ğŸ”„ Starting Cloudinary upload...');\r\n    console.log('ğŸ“¦ File size:', file.size, 'bytes');\r\n    console.log('ğŸ“¦ File type:', file.type);\r\n    console.log('â˜ï¸ Cloud name:', CLOUDINARY_CLOUD_NAME);\r\n    console.log('ğŸ”‘ Upload preset:', CLOUDINARY_UPLOAD_PRESET);\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('upload_preset', CLOUDINARY_UPLOAD_PRESET);\r\n    formData.append('folder', 'chat-app');\r\n\r\n    const xhr = new XMLHttpRequest();\r\n\r\n    // Track upload progress\r\n    if (onProgress) {\r\n      xhr.upload.addEventListener('progress', (e) => {\r\n        if (e.lengthComputable) {\r\n          const percentComplete = (e.loaded / e.total) * 100;\r\n          console.log(`ğŸ“¤ Upload progress: ${Math.round(percentComplete)}%`);\r\n          onProgress(percentComplete);\r\n        }\r\n      });\r\n    }\r\n\r\n    xhr.addEventListener('load', () => {\r\n      if (xhr.status === 200) {\r\n        try {\r\n          const response = JSON.parse(xhr.responseText);\r\n          console.log('âœ… Upload successful!');\r\n          console.log('ğŸ”— URL:', response.secure_url);\r\n          resolve(response.secure_url);\r\n        } catch (parseError) {\r\n          console.error('âŒ Failed to parse response:', parseError);\r\n          reject(new Error('Failed to parse Cloudinary response'));\r\n        }\r\n      } else {\r\n        console.error('âŒ Upload failed with status:', xhr.status);\r\n        console.error('ğŸ“„ Response:', xhr.responseText);\r\n        \r\n        let errorMessage = `Upload failed (${xhr.status})`;\r\n        try {\r\n          const errorResponse = JSON.parse(xhr.responseText);\r\n          errorMessage = errorResponse.error?.message || errorMessage;\r\n        } catch (e) {\r\n          // Ignore parsing error\r\n        }\r\n        \r\n        reject(new Error(errorMessage));\r\n      }\r\n    });\r\n\r\n    xhr.addEventListener('error', () => {\r\n      console.error('âŒ Network error during upload');\r\n      reject(new Error('Network error during upload'));\r\n    });\r\n\r\n    xhr.addEventListener('abort', () => {\r\n      console.log('âš ï¸ Upload cancelled');\r\n      reject(new Error('Upload cancelled'));\r\n    });\r\n\r\n    console.log('ğŸš€ Sending request to:', CLOUDINARY_URL);\r\n    xhr.open('POST', CLOUDINARY_URL);\r\n    xhr.send(formData);\r\n  });\r\n};\r\n\r\n/**\r\n * Test Cloudinary configuration\r\n */\r\nexport const testCloudinaryConfig = () => {\r\n  console.log('ğŸ§ª Testing Cloudinary Configuration:');\r\n  console.log('Cloud Name:', CLOUDINARY_CLOUD_NAME || 'âŒ NOT SET');\r\n  console.log('Upload Preset:', CLOUDINARY_UPLOAD_PRESET || 'âŒ NOT SET');\r\n  console.log('URL:', CLOUDINARY_URL);\r\n  \r\n  if (!CLOUDINARY_CLOUD_NAME || !CLOUDINARY_UPLOAD_PRESET) {\r\n    console.error('âŒ Cloudinary is not configured properly!');\r\n    console.error('ğŸ’¡ Make sure you have created .env.local file in your project root');\r\n    console.error('ğŸ’¡ The file should contain:');\r\n    console.error('   NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=your_cloud_name');\r\n    console.error('   NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET=your_preset_name');\r\n    return false;\r\n  }\r\n  \r\n  console.log('âœ… Cloudinary configuration looks good!');\r\n  return true;\r\n};"],"names":[],"mappings":"AAAA,oBAAoB;;;;;;;AAEU;AAA9B,MAAM;AACN,MAAM;AAEN,iCAAiC;AACjC;;AAIA;;AAIA,MAAM,iBAAiB,CAAC,gCAAgC,EAAE,sBAAsB,YAAY,CAAC;AAQtF,MAAM,qBAAqB,OAAO,MAAM,aAAa,IAAI;IAC9D,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,aAAa;QACb;;QAKA,IAAI,CAAC,MAAM;YACT,OAAO,IAAI,MAAM;YACjB;QACF;QAEA,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC,iBAAiB,KAAK,IAAI,EAAE;QACxC,QAAQ,GAAG,CAAC,iBAAiB,KAAK,IAAI;QACtC,QAAQ,GAAG,CAAC,kBAAkB;QAC9B,QAAQ,GAAG,CAAC,qBAAqB;QAEjC,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QACxB,SAAS,MAAM,CAAC,iBAAiB;QACjC,SAAS,MAAM,CAAC,UAAU;QAE1B,MAAM,MAAM,IAAI;QAEhB,wBAAwB;QACxB,IAAI,YAAY;YACd,IAAI,MAAM,CAAC,gBAAgB,CAAC,YAAY,CAAC;gBACvC,IAAI,EAAE,gBAAgB,EAAE;oBACtB,MAAM,kBAAkB,AAAC,EAAE,MAAM,GAAG,EAAE,KAAK,GAAI;oBAC/C,QAAQ,GAAG,CAAC,CAAC,oBAAoB,EAAE,KAAK,KAAK,CAAC,iBAAiB,CAAC,CAAC;oBACjE,WAAW;gBACb;YACF;QACF;QAEA,IAAI,gBAAgB,CAAC,QAAQ;YAC3B,IAAI,IAAI,MAAM,KAAK,KAAK;gBACtB,IAAI;oBACF,MAAM,WAAW,KAAK,KAAK,CAAC,IAAI,YAAY;oBAC5C,QAAQ,GAAG,CAAC;oBACZ,QAAQ,GAAG,CAAC,WAAW,SAAS,UAAU;oBAC1C,QAAQ,SAAS,UAAU;gBAC7B,EAAE,OAAO,YAAY;oBACnB,QAAQ,KAAK,CAAC,+BAA+B;oBAC7C,OAAO,IAAI,MAAM;gBACnB;YACF,OAAO;gBACL,QAAQ,KAAK,CAAC,gCAAgC,IAAI,MAAM;gBACxD,QAAQ,KAAK,CAAC,gBAAgB,IAAI,YAAY;gBAE9C,IAAI,eAAe,CAAC,eAAe,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC;gBAClD,IAAI;oBACF,MAAM,gBAAgB,KAAK,KAAK,CAAC,IAAI,YAAY;oBACjD,eAAe,cAAc,KAAK,EAAE,WAAW;gBACjD,EAAE,OAAO,GAAG;gBACV,uBAAuB;gBACzB;gBAEA,OAAO,IAAI,MAAM;YACnB;QACF;QAEA,IAAI,gBAAgB,CAAC,SAAS;YAC5B,QAAQ,KAAK,CAAC;YACd,OAAO,IAAI,MAAM;QACnB;QAEA,IAAI,gBAAgB,CAAC,SAAS;YAC5B,QAAQ,GAAG,CAAC;YACZ,OAAO,IAAI,MAAM;QACnB;QAEA,QAAQ,GAAG,CAAC,0BAA0B;QACtC,IAAI,IAAI,CAAC,QAAQ;QACjB,IAAI,IAAI,CAAC;IACX;AACF;AAKO,MAAM,uBAAuB;IAClC,QAAQ,GAAG,CAAC;IACZ,QAAQ,GAAG,CAAC,eAAe,yBAAyB;IACpD,QAAQ,GAAG,CAAC,kBAAkB,4BAA4B;IAC1D,QAAQ,GAAG,CAAC,QAAQ;IAEpB;;IASA,QAAQ,GAAG,CAAC;IACZ,OAAO;AACT","debugId":null}},
    {"offset": {"line": 3939, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/utils.js"],"sourcesContent":["import { db } from \"../../firebase\";\r\nimport { collection, query, where, getDocs } from \"firebase/firestore\";\r\n\r\nexport const checkIfBlocked = async (currentUserEmail, recipientEmail) => {\r\n  try {\r\n    // Don't check blocking for self-chat\r\n    if (currentUserEmail === recipientEmail) {\r\n      return false;\r\n    }\r\n\r\n    // Check if current user is blocked by recipient\r\n    const usersRef = collection(db, \"users\");\r\n    const q = query(usersRef, where(\"email\", \"==\", recipientEmail));\r\n    const querySnapshot = await getDocs(q);\r\n\r\n    if (!querySnapshot.empty) {\r\n      const recipientData = querySnapshot.docs[0].data();\r\n      const blockedUsers = recipientData.blockedUsers || [];\r\n      \r\n      if (blockedUsers.includes(currentUserEmail)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  } catch (error) {\r\n    console.error(\"Error checking if blocked:\", error);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const buildReplyData = (replyingTo) => {\r\n  if (!replyingTo) return null;\r\n\r\n  const replyData = {\r\n    messageId: replyingTo.id,\r\n    user: replyingTo.user,\r\n    message: replyingTo.message,\r\n  };\r\n\r\n  if (replyingTo.fileURL) {\r\n    replyData.fileURL = replyingTo.fileURL;\r\n    replyData.fileName = replyingTo.fileName;\r\n    replyData.fileType = replyingTo.fileType;\r\n  }\r\n\r\n  if (replyingTo.voiceURL) {\r\n    replyData.voiceURL = replyingTo.voiceURL;\r\n    replyData.duration = replyingTo.duration;\r\n  }\r\n\r\n  return replyData;\r\n};\r\n\r\nexport const formatFileSize = (bytes) => {\r\n  if (bytes === 0) return \"0 Bytes\";\r\n  const k = 1024;\r\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  return Math.round(bytes / Math.pow(k, i) * 100) / 100 + \" \" + sizes[i];\r\n};\r\n\r\nexport const formatTime = (seconds) => {\r\n  if (!seconds || seconds < 0) return \"0:00\";\r\n  \r\n  const mins = Math.floor(seconds / 60);\r\n  const secs = Math.floor(seconds % 60);\r\n  \r\n  return `${mins}:${secs.toString().padStart(2, \"0\")}`;\r\n};\r\n\r\nexport const getFileIcon = (fileType) => {\r\n  if (fileType?.startsWith(\"image/\")) return \"ğŸ–¼ï¸\";\r\n  if (fileType?.startsWith(\"video/\")) return \"ğŸ¥\";\r\n  if (fileType?.startsWith(\"audio/\")) return \"ğŸµ\";\r\n  if (fileType?.includes(\"pdf\")) return \"ğŸ“„\";\r\n  if (fileType?.includes(\"word\") || fileType?.includes(\"document\")) return \"ğŸ“\";\r\n  if (fileType?.includes(\"sheet\") || fileType?.includes(\"excel\")) return \"ğŸ“Š\";\r\n  if (fileType?.includes(\"zip\") || fileType?.includes(\"rar\")) return \"ğŸ“¦\";\r\n  return \"ğŸ“\";\r\n};"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;AAAA;;;AAEO,MAAM,iBAAiB,OAAO,kBAAkB;IACrD,IAAI;QACF,qCAAqC;QACrC,IAAI,qBAAqB,gBAAgB;YACvC,OAAO;QACT;QAEA,gDAAgD;QAChD,MAAM,WAAW,IAAA,6KAAU,EAAC,0HAAE,EAAE;QAChC,MAAM,IAAI,IAAA,wKAAK,EAAC,UAAU,IAAA,wKAAK,EAAC,SAAS,MAAM;QAC/C,MAAM,gBAAgB,MAAM,IAAA,0KAAO,EAAC;QAEpC,IAAI,CAAC,cAAc,KAAK,EAAE;YACxB,MAAM,gBAAgB,cAAc,IAAI,CAAC,EAAE,CAAC,IAAI;YAChD,MAAM,eAAe,cAAc,YAAY,IAAI,EAAE;YAErD,IAAI,aAAa,QAAQ,CAAC,mBAAmB;gBAC3C,OAAO;YACT;QACF;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO;IACT;AACF;AAEO,MAAM,iBAAiB,CAAC;IAC7B,IAAI,CAAC,YAAY,OAAO;IAExB,MAAM,YAAY;QAChB,WAAW,WAAW,EAAE;QACxB,MAAM,WAAW,IAAI;QACrB,SAAS,WAAW,OAAO;IAC7B;IAEA,IAAI,WAAW,OAAO,EAAE;QACtB,UAAU,OAAO,GAAG,WAAW,OAAO;QACtC,UAAU,QAAQ,GAAG,WAAW,QAAQ;QACxC,UAAU,QAAQ,GAAG,WAAW,QAAQ;IAC1C;IAEA,IAAI,WAAW,QAAQ,EAAE;QACvB,UAAU,QAAQ,GAAG,WAAW,QAAQ;QACxC,UAAU,QAAQ,GAAG,WAAW,QAAQ;IAC1C;IAEA,OAAO;AACT;AAEO,MAAM,iBAAiB,CAAC;IAC7B,IAAI,UAAU,GAAG,OAAO;IACxB,MAAM,IAAI;IACV,MAAM,QAAQ;QAAC;QAAS;QAAM;QAAM;KAAK;IACzC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC;IAChD,OAAO,KAAK,KAAK,CAAC,QAAQ,KAAK,GAAG,CAAC,GAAG,KAAK,OAAO,MAAM,MAAM,KAAK,CAAC,EAAE;AACxE;AAEO,MAAM,aAAa,CAAC;IACzB,IAAI,CAAC,WAAW,UAAU,GAAG,OAAO;IAEpC,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;IAClC,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;IAElC,OAAO,GAAG,KAAK,CAAC,EAAE,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AACtD;AAEO,MAAM,cAAc,CAAC;IAC1B,IAAI,UAAU,WAAW,WAAW,OAAO;IAC3C,IAAI,UAAU,WAAW,WAAW,OAAO;IAC3C,IAAI,UAAU,WAAW,WAAW,OAAO;IAC3C,IAAI,UAAU,SAAS,QAAQ,OAAO;IACtC,IAAI,UAAU,SAAS,WAAW,UAAU,SAAS,aAAa,OAAO;IACzE,IAAI,UAAU,SAAS,YAAY,UAAU,SAAS,UAAU,OAAO;IACvE,IAAI,UAAU,SAAS,UAAU,UAAU,SAAS,QAAQ,OAAO;IACnE,OAAO;AACT","debugId":null}},
    {"offset": {"line": 4032, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/hooks/useFileUpload.js"],"sourcesContent":["// components/ChatScreen/hooks/useFileUpload.js\r\nimport { useState } from \"react\";\r\nimport { addDoc, collection, doc, setDoc, serverTimestamp } from \"firebase/firestore\";\r\nimport { db } from \"../../../firebase\";\r\nimport { uploadToCloudinary } from \"../../../lib/cloudinary\";\r\nimport { checkIfBlocked, buildReplyData } from \"../utils\";\r\nimport { MESSAGE_STATUS } from \"../constants\";\r\n\r\nexport const useFileUpload = (chatId, user, recipientEmail) => {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [filePreview, setFilePreview] = useState(null);\r\n  const [showFileConfirmation, setShowFileConfirmation] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n\r\n  const handleFileSelect = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setSelectedFile(file);\r\n      \r\n      // Create preview for images\r\n      if (file.type.startsWith(\"image/\")) {\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => {\r\n          setFilePreview(reader.result);\r\n        };\r\n        reader.readAsDataURL(file);\r\n      } else {\r\n        setFilePreview(null);\r\n      }\r\n      \r\n      setShowFileConfirmation(true);\r\n    }\r\n  };\r\n\r\n  const cancelFileSelection = () => {\r\n    setSelectedFile(null);\r\n    setFilePreview(null);\r\n    setShowFileConfirmation(false);\r\n    setUploadProgress(0);\r\n  };\r\n\r\n  const sendFileMessage = async (input, replyingTo, setSendingError, setInput, setReplyingTo, scrollToBottom, isSelfChat = false) => {\r\n    if (!selectedFile || !chatId || !user || !recipientEmail) return;\r\n\r\n    setIsUploading(true);\r\n    setSendingError(null);\r\n\r\n    try {\r\n      // Skip blocking check for self-chat\r\n      if (!isSelfChat) {\r\n        const isBlocked = await checkIfBlocked(user.email, recipientEmail);\r\n        if (isBlocked) {\r\n          setSendingError(\"You cannot send messages to this user. You have been blocked.\");\r\n          setIsUploading(false);\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Upload to Cloudinary with progress tracking\r\n      const fileURL = await uploadToCloudinary(selectedFile, (progress) => {\r\n        setUploadProgress(progress);\r\n      });\r\n\r\n      // Update user's last seen\r\n      const userRef = doc(db, \"users\", user.uid);\r\n      await setDoc(\r\n        userRef,\r\n        {\r\n          lastSeen: serverTimestamp(),\r\n        },\r\n        { merge: true }\r\n      );\r\n\r\n      // Build message data\r\n      const messageData = {\r\n        timestamp: serverTimestamp(),\r\n        message: input || \"\",\r\n        user: user.email,\r\n        photoURL: user.photoURL,\r\n        fileURL: fileURL,\r\n        fileName: selectedFile.name,\r\n        fileType: selectedFile.type,\r\n        fileSize: selectedFile.size,\r\n        status: MESSAGE_STATUS.SENT, // Initial status is SENT (1 gray check)\r\n      };\r\n\r\n      // Add reply data if replying\r\n      const replyData = buildReplyData(replyingTo);\r\n      if (replyData) {\r\n        messageData.replyTo = replyData;\r\n      }\r\n\r\n      // Send the message\r\n      await addDoc(collection(db, \"chats\", chatId, \"messages\"), messageData);\r\n\r\n      // Reset states\r\n      setInput(\"\");\r\n      setSelectedFile(null);\r\n      setFilePreview(null);\r\n      setShowFileConfirmation(false);\r\n      setUploadProgress(0);\r\n      setReplyingTo(null);\r\n      scrollToBottom();\r\n    } catch (error) {\r\n      console.error(\"Error sending file:\", error);\r\n      setSendingError(`Failed to send file: ${error.message}`);\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    selectedFile,\r\n    filePreview,\r\n    showFileConfirmation,\r\n    uploadProgress,\r\n    isUploading,\r\n    handleFileSelect,\r\n    cancelFileSelection,\r\n    sendFileMessage,\r\n  };\r\n};"],"names":[],"mappings":"AAAA,+CAA+C;;;;;AAC/C;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;AAEO,MAAM,gBAAgB,CAAC,QAAQ,MAAM;;IAC1C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,sIAAQ,EAAC;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,sIAAQ,EAAC;IAC/C,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,IAAA,sIAAQ,EAAC;IACjE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,sIAAQ,EAAC;IACrD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,sIAAQ,EAAC;IAE/C,MAAM,mBAAmB,CAAC;QACxB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;QAC9B,IAAI,MAAM;YACR,gBAAgB;YAEhB,4BAA4B;YAC5B,IAAI,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW;gBAClC,MAAM,SAAS,IAAI;gBACnB,OAAO,SAAS,GAAG;oBACjB,eAAe,OAAO,MAAM;gBAC9B;gBACA,OAAO,aAAa,CAAC;YACvB,OAAO;gBACL,eAAe;YACjB;YAEA,wBAAwB;QAC1B;IACF;IAEA,MAAM,sBAAsB;QAC1B,gBAAgB;QAChB,eAAe;QACf,wBAAwB;QACxB,kBAAkB;IACpB;IAEA,MAAM,kBAAkB,OAAO,OAAO,YAAY,iBAAiB,UAAU,eAAe,gBAAgB,aAAa,KAAK;QAC5H,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,QAAQ,CAAC,gBAAgB;QAE1D,eAAe;QACf,gBAAgB;QAEhB,IAAI;YACF,oCAAoC;YACpC,IAAI,CAAC,YAAY;gBACf,MAAM,YAAY,MAAM,IAAA,+IAAc,EAAC,KAAK,KAAK,EAAE;gBACnD,IAAI,WAAW;oBACb,gBAAgB;oBAChB,eAAe;oBACf;gBACF;YACF;YAEA,8CAA8C;YAC9C,MAAM,UAAU,MAAM,IAAA,mIAAkB,EAAC,cAAc,CAAC;gBACtD,kBAAkB;YACpB;YAEA,0BAA0B;YAC1B,MAAM,UAAU,IAAA,sKAAG,EAAC,0HAAE,EAAE,SAAS,KAAK,GAAG;YACzC,MAAM,IAAA,yKAAM,EACV,SACA;gBACE,UAAU,IAAA,kLAAe;YAC3B,GACA;gBAAE,OAAO;YAAK;YAGhB,qBAAqB;YACrB,MAAM,cAAc;gBAClB,WAAW,IAAA,kLAAe;gBAC1B,SAAS,SAAS;gBAClB,MAAM,KAAK,KAAK;gBAChB,UAAU,KAAK,QAAQ;gBACvB,SAAS;gBACT,UAAU,aAAa,IAAI;gBAC3B,UAAU,aAAa,IAAI;gBAC3B,UAAU,aAAa,IAAI;gBAC3B,QAAQ,mJAAc,CAAC,IAAI;YAC7B;YAEA,6BAA6B;YAC7B,MAAM,YAAY,IAAA,+IAAc,EAAC;YACjC,IAAI,WAAW;gBACb,YAAY,OAAO,GAAG;YACxB;YAEA,mBAAmB;YACnB,MAAM,IAAA,yKAAM,EAAC,IAAA,6KAAU,EAAC,0HAAE,EAAE,SAAS,QAAQ,aAAa;YAE1D,eAAe;YACf,SAAS;YACT,gBAAgB;YAChB,eAAe;YACf,wBAAwB;YACxB,kBAAkB;YAClB,cAAc;YACd;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB;YACrC,gBAAgB,CAAC,qBAAqB,EAAE,MAAM,OAAO,EAAE;QACzD,SAAU;YACR,eAAe;QACjB;IACF;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GAlHa","debugId":null}},
    {"offset": {"line": 4159, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/hooks/useVoiceRecording.js"],"sourcesContent":["// components/ChatScreen/hooks/useVoiceRecording.js\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { addDoc, collection, doc, setDoc, serverTimestamp } from \"firebase/firestore\";\r\nimport { db } from \"../../../firebase\";\r\nimport { uploadToCloudinary } from \"../../../lib/cloudinary\";\r\nimport { checkIfBlocked, buildReplyData } from \"../utils\";\r\nimport { MESSAGE_STATUS } from \"../constants\";\r\n\r\nexport const useVoiceRecording = (chatId, user, recipientEmail) => {\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [recordingTime, setRecordingTime] = useState(0);\r\n  const [audioBlob, setAudioBlob] = useState(null);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n\r\n  const mediaRecorderRef = useRef(null);\r\n  const audioChunksRef = useRef([]);\r\n\r\n  // Recording timer\r\n  useEffect(() => {\r\n    let interval;\r\n    if (isRecording) {\r\n      interval = setInterval(() => {\r\n        setRecordingTime((prev) => prev + 1);\r\n      }, 1000);\r\n    } else {\r\n      setRecordingTime(0);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isRecording]);\r\n\r\n  const startRecording = async (setSendingError) => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      \r\n      // Check for supported MIME types\r\n      let mimeType = 'audio/webm';\r\n      if (!MediaRecorder.isTypeSupported(mimeType)) {\r\n        mimeType = 'audio/webm;codecs=opus';\r\n        if (!MediaRecorder.isTypeSupported(mimeType)) {\r\n          mimeType = 'audio/ogg;codecs=opus';\r\n          if (!MediaRecorder.isTypeSupported(mimeType)) {\r\n            mimeType = 'audio/mp4';\r\n            if (!MediaRecorder.isTypeSupported(mimeType)) {\r\n              mimeType = ''; // Let browser choose\r\n            }\r\n          }\r\n        }\r\n      }\r\n      \r\n      console.log('Using MIME type:', mimeType || 'default');\r\n      \r\n      const options = mimeType ? { mimeType } : {};\r\n      const mediaRecorder = new MediaRecorder(stream, options);\r\n      mediaRecorderRef.current = mediaRecorder;\r\n      audioChunksRef.current = [];\r\n\r\n      mediaRecorder.ondataavailable = (event) => {\r\n        console.log('Data available:', event.data.size, 'bytes');\r\n        if (event.data.size > 0) {\r\n          audioChunksRef.current.push(event.data);\r\n        }\r\n      };\r\n\r\n      mediaRecorder.onstop = () => {\r\n        console.log('Recording stopped, chunks:', audioChunksRef.current.length);\r\n        const audioBlob = new Blob(audioChunksRef.current, { \r\n          type: mimeType || 'audio/webm' \r\n        });\r\n        \r\n        console.log('Blob size:', audioBlob.size);\r\n        \r\n        // Check if blob has data\r\n        if (audioBlob.size > 0) {\r\n          setAudioBlob(audioBlob);\r\n        } else {\r\n          console.error('No audio data captured');\r\n          setSendingError(\"Recording failed: No audio data captured. Please try again.\");\r\n        }\r\n        \r\n        stream.getTracks().forEach((track) => track.stop());\r\n      };\r\n\r\n      mediaRecorder.onerror = (event) => {\r\n        console.error('MediaRecorder error:', event.error);\r\n        setSendingError(`Recording error: ${event.error.name}`);\r\n      };\r\n\r\n      // Start with timeslice to ensure data is collected periodically\r\n      mediaRecorder.start(100); // Collect data every 100ms\r\n      setIsRecording(true);\r\n    } catch (error) {\r\n      console.error(\"Error starting recording:\", error);\r\n      setSendingError(\"Failed to access microphone. Please check permissions.\");\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (mediaRecorderRef.current && isRecording) {\r\n      mediaRecorderRef.current.stop();\r\n      setIsRecording(false);\r\n    }\r\n  };\r\n\r\n  const cancelRecording = () => {\r\n    if (mediaRecorderRef.current && isRecording) {\r\n      mediaRecorderRef.current.stop();\r\n      setIsRecording(false);\r\n    }\r\n    setAudioBlob(null);\r\n    setRecordingTime(0);\r\n  };\r\n\r\n  const sendVoiceMessage = async (replyingTo, setSendingError, setReplyingTo, scrollToBottom, isSelfChat = false) => {\r\n    if (!audioBlob || !chatId || !user || !recipientEmail) return;\r\n\r\n    setIsUploading(true);\r\n    setSendingError(null);\r\n\r\n    try {\r\n      // Skip blocking check for self-chat\r\n      if (!isSelfChat) {\r\n        const isBlocked = await checkIfBlocked(user.email, recipientEmail);\r\n        if (isBlocked) {\r\n          setSendingError(\"You cannot send messages to this user. You have been blocked.\");\r\n          setIsUploading(false);\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Upload to Cloudinary with progress tracking\r\n      const voiceURL = await uploadToCloudinary(audioBlob, (progress) => {\r\n        setUploadProgress(progress);\r\n      });\r\n\r\n      // Update user's last seen\r\n      const userRef = doc(db, \"users\", user.uid);\r\n      await setDoc(\r\n        userRef,\r\n        {\r\n          lastSeen: serverTimestamp(),\r\n        },\r\n        { merge: true }\r\n      );\r\n\r\n      // Build message data\r\n      const messageData = {\r\n        timestamp: serverTimestamp(),\r\n        message: \"\", // Empty message for voice\r\n        user: user.email,\r\n        photoURL: user.photoURL,\r\n        voiceURL: voiceURL,\r\n        voiceDuration: recordingTime,\r\n        status: MESSAGE_STATUS.SENT, // Initial status is SENT (1 gray check)\r\n      };\r\n\r\n      // Add reply data if replying\r\n      const replyData = buildReplyData(replyingTo);\r\n      if (replyData) {\r\n        messageData.replyTo = replyData;\r\n      }\r\n\r\n      // Send the message\r\n      await addDoc(collection(db, \"chats\", chatId, \"messages\"), messageData);\r\n\r\n      // Reset states\r\n      setAudioBlob(null);\r\n      setUploadProgress(0);\r\n      setReplyingTo(null);\r\n      scrollToBottom();\r\n    } catch (error) {\r\n      console.error(\"Error sending voice message:\", error);\r\n      setSendingError(`Failed to send voice message: ${error.message}`);\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    isRecording,\r\n    recordingTime,\r\n    audioBlob,\r\n    uploadProgress,\r\n    isUploading,\r\n    startRecording,\r\n    stopRecording,\r\n    cancelRecording,\r\n    sendVoiceMessage,\r\n  };\r\n};"],"names":[],"mappings":"AAAA,mDAAmD;;;;;AACnD;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;AAEO,MAAM,oBAAoB,CAAC,QAAQ,MAAM;;IAC9C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,sIAAQ,EAAC;IAC/C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,sIAAQ,EAAC;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,sIAAQ,EAAC;IAC3C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,sIAAQ,EAAC;IACrD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,sIAAQ,EAAC;IAE/C,MAAM,mBAAmB,IAAA,oIAAM,EAAC;IAChC,MAAM,iBAAiB,IAAA,oIAAM,EAAC,EAAE;IAEhC,kBAAkB;IAClB,IAAA,uIAAS;uCAAC;YACR,IAAI;YACJ,IAAI,aAAa;gBACf,WAAW;mDAAY;wBACrB;2DAAiB,CAAC,OAAS,OAAO;;oBACpC;kDAAG;YACL,OAAO;gBACL,iBAAiB;YACnB;YACA;+CAAO,IAAM,cAAc;;QAC7B;sCAAG;QAAC;KAAY;IAEhB,MAAM,iBAAiB,OAAO;QAC5B,IAAI;YACF,MAAM,SAAS,MAAM,UAAU,YAAY,CAAC,YAAY,CAAC;gBAAE,OAAO;YAAK;YAEvE,iCAAiC;YACjC,IAAI,WAAW;YACf,IAAI,CAAC,cAAc,eAAe,CAAC,WAAW;gBAC5C,WAAW;gBACX,IAAI,CAAC,cAAc,eAAe,CAAC,WAAW;oBAC5C,WAAW;oBACX,IAAI,CAAC,cAAc,eAAe,CAAC,WAAW;wBAC5C,WAAW;wBACX,IAAI,CAAC,cAAc,eAAe,CAAC,WAAW;4BAC5C,WAAW,IAAI,qBAAqB;wBACtC;oBACF;gBACF;YACF;YAEA,QAAQ,GAAG,CAAC,oBAAoB,YAAY;YAE5C,MAAM,UAAU,WAAW;gBAAE;YAAS,IAAI,CAAC;YAC3C,MAAM,gBAAgB,IAAI,cAAc,QAAQ;YAChD,iBAAiB,OAAO,GAAG;YAC3B,eAAe,OAAO,GAAG,EAAE;YAE3B,cAAc,eAAe,GAAG,CAAC;gBAC/B,QAAQ,GAAG,CAAC,mBAAmB,MAAM,IAAI,CAAC,IAAI,EAAE;gBAChD,IAAI,MAAM,IAAI,CAAC,IAAI,GAAG,GAAG;oBACvB,eAAe,OAAO,CAAC,IAAI,CAAC,MAAM,IAAI;gBACxC;YACF;YAEA,cAAc,MAAM,GAAG;gBACrB,QAAQ,GAAG,CAAC,8BAA8B,eAAe,OAAO,CAAC,MAAM;gBACvE,MAAM,YAAY,IAAI,KAAK,eAAe,OAAO,EAAE;oBACjD,MAAM,YAAY;gBACpB;gBAEA,QAAQ,GAAG,CAAC,cAAc,UAAU,IAAI;gBAExC,yBAAyB;gBACzB,IAAI,UAAU,IAAI,GAAG,GAAG;oBACtB,aAAa;gBACf,OAAO;oBACL,QAAQ,KAAK,CAAC;oBACd,gBAAgB;gBAClB;gBAEA,OAAO,SAAS,GAAG,OAAO,CAAC,CAAC,QAAU,MAAM,IAAI;YAClD;YAEA,cAAc,OAAO,GAAG,CAAC;gBACvB,QAAQ,KAAK,CAAC,wBAAwB,MAAM,KAAK;gBACjD,gBAAgB,CAAC,iBAAiB,EAAE,MAAM,KAAK,CAAC,IAAI,EAAE;YACxD;YAEA,gEAAgE;YAChE,cAAc,KAAK,CAAC,MAAM,2BAA2B;YACrD,eAAe;QACjB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,gBAAgB;QAClB;IACF;IAEA,MAAM,gBAAgB;QACpB,IAAI,iBAAiB,OAAO,IAAI,aAAa;YAC3C,iBAAiB,OAAO,CAAC,IAAI;YAC7B,eAAe;QACjB;IACF;IAEA,MAAM,kBAAkB;QACtB,IAAI,iBAAiB,OAAO,IAAI,aAAa;YAC3C,iBAAiB,OAAO,CAAC,IAAI;YAC7B,eAAe;QACjB;QACA,aAAa;QACb,iBAAiB;IACnB;IAEA,MAAM,mBAAmB,OAAO,YAAY,iBAAiB,eAAe,gBAAgB,aAAa,KAAK;QAC5G,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,QAAQ,CAAC,gBAAgB;QAEvD,eAAe;QACf,gBAAgB;QAEhB,IAAI;YACF,oCAAoC;YACpC,IAAI,CAAC,YAAY;gBACf,MAAM,YAAY,MAAM,IAAA,+IAAc,EAAC,KAAK,KAAK,EAAE;gBACnD,IAAI,WAAW;oBACb,gBAAgB;oBAChB,eAAe;oBACf;gBACF;YACF;YAEA,8CAA8C;YAC9C,MAAM,WAAW,MAAM,IAAA,mIAAkB,EAAC,WAAW,CAAC;gBACpD,kBAAkB;YACpB;YAEA,0BAA0B;YAC1B,MAAM,UAAU,IAAA,sKAAG,EAAC,0HAAE,EAAE,SAAS,KAAK,GAAG;YACzC,MAAM,IAAA,yKAAM,EACV,SACA;gBACE,UAAU,IAAA,kLAAe;YAC3B,GACA;gBAAE,OAAO;YAAK;YAGhB,qBAAqB;YACrB,MAAM,cAAc;gBAClB,WAAW,IAAA,kLAAe;gBAC1B,SAAS;gBACT,MAAM,KAAK,KAAK;gBAChB,UAAU,KAAK,QAAQ;gBACvB,UAAU;gBACV,eAAe;gBACf,QAAQ,mJAAc,CAAC,IAAI;YAC7B;YAEA,6BAA6B;YAC7B,MAAM,YAAY,IAAA,+IAAc,EAAC;YACjC,IAAI,WAAW;gBACb,YAAY,OAAO,GAAG;YACxB;YAEA,mBAAmB;YACnB,MAAM,IAAA,yKAAM,EAAC,IAAA,6KAAU,EAAC,0HAAE,EAAE,SAAS,QAAQ,aAAa;YAE1D,eAAe;YACf,aAAa;YACb,kBAAkB;YAClB,cAAc;YACd;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,gBAAgB,CAAC,8BAA8B,EAAE,MAAM,OAAO,EAAE;QAClE,SAAU;YACR,eAAe;QACjB;IACF;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GArLa","debugId":null}},
    {"offset": {"line": 4356, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/hooks/useRecipientData.js"],"sourcesContent":["import { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport { collection, query, where } from \"firebase/firestore\";\r\nimport { db } from \"../../../firebase\";\r\n\r\nexport const useRecipientData = (user, chat) => {\r\n  if (!user || !chat) {\r\n    return {\r\n      recipientEmail: null,\r\n      recipient: null,\r\n      recipientSnapshot: null,\r\n      isSelfChat: false,\r\n    };\r\n  }\r\n\r\n  // Check if this is a self-chat\r\n  const isSelfChat = chat.users.length === 2 && chat.users[0] === chat.users[1];\r\n\r\n  // Handle self-chat case - use current user's email\r\n  const recipientEmail = isSelfChat \r\n    ? user.email \r\n    : chat.users.find((userEmail) => userEmail !== user.email) || user.email;\r\n\r\n  const recipientQuery = recipientEmail\r\n    ? query(collection(db, \"users\"), where(\"email\", \"==\", recipientEmail))\r\n    : null;\r\n\r\n  const [recipientSnapshot] = useCollection(recipientQuery);\r\n\r\n  const recipient = recipientSnapshot?.docs?.[0]?.data();\r\n\r\n  return {\r\n    recipientEmail,\r\n    recipient: recipient || {\r\n      email: recipientEmail,\r\n      photoURL: user.photoURL, // Use current user's photo for self-chat\r\n    },\r\n    recipientSnapshot,\r\n    isSelfChat,\r\n  };\r\n};"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;;;;;AAEO,MAAM,mBAAmB,CAAC,MAAM;;IACrC,IAAI,CAAC,QAAQ,CAAC,MAAM;QAClB,OAAO;YACL,gBAAgB;YAChB,WAAW;YACX,mBAAmB;YACnB,YAAY;QACd;IACF;IAEA,+BAA+B;IAC/B,MAAM,aAAa,KAAK,KAAK,CAAC,MAAM,KAAK,KAAK,KAAK,KAAK,CAAC,EAAE,KAAK,KAAK,KAAK,CAAC,EAAE;IAE7E,mDAAmD;IACnD,MAAM,iBAAiB,aACnB,KAAK,KAAK,GACV,KAAK,KAAK,CAAC,IAAI,CAAC,CAAC,YAAc,cAAc,KAAK,KAAK,KAAK,KAAK,KAAK;IAE1E,MAAM,iBAAiB,iBACnB,IAAA,wKAAK,EAAC,IAAA,6KAAU,EAAC,0HAAE,EAAE,UAAU,IAAA,wKAAK,EAAC,SAAS,MAAM,mBACpD;IAEJ,MAAM,CAAC,kBAAkB,GAAG,IAAA,4LAAa,EAAC;IAE1C,MAAM,YAAY,mBAAmB,MAAM,CAAC,EAAE,EAAE;IAEhD,OAAO;QACL;QACA,WAAW,aAAa;YACtB,OAAO;YACP,UAAU,KAAK,QAAQ;QACzB;QACA;QACA;IACF;AACF;GAnCa;;QAsBiB,4LAAa","debugId":null}},
    {"offset": {"line": 4407, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/hooks/useMessages.js"],"sourcesContent":["// components/ChatScreen/hooks/useMessages.js\r\nimport { useMemo } from \"react\";\r\nimport { collection, query, orderBy } from \"firebase/firestore\";\r\nimport { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport { db } from \"../../../firebase\";\r\n\r\nexport const useMessages = (chatId) => {\r\n  const messagesRef = useMemo(() => {\r\n    if (!chatId) return null;\r\n    return collection(db, \"chats\", chatId, \"messages\");\r\n  }, [chatId]);\r\n\r\n  const messagesQuery = useMemo(() => {\r\n    if (!messagesRef) return null;\r\n    return query(messagesRef, orderBy(\"timestamp\", \"asc\"));\r\n  }, [messagesRef]);\r\n\r\n  const [messagesSnapshot] = useCollection(messagesQuery || null);\r\n\r\n  return {\r\n    messagesSnapshot,\r\n  };\r\n};"],"names":[],"mappings":"AAAA,6CAA6C;;;;;AAC7C;AACA;AAAA;AACA;AACA;;;;;;AAEO,MAAM,cAAc,CAAC;;IAC1B,MAAM,cAAc,IAAA,qIAAO;4CAAC;YAC1B,IAAI,CAAC,QAAQ,OAAO;YACpB,OAAO,IAAA,6KAAU,EAAC,0HAAE,EAAE,SAAS,QAAQ;QACzC;2CAAG;QAAC;KAAO;IAEX,MAAM,gBAAgB,IAAA,qIAAO;8CAAC;YAC5B,IAAI,CAAC,aAAa,OAAO;YACzB,OAAO,IAAA,wKAAK,EAAC,aAAa,IAAA,0KAAO,EAAC,aAAa;QACjD;6CAAG;QAAC;KAAY;IAEhB,MAAM,CAAC,iBAAiB,GAAG,IAAA,4LAAa,EAAC,iBAAiB;IAE1D,OAAO;QACL;IACF;AACF;GAhBa;;QAWgB,4LAAa","debugId":null}},
    {"offset": {"line": 4457, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/ChatHeader.jsx"],"sourcesContent":["// components/ChatScreen/components/ChatHeader.jsx\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Avatar, IconButton } from \"@mui/material\";\r\nimport AttachFileIcon from \"@mui/icons-material/AttachFile\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport MenuIcon from \"@mui/icons-material/Menu\";\r\nimport TimeAgo from \"timeago-react\";\r\n\r\nfunction ChatHeader({\r\n  recipient,\r\n  recipientEmail,\r\n  recipientSnapshot,\r\n  isSelfChat,\r\n  onAttachFile,\r\n  onMoreClick,\r\n  darkMode,\r\n  isMobile,\r\n  onToggleSidebar,\r\n}) {\r\n  const getHeaderTitle = () => {\r\n    if (isSelfChat) {\r\n      return `${recipientEmail} (You)`;\r\n    }\r\n    return recipientEmail;\r\n  };\r\n\r\n  const getStatusText = () => {\r\n    if (isSelfChat) {\r\n      return \"Message yourself\";\r\n    }\r\n    \r\n    if (recipient?.lastSeen?.toDate) {\r\n      return (\r\n        <>\r\n          Last active: <TimeAgo datetime={recipient.lastSeen.toDate()} />\r\n        </>\r\n      );\r\n    }\r\n    \r\n    return \"Loading...\";\r\n  };\r\n\r\n  return (\r\n    <Header darkMode={darkMode}>\r\n      <HeaderLeft>\r\n        {isMobile && (\r\n          <IconButton onClick={onToggleSidebar} style={{ marginRight: '10px' }}>\r\n            <MenuIcon />\r\n          </IconButton>\r\n        )}\r\n        {recipient ? (\r\n          <UserAvatar src={recipientSnapshot?.docs?.[0]?.data()?.photoURL} />\r\n        ) : (\r\n          <UserAvatar>{recipientEmail?.[0]?.toUpperCase()}</UserAvatar>\r\n        )}\r\n        <HeaderInformation darkMode={darkMode}>\r\n          <h3>{getHeaderTitle()}</h3>\r\n          <p>{getStatusText()}</p>\r\n        </HeaderInformation>\r\n      </HeaderLeft>\r\n      <HeaderActions>\r\n        <IconButton onClick={onAttachFile}>\r\n          <AttachFileIcon />\r\n        </IconButton>\r\n        <IconButton onClick={onMoreClick}>\r\n          <MoreVertIcon />\r\n        </IconButton>\r\n      </HeaderActions>\r\n    </Header>\r\n  );\r\n}\r\n\r\nexport default ChatHeader;\r\n\r\n// Styled Components\r\nconst Header = styled.div`\r\n  position: sticky;\r\n  background-color: ${(props) => (props.darkMode ? \"#1e1e1e\" : \"white\")};\r\n  z-index: 100;\r\n  top: 0;\r\n  display: flex;\r\n  padding: 11px;\r\n  height: 80px;\r\n  align-items: center;\r\n  border-bottom: 1px solid ${(props) => (props.darkMode ? \"#333\" : \"whitesmoke\")};\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst HeaderLeft = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex: 1;\r\n  min-width: 0;\r\n`;\r\n\r\nconst UserAvatar = styled(Avatar)`\r\n  margin: 5px;\r\n  margin-right: 15px;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst HeaderInformation = styled.div`\r\n  margin-left: 15px;\r\n  flex: 1;\r\n  min-width: 0;\r\n\r\n  > h3 {\r\n    margin: 0;\r\n    margin-bottom: 3px;\r\n    color: ${(props) => (props.darkMode ? \"#e0e0e0\" : \"#000\")};\r\n    font-size: 16px;\r\n    font-weight: 500;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n\r\n  > p {\r\n    font-size: 13px;\r\n    color: ${(props) => (props.darkMode ? \"#888\" : \"gray\")};\r\n    margin: 0;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    margin-left: 10px;\r\n\r\n    > h3 {\r\n      font-size: 15px;\r\n    }\r\n\r\n    > p {\r\n      font-size: 12px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst HeaderActions = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-shrink: 0;\r\n`;"],"names":[],"mappings":"AAAA,kDAAkD;;;;;;AAClD;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,cAAc,EACd,iBAAiB,EACjB,UAAU,EACV,YAAY,EACZ,WAAW,EACX,QAAQ,EACR,QAAQ,EACR,eAAe,EAChB;IACC,MAAM,iBAAiB;QACrB,IAAI,YAAY;YACd,OAAO,GAAG,eAAe,MAAM,CAAC;QAClC;QACA,OAAO;IACT;IAEA,MAAM,gBAAgB;QACpB,IAAI,YAAY;YACd,OAAO;QACT;QAEA,IAAI,WAAW,UAAU,QAAQ;YAC/B,qBACE;;oBAAE;kCACa,0JAAC,kKAAO;wBAAC,UAAU,UAAU,QAAQ,CAAC,MAAM;;;;;;;;QAG/D;QAEA,OAAO;IACT;IAEA,qBACE,0JAAC;QAAO,UAAU;;0BAChB,0JAAC;;oBACE,0BACC,0JAAC,gNAAU;wBAAC,SAAS;wBAAiB,OAAO;4BAAE,aAAa;wBAAO;kCACjE,cAAA,0JAAC,yJAAQ;;;;;;;;;;oBAGZ,0BACC,0JAAC;wBAAW,KAAK,mBAAmB,MAAM,CAAC,EAAE,EAAE,QAAQ;;;;;6CAEvD,0JAAC;kCAAY,gBAAgB,CAAC,EAAE,EAAE;;;;;;kCAEpC,0JAAC;wBAAkB,UAAU;;0CAC3B,0JAAC;0CAAI;;;;;;0CACL,0JAAC;0CAAG;;;;;;;;;;;;;;;;;;0BAGR,0JAAC;;kCACC,0JAAC,gNAAU;wBAAC,SAAS;kCACnB,cAAA,0JAAC,+JAAc;;;;;;;;;;kCAEjB,0JAAC,gNAAU;wBAAC,SAAS;kCACnB,cAAA,0JAAC,6JAAY;;;;;;;;;;;;;;;;;;;;;;AAKvB;KA9DS;uCAgEM;AAEf,oBAAoB;AACpB,MAAM,SAAS,6LAAM,CAAC,GAAG,CAAC;;oBAEN,EAAE,CAAC,QAAW,MAAM,QAAQ,GAAG,YAAY,QAAS;;;;;;;2BAO7C,EAAE,CAAC,QAAW,MAAM,QAAQ,GAAG,SAAS,aAAc;;AAEjF,CAAC;MAXK;AAaN,MAAM,aAAa,6LAAM,CAAC,GAAG,CAAC;;;;;AAK9B,CAAC;MALK;AAON,MAAM,aAAa,IAAA,6LAAM,EAAC,gMAAM,CAAC,CAAC;;;;AAIlC,CAAC;MAJK;AAMN,MAAM,oBAAoB,6LAAM,CAAC,GAAG,CAAC;;;;;;;;WAQ1B,EAAE,CAAC,QAAW,MAAM,QAAQ,GAAG,YAAY,OAAQ;;;;;;;;;;WAUnD,EAAE,CAAC,QAAW,MAAM,QAAQ,GAAG,SAAS,OAAQ;;;;;;;;;;;;;;;;;;AAkB3D,CAAC;MApCK;AAsCN,MAAM,gBAAgB,6LAAM,CAAC,GAAG,CAAC;;;;AAIjC,CAAC;MAJK","debugId":null}},
    {"offset": {"line": 4694, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/Message.js"],"sourcesContent":["// components/Message.jsx\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { auth } from \"../firebase\";\r\nimport styled from \"styled-components\";\r\nimport moment from \"moment\";\r\nimport { IconButton, Menu, MenuItem, ListItemIcon, ListItemText } from \"@mui/material\";\r\nimport DownloadIcon from \"@mui/icons-material/Download\";\r\nimport InsertDriveFileIcon from \"@mui/icons-material/InsertDriveFile\";\r\nimport ImageIcon from \"@mui/icons-material/Image\";\r\nimport VideoLibraryIcon from \"@mui/icons-material/VideoLibrary\";\r\nimport AudiotrackIcon from \"@mui/icons-material/Audiotrack\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport ReplyIcon from \"@mui/icons-material/Reply\";\r\nimport { useContext, useState } from \"react\";\r\nimport { DarkModeContext } from \"./DarkModeProvider\";\r\nimport MessageStatus from \"./ChatScreen/components/MessageStatus\";\r\nimport { MESSAGE_STATUS } from \"./ChatScreen/constants\";\r\n\r\nfunction Message({ user, message, messageId, onDelete, onReply }) {\r\n  const [userLoggedIn] = useAuthState(auth);\r\n  const [imageLoaded, setImageLoaded] = useState(false);\r\n  const [imageError, setImageError] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  // Get dark mode context\r\n  const darkModeContext = useContext(DarkModeContext);\r\n  const { darkMode } = darkModeContext || { darkMode: false };\r\n\r\n  const TypeOfMessage = user === userLoggedIn?.email ? Sender : Receiver;\r\n  const isOwnMessage = user === userLoggedIn?.email;\r\n\r\n  // Check if message is less than 1 hour old\r\n  const isRecentMessage = () => {\r\n    if (!message.timestamp) return false;\r\n    const messageTime = moment(message.timestamp);\r\n    const now = moment();\r\n    const hoursDiff = now.diff(messageTime, 'hours');\r\n    return hoursDiff < 1;\r\n  };\r\n\r\n  // Open menu\r\n  const handleMenuOpen = (event) => {\r\n    event.stopPropagation();\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  // Close menu\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  // Handle delete\r\n  const handleDelete = () => {\r\n    handleMenuClose();\r\n    if (onDelete && messageId) {\r\n      onDelete(messageId);\r\n    }\r\n  };\r\n\r\n  // Handle reply\r\n  const handleReply = () => {\r\n    handleMenuClose();\r\n    if (onReply) {\r\n      onReply({\r\n        id: messageId,\r\n        user: user,\r\n        message: message.message,\r\n        timestamp: message.timestamp,\r\n        fileURL: message.fileURL,\r\n        fileName: message.fileName,\r\n        fileType: message.fileType,\r\n        voiceURL: message.voiceURL,\r\n        voiceDuration: message.voiceDuration,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Optimize Cloudinary image URLs with transformations\r\n  const getOptimizedImageUrl = (url) => {\r\n    if (!url || !url.includes('cloudinary.com')) return url;\r\n    const transformation = '/w_600,h_600,c_limit,f_auto,q_auto';\r\n    return url.replace('/upload/', `/upload${transformation}/`);\r\n  };\r\n\r\n  // Get thumbnail for video\r\n  const getVideoThumbnail = (url) => {\r\n    if (!url || !url.includes('cloudinary.com')) return null;\r\n    const transformation = '/w_600,h_400,c_fill,f_jpg,q_auto';\r\n    return url.replace('/upload/', `/upload${transformation}/`).replace(/\\.[^.]+$/, '.jpg');\r\n  };\r\n\r\n  // Download file function with better Cloudinary support\r\n  const downloadFile = async (url, fileName) => {\r\n    try {\r\n      let downloadUrl = url;\r\n      if (url.includes('cloudinary.com')) {\r\n        downloadUrl = url.replace('/upload/', '/upload/fl_attachment/');\r\n      }\r\n\r\n      const response = await fetch(downloadUrl);\r\n      const blob = await response.blob();\r\n      const blobUrl = window.URL.createObjectURL(blob);\r\n      \r\n      const link = document.createElement(\"a\");\r\n      link.href = blobUrl;\r\n      link.download = fileName || \"download\";\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      \r\n      setTimeout(() => window.URL.revokeObjectURL(blobUrl), 100);\r\n    } catch (error) {\r\n      console.error(\"Download failed:\", error);\r\n      window.open(url, '_blank');\r\n    }\r\n  };\r\n\r\n  // Format file size\r\n  const formatFileSize = (bytes) => {\r\n    if (!bytes || bytes === 0) return \"Unknown size\";\r\n    const k = 1024;\r\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return Math.round((bytes / Math.pow(k, i)) * 100) / 100 + \" \" + sizes[i];\r\n  };\r\n\r\n  // Format voice duration\r\n  const formatDuration = (seconds) => {\r\n    if (!seconds) return \"0:00\";\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, \"0\")}`;\r\n  };\r\n\r\n  // Get file type icon and color\r\n  const getFileIcon = (fileType) => {\r\n    if (!fileType) return { icon: InsertDriveFileIcon, color: darkMode ? '#64b5f6' : '#1976d2' };\r\n    \r\n    if (fileType.includes('pdf')) return { icon: InsertDriveFileIcon, color: '#d32f2f' };\r\n    if (fileType.includes('word') || fileType.includes('document')) return { icon: InsertDriveFileIcon, color: '#2196f3' };\r\n    if (fileType.includes('sheet') || fileType.includes('excel')) return { icon: InsertDriveFileIcon, color: '#4caf50' };\r\n    if (fileType.includes('zip') || fileType.includes('rar')) return { icon: InsertDriveFileIcon, color: '#ff9800' };\r\n    \r\n    return { icon: InsertDriveFileIcon, color: darkMode ? '#64b5f6' : '#1976d2' };\r\n  };\r\n\r\n  const fileIconData = getFileIcon(message.fileType);\r\n  const FileIconComponent = fileIconData.icon;\r\n  const showDelete = isRecentMessage();\r\n\r\n  return (\r\n    <Container>\r\n      <TypeOfMessage darkMode={darkMode} isSender={isOwnMessage}>\r\n        <MessageContent>\r\n          {/* Reply Preview (if this message is a reply) */}\r\n          {message.replyTo && (\r\n            <ReplyPreview darkMode={darkMode}>\r\n              <ReplyBar isSender={isOwnMessage} />\r\n              <ReplyContent>\r\n                <ReplyUser darkMode={darkMode}>\r\n                  {message.replyTo.user === userLoggedIn?.email ? 'You' : message.replyTo.user}\r\n                </ReplyUser>\r\n                <ReplyText darkMode={darkMode}>\r\n                  {message.replyTo.message || message.replyTo.fileName || 'ğŸ¤ Voice message'}\r\n                </ReplyText>\r\n              </ReplyContent>\r\n            </ReplyPreview>\r\n          )}\r\n\r\n          {/* File Attachment */}\r\n          {message.fileURL && (\r\n            <FileAttachment>\r\n              {/* Image Preview */}\r\n              {message.fileType?.startsWith(\"image/\") ? (\r\n                <ImageContainer>\r\n                  {!imageLoaded && !imageError && (\r\n                    <ImagePlaceholder darkMode={darkMode}>\r\n                      <ImageIcon style={{ fontSize: 48, color: darkMode ? '#555' : '#ccc' }} />\r\n                    </ImagePlaceholder>\r\n                  )}\r\n                  {imageError ? (\r\n                    <ImageError darkMode={darkMode}>\r\n                      <ImageIcon style={{ fontSize: 48, color: darkMode ? '#666' : '#999' }} />\r\n                      <p>Failed to load image</p>\r\n                    </ImageError>\r\n                  ) : (\r\n                    <ImagePreview\r\n                      src={getOptimizedImageUrl(message.fileURL)}\r\n                      alt={message.fileName || \"Image\"}\r\n                      onClick={() => window.open(message.fileURL, \"_blank\")}\r\n                      onLoad={() => setImageLoaded(true)}\r\n                      onError={() => setImageError(true)}\r\n                      loading=\"lazy\"\r\n                      style={{ display: imageLoaded ? 'block' : 'none' }}\r\n                    />\r\n                  )}\r\n                  {message.fileName && (\r\n                    <ImageFileName darkMode={darkMode}>{message.fileName}</ImageFileName>\r\n                  )}\r\n                </ImageContainer>\r\n              ) : message.fileType?.startsWith(\"video/\") ? (\r\n                /* Video Preview */\r\n                <VideoContainer>\r\n                  <VideoPreview \r\n                    controls \r\n                    preload=\"metadata\"\r\n                    poster={getVideoThumbnail(message.fileURL)}\r\n                  >\r\n                    <source src={message.fileURL} type={message.fileType} />\r\n                    Your browser does not support the video tag.\r\n                  </VideoPreview>\r\n                  {message.fileName && (\r\n                    <VideoFileName darkMode={darkMode}>\r\n                      <VideoLibraryIcon style={{ fontSize: 16, marginRight: 4 }} />\r\n                      {message.fileName}\r\n                    </VideoFileName>\r\n                  )}\r\n                </VideoContainer>\r\n              ) : message.fileType?.startsWith(\"audio/\") && !message.voiceURL ? (\r\n                /* Audio File (not voice message) */\r\n                <AudioFileContainer darkMode={darkMode}>\r\n                  <AudioFileHeader>\r\n                    <AudiotrackIcon style={{ fontSize: 32, color: darkMode ? '#64b5f6' : '#1976d2' }} />\r\n                    <AudioFileInfo>\r\n                      <AudioFileName darkMode={darkMode}>\r\n                        {message.fileName || \"Audio File\"}\r\n                      </AudioFileName>\r\n                      <AudioFileSize darkMode={darkMode}>\r\n                        {formatFileSize(message.fileSize)}\r\n                      </AudioFileSize>\r\n                    </AudioFileInfo>\r\n                  </AudioFileHeader>\r\n                  <AudioPlayer controls src={message.fileURL} darkMode={darkMode}>\r\n                    Your browser does not support the audio element.\r\n                  </AudioPlayer>\r\n                </AudioFileContainer>\r\n              ) : (\r\n                /* Other Files (PDF, Documents, etc.) */\r\n                <FileInfo darkMode={darkMode}>\r\n                  <FileIconComponent style={{ fontSize: 40, color: fileIconData.color }} />\r\n                  <FileDetails>\r\n                    <FileName darkMode={darkMode}>{message.fileName || \"File\"}</FileName>\r\n                    <FileSize darkMode={darkMode}>\r\n                      {formatFileSize(message.fileSize)}\r\n                    </FileSize>\r\n                  </FileDetails>\r\n                </FileInfo>\r\n              )}\r\n\r\n              {/* Download Button */}\r\n              <DownloadButton\r\n                onClick={() => downloadFile(message.fileURL, message.fileName)}\r\n                size=\"small\"\r\n                darkMode={darkMode}\r\n              >\r\n                <DownloadIcon fontSize=\"small\" />\r\n                <span style={{ marginLeft: 5, fontSize: 12 }}>Download</span>\r\n              </DownloadButton>\r\n            </FileAttachment>\r\n          )}\r\n\r\n          {/* Voice Message */}\r\n          {message.voiceURL && (\r\n            <VoiceMessageContainer darkMode={darkMode}>\r\n              <VoiceLabel darkMode={darkMode}>ğŸ¤ Voice Message</VoiceLabel>\r\n              <AudioPlayer controls src={message.voiceURL} darkMode={darkMode}>\r\n                Your browser does not support the audio element.\r\n              </AudioPlayer>\r\n              {message.voiceDuration && (\r\n                <VoiceDuration darkMode={darkMode}>\r\n                  Duration: {formatDuration(message.voiceDuration)}\r\n                </VoiceDuration>\r\n              )}\r\n            </VoiceMessageContainer>\r\n          )}\r\n\r\n          {/* Text Message */}\r\n          {message.message && message.message.trim() && (\r\n            <MessageText darkMode={darkMode}>{message.message}</MessageText>\r\n          )}\r\n\r\n          {/* Message Footer with Timestamp and Status */}\r\n          <MessageFooter>\r\n            <Timestamp darkMode={darkMode}>\r\n              {message.timestamp ? moment(message.timestamp).format(\"LT\") : \"...\"}\r\n            </Timestamp>\r\n            {isOwnMessage && (\r\n              <MessageStatus \r\n                status={message.status || MESSAGE_STATUS.SENT} \r\n                darkMode={darkMode} \r\n              />\r\n            )}\r\n          </MessageFooter>\r\n        </MessageContent>\r\n\r\n        {/* Three Dots Menu */}\r\n        <MessageActions>\r\n          <MessageMenuButton\r\n            onClick={handleMenuOpen}\r\n            size=\"small\"\r\n            darkMode={darkMode}\r\n            isSender={isOwnMessage}\r\n          >\r\n            <MoreVertIcon fontSize=\"small\" />\r\n          </MessageMenuButton>\r\n        </MessageActions>\r\n\r\n        {/* Menu */}\r\n        <Menu\r\n          anchorEl={anchorEl}\r\n          open={Boolean(anchorEl)}\r\n          onClose={handleMenuClose}\r\n          PaperProps={{\r\n            style: {\r\n              backgroundColor: darkMode ? '#2a2a2a' : 'white',\r\n              color: darkMode ? '#e0e0e0' : 'black',\r\n            },\r\n          }}\r\n        >\r\n          <MenuItem onClick={handleReply}>\r\n            <ListItemIcon>\r\n              <ReplyIcon fontSize=\"small\" style={{ color: darkMode ? '#64b5f6' : '#1976d2' }} />\r\n            </ListItemIcon>\r\n            <ListItemText style={{ color: darkMode ? '#e0e0e0' : 'black' }}>\r\n              Reply\r\n            </ListItemText>\r\n          </MenuItem>\r\n          \r\n          {showDelete && isOwnMessage && (\r\n            <MenuItem onClick={handleDelete}>\r\n              <ListItemIcon>\r\n                <DeleteIcon fontSize=\"small\" style={{ color: '#d32f2f' }} />\r\n              </ListItemIcon>\r\n              <ListItemText style={{ color: darkMode ? '#e0e0e0' : 'black' }}>\r\n                Delete\r\n              </ListItemText>\r\n            </MenuItem>\r\n          )}\r\n        </Menu>\r\n      </TypeOfMessage>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Message;\r\n\r\n// Styled Components\r\nconst Container = styled.div`\r\n  margin: 5px 0;\r\n  \r\n  &:hover {\r\n    ${props => `\r\n      ${MessageActions} {\r\n        opacity: 1;\r\n      }\r\n    `}\r\n  }\r\n`;\r\n\r\nconst MessageElement = styled.div`\r\n  display: flex;\r\n  align-items: flex-end;\r\n  gap: 8px;\r\n  width: fit-content;\r\n  max-width: 65%;\r\n  padding: 10px 15px;\r\n  padding-top: 15px;\r\n  border-radius: 8px;\r\n  margin: 10px;\r\n  min-width: 60px;\r\n  padding-bottom: 8px;\r\n  position: relative;\r\n  word-wrap: break-word;\r\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\r\n\r\n  @media (max-width: 768px) {\r\n    max-width: 80%;\r\n  }\r\n`;\r\n\r\nconst Sender = styled(MessageElement)`\r\n  margin-left: auto;\r\n  background-color: ${props => props.darkMode ? '#056162' : '#dcf8c6'};\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  border-radius: 8px 8px 0 8px;\r\n`;\r\n\r\nconst Receiver = styled(MessageElement)`\r\n  background-color: ${props => props.darkMode ? '#1f2c33' : 'whitesmoke'};\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  text-align: left;\r\n  border-radius: 8px 8px 8px 0;\r\n  margin-left: 10px;\r\n  margin-right: auto;\r\n`;\r\n\r\nconst MessageContent = styled.div`\r\n  flex: 1;\r\n  min-width: 0;\r\n`;\r\n\r\nconst MessageActions = styled.div`\r\n  opacity: 0;\r\n  transition: opacity 0.2s;\r\n  display: flex;\r\n  align-items: flex-start;\r\n`;\r\n\r\nconst MessageMenuButton = styled(IconButton)`\r\n  opacity: 0.6 !important;\r\n  padding: 4px !important;\r\n  color: ${props => props.darkMode ? '#e0e0e0' : '#666'} !important;\r\n  \r\n  &:hover {\r\n    opacity: 1 !important;\r\n    background-color: ${props => props.darkMode ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.05)'} !important;\r\n  }\r\n`;\r\n\r\nconst MessageFooter = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  gap: 4px;\r\n  margin-top: 4px;\r\n  padding-top: 2px;\r\n`;\r\n\r\nconst ReplyPreview = styled.div`\r\n  display: flex;\r\n  margin-bottom: 8px;\r\n  padding: 8px;\r\n  background-color: ${props => props.darkMode ? 'rgba(0,0,0,0.2)' : 'rgba(0,0,0,0.05)'};\r\n  border-radius: 6px;\r\n`;\r\n\r\nconst ReplyBar = styled.div`\r\n  width: 4px;\r\n  background-color: ${props => props.isSender ? '#00a884' : '#1976d2'};\r\n  border-radius: 2px;\r\n  margin-right: 8px;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst ReplyContent = styled.div`\r\n  flex: 1;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst ReplyUser = styled.div`\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  color: ${props => props.darkMode ? '#64b5f6' : '#1976d2'};\r\n  margin-bottom: 2px;\r\n`;\r\n\r\nconst ReplyText = styled.div`\r\n  font-size: 13px;\r\n  color: ${props => props.darkMode ? '#aaa' : '#666'};\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nconst MessageText = styled.p`\r\n  margin: 0;\r\n  margin-bottom: 5px;\r\n  font-size: 14px;\r\n  line-height: 1.4;\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  white-space: pre-wrap;\r\n`;\r\n\r\nconst Timestamp = styled.span`\r\n  color: ${props => props.darkMode ? '#8696a0' : 'gray'};\r\n  font-size: 11px;\r\n  margin-left: 8px;\r\n`;\r\n\r\nconst FileAttachment = styled.div`\r\n  margin-bottom: 8px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n`;\r\n\r\n// Image Styles\r\nconst ImageContainer = styled.div`\r\n  position: relative;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  background-color: ${props => props.darkMode ? '#1a1a1a' : '#f5f5f5'};\r\n`;\r\n\r\nconst ImagePlaceholder = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 200px;\r\n  background-color: ${props => props.darkMode ? '#2a2a2a' : '#e0e0e0'};\r\n`;\r\n\r\nconst ImageError = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 200px;\r\n  background-color: ${props => props.darkMode ? '#2a2a2a' : '#f0f0f0'};\r\n  \r\n  p {\r\n    margin-top: 10px;\r\n    color: ${props => props.darkMode ? '#888' : '#666'};\r\n    font-size: 14px;\r\n  }\r\n`;\r\n\r\nconst ImagePreview = styled.img`\r\n  width: 100%;\r\n  max-width: 100%;\r\n  max-height: 400px;\r\n  object-fit: cover;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  transition: transform 0.2s, opacity 0.2s;\r\n\r\n  &:hover {\r\n    opacity: 0.95;\r\n    transform: scale(1.02);\r\n  }\r\n\r\n  &:active {\r\n    transform: scale(0.98);\r\n  }\r\n`;\r\n\r\nconst ImageFileName = styled.div`\r\n  padding: 8px;\r\n  font-size: 12px;\r\n  color: ${props => props.darkMode ? '#8696a0' : '#666'};\r\n  background-color: ${props => props.darkMode ? 'rgba(0,0,0,0.3)' : 'rgba(255,255,255,0.9)'};\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\n// Video Styles\r\nconst VideoContainer = styled.div`\r\n  position: relative;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst VideoPreview = styled.video`\r\n  width: 100%;\r\n  max-width: 100%;\r\n  max-height: 400px;\r\n  border-radius: 8px;\r\n  background-color: #000;\r\n`;\r\n\r\nconst VideoFileName = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 6px 8px;\r\n  font-size: 12px;\r\n  color: ${props => props.darkMode ? '#8696a0' : '#666'};\r\n  background-color: ${props => props.darkMode ? '#2a3942' : '#f0f0f0'};\r\n  border-radius: 6px;\r\n  margin-top: 6px;\r\n`;\r\n\r\n// Audio File Styles\r\nconst AudioFileContainer = styled.div`\r\n  padding: 12px;\r\n  background-color: ${props => props.darkMode ? '#2a3942' : '#f0f0f0'};\r\n  border-radius: 8px;\r\n  min-width: 280px;\r\n`;\r\n\r\nconst AudioFileHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst AudioFileInfo = styled.div`\r\n  flex: 1;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst AudioFileName = styled.div`\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nconst AudioFileSize = styled.div`\r\n  font-size: 12px;\r\n  color: ${props => props.darkMode ? '#8696a0' : 'gray'};\r\n  margin-top: 2px;\r\n`;\r\n\r\n// General File Styles\r\nconst FileInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 12px;\r\n  background-color: ${props => props.darkMode ? '#2a3942' : '#f0f0f0'};\r\n  border-radius: 8px;\r\n  min-width: 220px;\r\n  transition: background-color 0.2s;\r\n\r\n  &:hover {\r\n    background-color: ${props => props.darkMode ? '#3a4952' : '#e8e8e8'};\r\n  }\r\n`;\r\n\r\nconst FileDetails = styled.div`\r\n  flex: 1;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst FileName = styled.p`\r\n  margin: 0;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nconst FileSize = styled.p`\r\n  margin: 0;\r\n  font-size: 12px;\r\n  color: ${props => props.darkMode ? '#8696a0' : 'gray'};\r\n  margin-top: 4px;\r\n`;\r\n\r\nconst DownloadButton = styled(IconButton)`\r\n  display: flex !important;\r\n  align-items: center !important;\r\n  padding: 8px 14px !important;\r\n  background-color: ${props => props.darkMode ? '#2a3942' : '#e3f2fd'} !important;\r\n  color: ${props => props.darkMode ? '#64b5f6' : '#1976d2'} !important;\r\n  border-radius: 6px !important;\r\n  font-size: 12px !important;\r\n  align-self: flex-start !important;\r\n  transition: all 0.2s !important;\r\n\r\n  &:hover {\r\n    background-color: ${props => props.darkMode ? '#3a4952' : '#bbdefb'} !important;\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\n// Voice Message Styles\r\nconst VoiceMessageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  margin-bottom: 8px;\r\n  padding: 12px;\r\n  background-color: ${props => props.darkMode ? '#2a3942' : '#f0f0f0'};\r\n  border-radius: 8px;\r\n  min-width: 280px;\r\n`;\r\n\r\nconst VoiceLabel = styled.span`\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  color: ${props => props.darkMode ? '#64b5f6' : '#1976d2'};\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n`;\r\n\r\nconst AudioPlayer = styled.audio`\r\n  width: 100%;\r\n  height: 40px;\r\n  outline: none;\r\n  border-radius: 6px;\r\n  \r\n  &::-webkit-media-controls-panel {\r\n    background-color: ${props => props.darkMode ? '#1f2c33' : 'white'};\r\n    border-radius: 6px;\r\n  }\r\n\r\n  &::-webkit-media-controls-play-button,\r\n  &::-webkit-media-controls-mute-button {\r\n    filter: ${props => props.darkMode ? 'invert(1)' : 'none'};\r\n  }\r\n`;\r\n\r\nconst VoiceDuration = styled.span`\r\n  font-size: 11px;\r\n  color: ${props => props.darkMode ? '#8696a0' : 'gray'};\r\n  text-align: right;\r\n`;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5798, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/ChatScreen.styles.js"],"sourcesContent":["// components/ChatScreen/ChatScreen.styles.js\r\nimport styled from \"styled-components\";\r\nimport { Tabs } from \"@mui/material\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : 'white'};\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  position: sticky;\r\n  background-color: ${props => props.darkMode ? '#2a2a2a' : 'white'};\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  z-index: 100;\r\n  top: 0;\r\n  display: flex;\r\n  padding: 11px;\r\n  height: 80px;\r\n  align-items: center;\r\n  border-bottom: 1px solid ${props => props.darkMode ? '#333' : 'whitesmoke'};\r\n  flex-shrink: 0;\r\n`;\r\n\r\nexport const HeaderInformation = styled.div`\r\n  margin-left: 15px;\r\n  flex: 1;\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n\r\n  > h3 {\r\n    margin-bottom: 3px;\r\n    color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  }\r\n  > p {\r\n    font-size: 14px;\r\n    color: ${props => props.darkMode ? '#aaa' : 'gray'};\r\n  }\r\n`;\r\n\r\nexport const HeaderIcons = styled.div``;\r\n\r\nexport const MessageContainer = styled.div`\r\n  padding: 30px;\r\n  background-color: ${props => props.darkMode ? '#0d1117' : '#e5ded8'};\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 0;\r\n`;\r\n\r\nexport const InputContainer = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px;\r\n  background-color: ${props => props.darkMode ? '#2a2a2a' : 'white'};\r\n  gap: 10px;\r\n  flex-shrink: 0;\r\n  border-top: 1px solid ${props => props.darkMode ? '#333' : 'whitesmoke'};\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  flex: 1;\r\n  flex-shrink: 1;\r\n  outline: 0;\r\n  border: none;\r\n  border-radius: 10px;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : 'whitesmoke'};\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  padding: 15px;\r\n  margin-left: 5px;\r\n  margin-right: 5px;\r\n  font-size: 16px;\r\n\r\n  ::placeholder {\r\n    color: ${props => props.darkMode ? '#888' : '#999'};\r\n  }\r\n`;\r\n\r\nexport const EndOfMessage = styled.div`\r\n  margin-bottom: 50px;\r\n`;\r\n\r\nexport const OfflineMessage = styled.div`\r\n  text-align: center;\r\n  padding: 20px;\r\n  color: ${props => props.darkMode ? '#f8d7da' : '#721c24'};\r\n  background-color: ${props => props.darkMode ? '#5a1f1f' : '#f8d7da'};\r\n  border: 1px solid ${props => props.darkMode ? '#721c24' : '#f5c6cb'};\r\n  border-radius: 4px;\r\n  margin: 20px;\r\n`;\r\n\r\nexport const ErrorMessage = styled.div`\r\n  text-align: center;\r\n  padding: 20px;\r\n  color: ${props => props.darkMode ? '#ffeeba' : '#856404'};\r\n  background-color: ${props => props.darkMode ? '#664d03' : '#fff3cd'};\r\n  border: 1px solid ${props => props.darkMode ? '#856404' : '#ffeeba'};\r\n  border-radius: 4px;\r\n  margin: 20px;\r\n`;\r\n\r\nexport const ErrorAlert = styled.div`\r\n  color: ${props => props.darkMode ? '#f8d7da' : '#721c24'};\r\n  background-color: ${props => props.darkMode ? '#5a1f1f' : '#f8d7da'};\r\n  border: 1px solid ${props => props.darkMode ? '#721c24' : '#f5c6cb'};\r\n  padding: 10px;\r\n  margin: 10px;\r\n  border-radius: 4px;\r\n  text-align: center;\r\n`;\r\n\r\nexport const SendButton = styled.button`\r\n  background-color: ${props => props.darkMode ? '#d32f2f' : '#f44336'} !important;\r\n  color: white !important;\r\n  padding: 10px 20px !important;\r\n  border: none !important;\r\n  border-radius: 8px !important;\r\n  cursor: pointer !important;\r\n  font-weight: 600 !important;\r\n  display: block !important;\r\n  width: auto !important;\r\n  height: auto !important;\r\n  visibility: visible !important;\r\n  opacity: ${props => props.disabled ? '0.5' : '1'} !important;\r\n  \r\n  &:hover {\r\n    background-color: ${props => props.darkMode ? '#b71c1c' : '#d32f2f'} !important;\r\n  }\r\n\r\n  &:disabled {\r\n    cursor: not-allowed !important;\r\n  }\r\n`;\r\n\r\nexport const FilePreview = styled.div`\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const FileInfo = styled.div`\r\n  margin-bottom: 20px;\r\n  padding: 10px;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : '#f5f5f5'};\r\n  border-radius: 8px;\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n\r\n  p {\r\n    margin: 5px 0;\r\n  }\r\n`;\r\n\r\nexport const FileInput = styled.input`\r\n  width: 100%;\r\n  outline: 0;\r\n  border: 1px solid ${props => props.darkMode ? '#444' : '#ddd'};\r\n  border-radius: 8px;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : 'white'};\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  padding: 12px;\r\n  font-size: 16px;\r\n  margin-bottom: 10px;\r\n\r\n  ::placeholder {\r\n    color: ${props => props.darkMode ? '#888' : '#999'};\r\n  }\r\n`;\r\n\r\nexport const UploadProgress = styled.div`\r\n  text-align: center;\r\n  margin-top: 20px;\r\n\r\n  p {\r\n    margin-top: 10px;\r\n    font-weight: bold;\r\n  }\r\n`;\r\n\r\nexport const ProfileContainer = styled.div`\r\n  text-align: center;\r\n  padding: 20px;\r\n`;\r\n\r\nexport const ProfileInfo = styled.div`\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n\r\n  h2 {\r\n    margin-bottom: 15px;\r\n    color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  }\r\n\r\n  p {\r\n    margin: 10px 0;\r\n    font-size: 16px;\r\n    color: ${props => props.darkMode ? '#aaa' : 'gray'};\r\n  }\r\n`;\r\n\r\nexport const RecordingIndicator = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding: 15px;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : '#ffebee'};\r\n  border-radius: 10px;\r\n  color: ${props => props.darkMode ? '#e0e0e0' : '#c62828'};\r\n  font-weight: 500;\r\n`;\r\n\r\nexport const RecordingDot = styled.div`\r\n  width: 12px;\r\n  height: 12px;\r\n  background-color: #f44336;\r\n  border-radius: 50%;\r\n  animation: pulse 1.5s infinite;\r\n\r\n  @keyframes pulse {\r\n    0%, 100% {\r\n      opacity: 1;\r\n    }\r\n    50% {\r\n      opacity: 0.3;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const VoicePreview = styled.div`\r\n  padding: 20px;\r\n  text-align: center;\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n\r\n  p {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n\r\nexport const EmojiPickerContainer = styled.div`\r\n  width: 350px;\r\n  max-height: 450px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: ${props => props.darkMode ? '#2a2a2a' : 'white'};\r\n`;\r\n\r\nexport const EmojiPickerHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 12px 16px;\r\n  border-bottom: 1px solid ${props => props.darkMode ? '#444' : '#e0e0e0'};\r\n\r\n  h3 {\r\n    margin: 0;\r\n    font-size: 18px;\r\n    color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  }\r\n`;\r\n\r\nexport const EmojiSearchContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px 16px;\r\n  gap: 8px;\r\n  border-bottom: 1px solid ${props => props.darkMode ? '#444' : '#e0e0e0'};\r\n`;\r\n\r\nexport const EmojiSearchInput = styled.input`\r\n  flex: 1;\r\n  border: none;\r\n  outline: none;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : '#f5f5f5'};\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  padding: 8px 12px;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n\r\n  ::placeholder {\r\n    color: ${props => props.darkMode ? '#888' : '#999'};\r\n  }\r\n`;\r\n\r\nexport const EmojiCategoryTabs = styled(Tabs)`\r\n  border-bottom: 1px solid ${props => props.darkMode ? '#444' : '#e0e0e0'};\r\n  min-height: 48px;\r\n\r\n  .MuiTabs-flexContainer {\r\n    justify-content: space-around;\r\n  }\r\n`;\r\n\r\nexport const EmojiGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(8, 1fr);\r\n  gap: 4px;\r\n  padding: 12px;\r\n  overflow-y: auto;\r\n  max-height: 280px;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 8px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background: ${props => props.darkMode ? '#1e1e1e' : '#f1f1f1'};\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background: ${props => props.darkMode ? '#555' : '#888'};\r\n    border-radius: 4px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: ${props => props.darkMode ? '#666' : '#555'};\r\n  }\r\n`;\r\n\r\nexport const EmojiButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n  padding: 8px;\r\n  border-radius: 8px;\r\n  transition: all 0.2s;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  &:hover {\r\n    background-color: ${props => props.darkMode ? '#3a3a3a' : '#f0f0f0'};\r\n    transform: scale(1.2);\r\n  }\r\n\r\n  &:active {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nexport const NoEmojisMessage = styled.div`\r\n  grid-column: 1 / -1;\r\n  text-align: center;\r\n  padding: 40px 20px;\r\n  color: ${props => props.darkMode ? '#888' : '#999'};\r\n  font-size: 14px;\r\n`;\r\n\r\nexport const ReplyPreviewBar = styled.div`\r\n  display: flex;\r\n  padding: 12px 16px;\r\n  background-color: ${props => props.darkMode ? '#2a2a2a' : '#f5f5f5'};\r\n  border-top: 1px solid ${props => props.darkMode ? '#333' : '#e0e0e0'};\r\n  gap: 12px;\r\n  align-items: center;\r\n`;\r\n\r\nexport const ReplyBarIndicator = styled.div`\r\n  width: 4px;\r\n  height: 50px;\r\n  background-color: #00a884;\r\n  border-radius: 2px;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nexport const ReplyPreviewContent = styled.div`\r\n  flex: 1;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const ReplyPreviewHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 4px;\r\n  \r\n  span {\r\n    font-size: 13px;\r\n    font-weight: 600;\r\n    color: #00a884;\r\n  }\r\n`;\r\n\r\nexport const ReplyPreviewText = styled.div`\r\n  font-size: 14px;\r\n  color: ${props => props.darkMode ? '#aaa' : '#666'};\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6237, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/MessageList.jsx"],"sourcesContent":["// components/ChatScreen/components/MessageList.jsx\r\nimport React, { forwardRef } from \"react\";\r\nimport Message from \"../../Message\";\r\nimport { MessageContainer, ErrorAlert, EndOfMessage } from \"../ChatScreen.styles\";\r\n\r\nconst MessageList = forwardRef(({ \r\n  messagesSnapshot, \r\n  messages, \r\n  sendingError, \r\n  onDelete, \r\n  onReply,\r\n  darkMode \r\n}, ref) => {\r\n  const showMessages = () => {\r\n    if (messagesSnapshot) {\r\n      return messagesSnapshot.docs.map((message) => (\r\n        <Message\r\n          key={message.id}\r\n          messageId={message.id}\r\n          user={message.data().user}\r\n          message={{\r\n            ...message.data(),\r\n            timestamp: message.data().timestamp?.toMillis(),\r\n          }}\r\n          onDelete={onDelete}\r\n          onReply={onReply}\r\n        />\r\n      ));\r\n    } else {\r\n      return messages ? JSON.parse(messages).map((message) => (\r\n        <Message \r\n          key={message.id} \r\n          messageId={message.id}\r\n          user={message.user} \r\n          message={message}\r\n          onDelete={onDelete}\r\n          onReply={onReply}\r\n        />\r\n      )) : null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MessageContainer darkMode={darkMode}>\r\n      {showMessages()}\r\n      {sendingError && <ErrorAlert darkMode={darkMode}>{sendingError}</ErrorAlert>}\r\n      <EndOfMessage ref={ref} />\r\n    </MessageContainer>\r\n  );\r\n});\r\n\r\nMessageList.displayName = 'MessageList';\r\n\r\nexport default MessageList;"],"names":[],"mappings":"AAAA,mDAAmD;;;;;;AACnD;AACA;AACA;;;;;AAEA,MAAM,4BAAc,IAAA,wIAAU,OAAC,CAAC,EAC9B,gBAAgB,EAChB,QAAQ,EACR,YAAY,EACZ,QAAQ,EACR,OAAO,EACP,QAAQ,EACT,EAAE;IACD,MAAM,eAAe;QACnB,IAAI,kBAAkB;YACpB,OAAO,iBAAiB,IAAI,CAAC,GAAG,CAAC,CAAC,wBAChC,0JAAC,4HAAO;oBAEN,WAAW,QAAQ,EAAE;oBACrB,MAAM,QAAQ,IAAI,GAAG,IAAI;oBACzB,SAAS;wBACP,GAAG,QAAQ,IAAI,EAAE;wBACjB,WAAW,QAAQ,IAAI,GAAG,SAAS,EAAE;oBACvC;oBACA,UAAU;oBACV,SAAS;mBARJ,QAAQ,EAAE;;;;;QAWrB,OAAO;YACL,OAAO,WAAW,KAAK,KAAK,CAAC,UAAU,GAAG,CAAC,CAAC,wBAC1C,0JAAC,4HAAO;oBAEN,WAAW,QAAQ,EAAE;oBACrB,MAAM,QAAQ,IAAI;oBAClB,SAAS;oBACT,UAAU;oBACV,SAAS;mBALJ,QAAQ,EAAE;;;;gEAOd;QACP;IACF;IAEA,qBACE,0JAAC,gKAAgB;QAAC,UAAU;;YACzB;YACA,8BAAgB,0JAAC,0JAAU;gBAAC,UAAU;0BAAW;;;;;;0BAClD,0JAAC,4JAAY;gBAAC,KAAK;;;;;;;;;;;;AAGzB;;AAEA,YAAY,WAAW,GAAG;uCAEX","debugId":null}},
    {"offset": {"line": 6320, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/ChatInput.jsx"],"sourcesContent":["// components/ChatScreen/components/ChatInput.jsx\r\nimport React from \"react\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport InsertEmoticonIcon from \"@mui/icons-material/InsertEmoticon\";\r\nimport MicIcon from \"@mui/icons-material/Mic\";\r\nimport StopIcon from \"@mui/icons-material/Stop\";\r\nimport { \r\n  InputContainer, \r\n  Input, \r\n  SendButton, \r\n  RecordingIndicator, \r\n  RecordingDot \r\n} from \"../ChatScreen.styles\";\r\nimport { formatTime } from \"../utils\";\r\n\r\nconst ChatInput = ({ \r\n  input,\r\n  setInput,\r\n  inputRef,\r\n  isRecording,\r\n  recordingTime,\r\n  onSubmit,\r\n  onEmojiClick,\r\n  onStartRecording,\r\n  onStopRecording,\r\n  darkMode \r\n}) => {\r\n  return (\r\n    <InputContainer onSubmit={onSubmit} darkMode={darkMode}>\r\n      <IconButton onClick={onEmojiClick}>\r\n        <InsertEmoticonIcon style={{ color: darkMode ? '#e0e0e0' : 'inherit' }} />\r\n      </IconButton>\r\n      \r\n      {isRecording ? (\r\n        <RecordingIndicator darkMode={darkMode}>\r\n          <RecordingDot />\r\n          <span>Recording... {formatTime(recordingTime)}</span>\r\n          <IconButton onClick={onStopRecording} style={{ color: darkMode ? '#e0e0e0' : '#f44336' }}>\r\n            <StopIcon />\r\n          </IconButton>\r\n        </RecordingIndicator>\r\n      ) : (\r\n        <Input\r\n          ref={inputRef}\r\n          darkMode={darkMode}\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          placeholder=\"Type a message\"\r\n          type=\"text\"\r\n        />\r\n      )}\r\n      \r\n      {!isRecording && (\r\n        <SendButton\r\n          type=\"submit\"\r\n          disabled={!input?.trim()}\r\n          darkMode={darkMode}\r\n        >\r\n          Send\r\n        </SendButton>\r\n      )}\r\n      \r\n      <IconButton onClick={isRecording ? onStopRecording : onStartRecording}>\r\n        <MicIcon style={{ color: isRecording ? '#f44336' : (darkMode ? '#e0e0e0' : 'inherit') }} />\r\n      </IconButton>\r\n    </InputContainer>\r\n  );\r\n};\r\n\r\nexport default ChatInput;"],"names":[],"mappings":"AAAA,iDAAiD;;;;;;AACjD;AACA;AACA;AACA;AACA;AACA;AAOA;;;;;;;;;AAEA,MAAM,YAAY,CAAC,EACjB,KAAK,EACL,QAAQ,EACR,QAAQ,EACR,WAAW,EACX,aAAa,EACb,QAAQ,EACR,YAAY,EACZ,gBAAgB,EAChB,eAAe,EACf,QAAQ,EACT;IACC,qBACE,0JAAC,8JAAc;QAAC,UAAU;QAAU,UAAU;;0BAC5C,0JAAC,gNAAU;gBAAC,SAAS;0BACnB,cAAA,0JAAC,mKAAkB;oBAAC,OAAO;wBAAE,OAAO,WAAW,YAAY;oBAAU;;;;;;;;;;;YAGtE,4BACC,0JAAC,kKAAkB;gBAAC,UAAU;;kCAC5B,0JAAC,4JAAY;;;;;kCACb,0JAAC;;4BAAK;4BAAc,IAAA,2IAAU,EAAC;;;;;;;kCAC/B,0JAAC,gNAAU;wBAAC,SAAS;wBAAiB,OAAO;4BAAE,OAAO,WAAW,YAAY;wBAAU;kCACrF,cAAA,0JAAC,yJAAQ;;;;;;;;;;;;;;;yEAIb,0JAAC,qJAAK;gBACJ,KAAK;gBACL,UAAU;gBACV,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,aAAY;gBACZ,MAAK;;;;;;YAIR,CAAC,6BACA,0JAAC,0JAAU;gBACT,MAAK;gBACL,UAAU,CAAC,OAAO;gBAClB,UAAU;0BACX;;;;;;0BAKH,0JAAC,gNAAU;gBAAC,SAAS,cAAc,kBAAkB;0BACnD,cAAA,0JAAC,wJAAO;oBAAC,OAAO;wBAAE,OAAO,cAAc,YAAa,WAAW,YAAY;oBAAW;;;;;;;;;;;;;;;;;AAI9F;KApDM;uCAsDS","debugId":null}},
    {"offset": {"line": 6456, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/EmojiPicker.jsx"],"sourcesContent":["// components/ChatScreen/components/EmojiPicker.jsx\r\nimport React from \"react\";\r\nimport { Popover, IconButton, Tab } from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport { EMOJI_CATEGORIES } from \"../constants\";\r\nimport {\r\n  EmojiPickerContainer,\r\n  EmojiPickerHeader,\r\n  EmojiSearchContainer,\r\n  EmojiSearchInput,\r\n  EmojiCategoryTabs,\r\n  EmojiGrid,\r\n  EmojiButton,\r\n  NoEmojisMessage,\r\n} from \"../ChatScreen.styles\";\r\n\r\nconst EmojiPicker = ({\r\n  open,\r\n  anchorEl,\r\n  onClose,\r\n  selectedCategory,\r\n  onCategoryChange,\r\n  searchTerm,\r\n  onSearchChange,\r\n  emojis,\r\n  onEmojiSelect,\r\n  darkMode,\r\n}) => {\r\n  return (\r\n    <Popover\r\n      open={open}\r\n      anchorEl={anchorEl}\r\n      onClose={onClose}\r\n      anchorOrigin={{\r\n        vertical: 'top',\r\n        horizontal: 'left',\r\n      }}\r\n      transformOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n      }}\r\n      PaperProps={{\r\n        style: {\r\n          backgroundColor: darkMode ? '#2a2a2a' : 'white',\r\n          color: darkMode ? '#e0e0e0' : 'black',\r\n          borderRadius: '12px',\r\n          boxShadow: '0 4px 20px rgba(0,0,0,0.3)',\r\n        },\r\n      }}\r\n    >\r\n      <EmojiPickerContainer darkMode={darkMode}>\r\n        <EmojiPickerHeader darkMode={darkMode}>\r\n          <h3>Emojis</h3>\r\n          <IconButton onClick={onClose} size=\"small\">\r\n            <CloseIcon style={{ color: darkMode ? '#e0e0e0' : 'inherit' }} />\r\n          </IconButton>\r\n        </EmojiPickerHeader>\r\n\r\n        <EmojiSearchContainer darkMode={darkMode}>\r\n          <SearchIcon style={{ color: darkMode ? '#888' : '#666' }} />\r\n          <EmojiSearchInput\r\n            darkMode={darkMode}\r\n            placeholder=\"Search emoji...\"\r\n            value={searchTerm}\r\n            onChange={(e) => onSearchChange(e.target.value)}\r\n          />\r\n        </EmojiSearchContainer>\r\n\r\n        <EmojiCategoryTabs\r\n          value={selectedCategory}\r\n          onChange={(e, newValue) => onCategoryChange(newValue)}\r\n          variant=\"scrollable\"\r\n          scrollButtons=\"auto\"\r\n          darkMode={darkMode}\r\n          TabIndicatorProps={{\r\n            style: {\r\n              backgroundColor: darkMode ? '#d32f2f' : '#f44336',\r\n            },\r\n          }}\r\n        >\r\n          {Object.entries(EMOJI_CATEGORIES).map(([key, { name, icon }]) => (\r\n            <Tab\r\n              key={key}\r\n              value={key}\r\n              label={icon}\r\n              title={name}\r\n              style={{\r\n                color: darkMode ? '#e0e0e0' : 'black',\r\n                minWidth: 50,\r\n              }}\r\n            />\r\n          ))}\r\n        </EmojiCategoryTabs>\r\n\r\n        <EmojiGrid darkMode={darkMode}>\r\n          {emojis.length > 0 ? (\r\n            emojis.map((emoji, index) => (\r\n              <EmojiButton\r\n                key={`${emoji}-${index}`}\r\n                onClick={() => onEmojiSelect(emoji)}\r\n                darkMode={darkMode}\r\n              >\r\n                {emoji}\r\n              </EmojiButton>\r\n            ))\r\n          ) : (\r\n            <NoEmojisMessage darkMode={darkMode}>\r\n              {selectedCategory === \"recent\"\r\n                ? \"No recent emojis. Start using emojis!\"\r\n                : \"No emojis found\"}\r\n            </NoEmojisMessage>\r\n          )}\r\n        </EmojiGrid>\r\n      </EmojiPickerContainer>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default EmojiPicker;"],"names":[],"mappings":"AAAA,mDAAmD;;;;;;AACnD;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;AAWA,MAAM,cAAc,CAAC,EACnB,IAAI,EACJ,QAAQ,EACR,OAAO,EACP,gBAAgB,EAChB,gBAAgB,EAChB,UAAU,EACV,cAAc,EACd,MAAM,EACN,aAAa,EACb,QAAQ,EACT;IACC,qBACE,0JAAC,oMAAO;QACN,MAAM;QACN,UAAU;QACV,SAAS;QACT,cAAc;YACZ,UAAU;YACV,YAAY;QACd;QACA,iBAAiB;YACf,UAAU;YACV,YAAY;QACd;QACA,YAAY;YACV,OAAO;gBACL,iBAAiB,WAAW,YAAY;gBACxC,OAAO,WAAW,YAAY;gBAC9B,cAAc;gBACd,WAAW;YACb;QACF;kBAEA,cAAA,0JAAC,oKAAoB;YAAC,UAAU;;8BAC9B,0JAAC,iKAAiB;oBAAC,UAAU;;sCAC3B,0JAAC;sCAAG;;;;;;sCACJ,0JAAC,gNAAU;4BAAC,SAAS;4BAAS,MAAK;sCACjC,cAAA,0JAAC,0JAAS;gCAAC,OAAO;oCAAE,OAAO,WAAW,YAAY;gCAAU;;;;;;;;;;;;;;;;;8BAIhE,0JAAC,oKAAoB;oBAAC,UAAU;;sCAC9B,0JAAC,2JAAU;4BAAC,OAAO;gCAAE,OAAO,WAAW,SAAS;4BAAO;;;;;;sCACvD,0JAAC,gKAAgB;4BACf,UAAU;4BACV,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8BAIlD,0JAAC,iKAAiB;oBAChB,OAAO;oBACP,UAAU,CAAC,GAAG,WAAa,iBAAiB;oBAC5C,SAAQ;oBACR,eAAc;oBACd,UAAU;oBACV,mBAAmB;wBACjB,OAAO;4BACL,iBAAiB,WAAW,YAAY;wBAC1C;oBACF;8BAEC,OAAO,OAAO,CAAC,qJAAgB,EAAE,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,iBAC1D,0JAAC,oLAAG;4BAEF,OAAO;4BACP,OAAO;4BACP,OAAO;4BACP,OAAO;gCACL,OAAO,WAAW,YAAY;gCAC9B,UAAU;4BACZ;2BAPK;;;;;;;;;;8BAYX,0JAAC,yJAAS;oBAAC,UAAU;8BAClB,OAAO,MAAM,GAAG,IACf,OAAO,GAAG,CAAC,CAAC,OAAO,sBACjB,0JAAC,2JAAW;4BAEV,SAAS,IAAM,cAAc;4BAC7B,UAAU;sCAET;2BAJI,GAAG,MAAM,CAAC,EAAE,OAAO;;;;sFAQ5B,0JAAC,+JAAe;wBAAC,UAAU;kCACxB,qBAAqB,WAClB,0CACA;;;;;;;;;;;;;;;;;;;;;;AAOlB;KApGM;uCAsGS","debugId":null}},
    {"offset": {"line": 6637, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/FileUploadDialog.jsx"],"sourcesContent":["// components/ChatScreen/components/FileUploadDialog.jsx\r\nimport React from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  IconButton,\r\n  CircularProgress,\r\n} from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport SendIcon from \"@mui/icons-material/Send\";\r\nimport { FilePreview, FileInfo, FileInput, UploadProgress } from \"../ChatScreen.styles\";\r\nimport { formatFileSize } from \"../utils\";\r\n\r\nconst FileUploadDialog = ({\r\n  open,\r\n  onClose,\r\n  file,\r\n  filePreview,\r\n  input,\r\n  onInputChange,\r\n  uploadProgress,\r\n  isUploading,\r\n  onSend,\r\n  darkMode,\r\n}) => {\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={onClose}\r\n      maxWidth=\"sm\"\r\n      fullWidth\r\n      PaperProps={{\r\n        style: {\r\n          backgroundColor: darkMode ? '#2a2a2a' : 'white',\r\n          color: darkMode ? '#e0e0e0' : 'black',\r\n        },\r\n      }}\r\n    >\r\n      <DialogTitle style={{ color: darkMode ? '#e0e0e0' : 'black' }}>\r\n        Send File\r\n        <IconButton\r\n          onClick={onClose}\r\n          style={{ position: 'absolute', right: 8, top: 8, color: darkMode ? '#e0e0e0' : 'inherit' }}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        {filePreview && (\r\n          <FilePreview>\r\n            <img src={filePreview} alt=\"Preview\" style={{ maxWidth: '100%', maxHeight: '300px' }} />\r\n          </FilePreview>\r\n        )}\r\n        <FileInfo darkMode={darkMode}>\r\n          <p><strong>File:</strong> {file?.name}</p>\r\n          <p><strong>Size:</strong> {formatFileSize(file?.size)} MB</p>\r\n          <p><strong>Type:</strong> {file?.type || 'Unknown'}</p>\r\n        </FileInfo>\r\n        <FileInput\r\n          darkMode={darkMode}\r\n          value={input}\r\n          onChange={(e) => onInputChange(e.target.value)}\r\n          placeholder=\"Add a message (optional)\"\r\n          type=\"text\"\r\n        />\r\n        {isUploading && (\r\n          <UploadProgress>\r\n            <CircularProgress variant=\"determinate\" value={uploadProgress} />\r\n            <p>{Math.round(uploadProgress)}%</p>\r\n          </UploadProgress>\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onClose} style={{ color: darkMode ? '#e0e0e0' : 'inherit' }}>\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={onSend}\r\n          variant=\"contained\"\r\n          disabled={isUploading}\r\n          style={{ backgroundColor: darkMode ? '#d32f2f' : '#f44336', color: 'white' }}\r\n          startIcon={<SendIcon />}\r\n        >\r\n          {isUploading ? 'Sending...' : 'Send'}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default FileUploadDialog;"],"names":[],"mappings":"AAAA,wDAAwD;;;;;;AACxD;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;;;;;;;;AAEA,MAAM,mBAAmB,CAAC,EACxB,IAAI,EACJ,OAAO,EACP,IAAI,EACJ,WAAW,EACX,KAAK,EACL,aAAa,EACb,cAAc,EACd,WAAW,EACX,MAAM,EACN,QAAQ,EACT;IACC,qBACE,0JAAC,gMAAM;QACL,MAAM;QACN,SAAS;QACT,UAAS;QACT,SAAS;QACT,YAAY;YACV,OAAO;gBACL,iBAAiB,WAAW,YAAY;gBACxC,OAAO,WAAW,YAAY;YAChC;QACF;;0BAEA,0JAAC,oNAAW;gBAAC,OAAO;oBAAE,OAAO,WAAW,YAAY;gBAAQ;;oBAAG;kCAE7D,0JAAC,gNAAU;wBACT,SAAS;wBACT,OAAO;4BAAE,UAAU;4BAAY,OAAO;4BAAG,KAAK;4BAAG,OAAO,WAAW,YAAY;wBAAU;kCAEzF,cAAA,0JAAC,0JAAS;;;;;;;;;;;;;;;;0BAGd,0JAAC,4NAAa;;oBACX,6BACC,0JAAC,2JAAW;kCACV,cAAA,0JAAC;4BAAI,KAAK;4BAAa,KAAI;4BAAU,OAAO;gCAAE,UAAU;gCAAQ,WAAW;4BAAQ;;;;;;;;;;;kCAGvF,0JAAC,wJAAQ;wBAAC,UAAU;;0CAClB,0JAAC;;kDAAE,0JAAC;kDAAO;;;;;;oCAAc;oCAAE,MAAM;;;;;;;0CACjC,0JAAC;;kDAAE,0JAAC;kDAAO;;;;;;oCAAc;oCAAE,IAAA,+IAAc,EAAC,MAAM;oCAAM;;;;;;;0CACtD,0JAAC;;kDAAE,0JAAC;kDAAO;;;;;;oCAAc;oCAAE,MAAM,QAAQ;;;;;;;;;;;;;kCAE3C,0JAAC,yJAAS;wBACR,UAAU;wBACV,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;wBAC7C,aAAY;wBACZ,MAAK;;;;;;oBAEN,6BACC,0JAAC,8JAAc;;0CACb,0JAAC,wOAAgB;gCAAC,SAAQ;gCAAc,OAAO;;;;;;0CAC/C,0JAAC;;oCAAG,KAAK,KAAK,CAAC;oCAAgB;;;;;;;;;;;;;;;;;;;0BAIrC,0JAAC,4NAAa;;kCACZ,0JAAC,gMAAM;wBAAC,SAAS;wBAAS,OAAO;4BAAE,OAAO,WAAW,YAAY;wBAAU;kCAAG;;;;;;kCAG9E,0JAAC,gMAAM;wBACL,SAAS;wBACT,SAAQ;wBACR,UAAU;wBACV,OAAO;4BAAE,iBAAiB,WAAW,YAAY;4BAAW,OAAO;wBAAQ;wBAC3E,yBAAW,0JAAC,yJAAQ;;;;;kCAEnB,cAAc,eAAe;;;;;;;;;;;;;;;;;;AAKxC;KA3EM;uCA6ES","debugId":null}},
    {"offset": {"line": 6885, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/VoiceRecordingDialog.jsx"],"sourcesContent":["// components/ChatScreen/components/VoiceRecordingDialog.jsx\r\nimport React from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  CircularProgress,\r\n} from \"@mui/material\";\r\nimport SendIcon from \"@mui/icons-material/Send\";\r\nimport { VoicePreview, UploadProgress } from \"../ChatScreen.styles\";\r\nimport { formatTime } from \"../utils\";\r\n\r\nconst VoiceRecordingDialog = ({\r\n  open,\r\n  audioBlob,\r\n  recordingTime,\r\n  uploadProgress,\r\n  isUploading,\r\n  onCancel,\r\n  onSend,\r\n  onError,\r\n  darkMode,\r\n}) => {\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={onCancel}\r\n      maxWidth=\"sm\"\r\n      fullWidth\r\n      PaperProps={{\r\n        style: {\r\n          backgroundColor: darkMode ? '#2a2a2a' : 'white',\r\n          color: darkMode ? '#e0e0e0' : 'black',\r\n        },\r\n      }}\r\n    >\r\n      <DialogTitle style={{ color: darkMode ? '#e0e0e0' : 'black' }}>\r\n        Voice Message Recorded\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <VoicePreview darkMode={darkMode}>\r\n          <p>Duration: {formatTime(recordingTime)}</p>\r\n          {audioBlob && (\r\n            <>\r\n              <p style={{ fontSize: '12px', color: darkMode ? '#888' : '#666' }}>\r\n                Size: {(audioBlob.size / 1024).toFixed(2)} KB\r\n              </p>\r\n              <p style={{ fontSize: '12px', color: darkMode ? '#888' : '#666' }}>\r\n                Type: {audioBlob.type}\r\n              </p>\r\n              <audio \r\n                controls \r\n                src={URL.createObjectURL(audioBlob)} \r\n                style={{ width: '100%', marginTop: 10 }}\r\n                onError={(e) => {\r\n                  console.error('Audio playback error:', e);\r\n                  onError('Failed to play audio. The recording might be corrupted.');\r\n                }}\r\n              />\r\n            </>\r\n          )}\r\n        </VoicePreview>\r\n        {isUploading && (\r\n          <UploadProgress>\r\n            <CircularProgress variant=\"determinate\" value={uploadProgress} />\r\n            <p>{Math.round(uploadProgress)}%</p>\r\n          </UploadProgress>\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onCancel} disabled={isUploading} style={{ color: darkMode ? '#e0e0e0' : 'inherit' }}>\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={onSend}\r\n          variant=\"contained\"\r\n          disabled={isUploading || !audioBlob || audioBlob.size === 0}\r\n          style={{ backgroundColor: darkMode ? '#d32f2f' : '#f44336', color: 'white' }}\r\n          startIcon={<SendIcon />}\r\n        >\r\n          {isUploading ? 'Sending...' : 'Send'}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default VoiceRecordingDialog;"],"names":[],"mappings":"AAAA,4DAA4D;;;;;;AAC5D;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;;;;;;;AAEA,MAAM,uBAAuB,CAAC,EAC5B,IAAI,EACJ,SAAS,EACT,aAAa,EACb,cAAc,EACd,WAAW,EACX,QAAQ,EACR,MAAM,EACN,OAAO,EACP,QAAQ,EACT;IACC,qBACE,0JAAC,gMAAM;QACL,MAAM;QACN,SAAS;QACT,UAAS;QACT,SAAS;QACT,YAAY;YACV,OAAO;gBACL,iBAAiB,WAAW,YAAY;gBACxC,OAAO,WAAW,YAAY;YAChC;QACF;;0BAEA,0JAAC,oNAAW;gBAAC,OAAO;oBAAE,OAAO,WAAW,YAAY;gBAAQ;0BAAG;;;;;;0BAG/D,0JAAC,4NAAa;;kCACZ,0JAAC,4JAAY;wBAAC,UAAU;;0CACtB,0JAAC;;oCAAE;oCAAW,IAAA,2IAAU,EAAC;;;;;;;4BACxB,2BACC;;kDACE,0JAAC;wCAAE,OAAO;4CAAE,UAAU;4CAAQ,OAAO,WAAW,SAAS;wCAAO;;4CAAG;4CAC1D,CAAC,UAAU,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC;4CAAG;;;;;;;kDAE5C,0JAAC;wCAAE,OAAO;4CAAE,UAAU;4CAAQ,OAAO,WAAW,SAAS;wCAAO;;4CAAG;4CAC1D,UAAU,IAAI;;;;;;;kDAEvB,0JAAC;wCACC,QAAQ;wCACR,KAAK,IAAI,eAAe,CAAC;wCACzB,OAAO;4CAAE,OAAO;4CAAQ,WAAW;wCAAG;wCACtC,SAAS,CAAC;4CACR,QAAQ,KAAK,CAAC,yBAAyB;4CACvC,QAAQ;wCACV;;;;;;;;;;;;;;oBAKP,6BACC,0JAAC,8JAAc;;0CACb,0JAAC,wOAAgB;gCAAC,SAAQ;gCAAc,OAAO;;;;;;0CAC/C,0JAAC;;oCAAG,KAAK,KAAK,CAAC;oCAAgB;;;;;;;;;;;;;;;;;;;0BAIrC,0JAAC,4NAAa;;kCACZ,0JAAC,gMAAM;wBAAC,SAAS;wBAAU,UAAU;wBAAa,OAAO;4BAAE,OAAO,WAAW,YAAY;wBAAU;kCAAG;;;;;;kCAGtG,0JAAC,gMAAM;wBACL,SAAS;wBACT,SAAQ;wBACR,UAAU,eAAe,CAAC,aAAa,UAAU,IAAI,KAAK;wBAC1D,OAAO;4BAAE,iBAAiB,WAAW,YAAY;4BAAW,OAAO;wBAAQ;wBAC3E,yBAAW,0JAAC,yJAAQ;;;;;kCAEnB,cAAc,eAAe;;;;;;;;;;;;;;;;;;AAKxC;KAzEM;uCA2ES","debugId":null}},
    {"offset": {"line": 7089, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/ProfileDialog.jsx"],"sourcesContent":["// components/ChatScreen/components/ProfileDialog.jsx\r\nimport React from \"react\";\r\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, IconButton, Avatar } from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport TimeAgo from \"timeago-react\";\r\nimport { ProfileContainer, ProfileInfo } from \"../ChatScreen.styles\";\r\n\r\nconst ProfileDialog = ({\r\n  open,\r\n  onClose,\r\n  recipient,\r\n  recipientEmail,\r\n  darkMode,\r\n}) => {\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={onClose}\r\n      maxWidth=\"sm\"\r\n      fullWidth\r\n      PaperProps={{\r\n        style: {\r\n          backgroundColor: darkMode ? '#2a2a2a' : 'white',\r\n          color: darkMode ? '#e0e0e0' : 'black',\r\n        },\r\n      }}\r\n    >\r\n      <DialogTitle style={{ color: darkMode ? '#e0e0e0' : 'black' }}>\r\n        User Profile\r\n        <IconButton\r\n          onClick={onClose}\r\n          style={{ position: 'absolute', right: 8, top: 8, color: darkMode ? '#e0e0e0' : 'inherit' }}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <ProfileContainer>\r\n          <Avatar\r\n            src={recipient?.photoURL}\r\n            style={{ width: 100, height: 100, margin: '0 auto 20px' }}\r\n          >\r\n            {recipientEmail?.[0]?.toUpperCase()}\r\n          </Avatar>\r\n          <ProfileInfo darkMode={darkMode}>\r\n            <h2>{recipientEmail}</h2>\r\n            <p>\r\n              <strong>Last Seen:</strong>{\" \"}\r\n              {recipient?.lastSeen?.toDate ? (\r\n                <TimeAgo datetime={recipient.lastSeen.toDate()} />\r\n              ) : (\r\n                \"Not available\"\r\n              )}\r\n            </p>\r\n            {recipient?.displayName && (\r\n              <p><strong>Name:</strong> {recipient.displayName}</p>\r\n            )}\r\n          </ProfileInfo>\r\n        </ProfileContainer>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onClose} style={{ color: darkMode ? '#e0e0e0' : 'inherit' }}>\r\n          Close\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ProfileDialog;"],"names":[],"mappings":"AAAA,qDAAqD;;;;;;AACrD;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;AAEA,MAAM,gBAAgB,CAAC,EACrB,IAAI,EACJ,OAAO,EACP,SAAS,EACT,cAAc,EACd,QAAQ,EACT;IACC,qBACE,0JAAC,gMAAM;QACL,MAAM;QACN,SAAS;QACT,UAAS;QACT,SAAS;QACT,YAAY;YACV,OAAO;gBACL,iBAAiB,WAAW,YAAY;gBACxC,OAAO,WAAW,YAAY;YAChC;QACF;;0BAEA,0JAAC,oNAAW;gBAAC,OAAO;oBAAE,OAAO,WAAW,YAAY;gBAAQ;;oBAAG;kCAE7D,0JAAC,gNAAU;wBACT,SAAS;wBACT,OAAO;4BAAE,UAAU;4BAAY,OAAO;4BAAG,KAAK;4BAAG,OAAO,WAAW,YAAY;wBAAU;kCAEzF,cAAA,0JAAC,0JAAS;;;;;;;;;;;;;;;;0BAGd,0JAAC,4NAAa;0BACZ,cAAA,0JAAC,gKAAgB;;sCACf,0JAAC,gMAAM;4BACL,KAAK,WAAW;4BAChB,OAAO;gCAAE,OAAO;gCAAK,QAAQ;gCAAK,QAAQ;4BAAc;sCAEvD,gBAAgB,CAAC,EAAE,EAAE;;;;;;sCAExB,0JAAC,2JAAW;4BAAC,UAAU;;8CACrB,0JAAC;8CAAI;;;;;;8CACL,0JAAC;;sDACC,0JAAC;sDAAO;;;;;;wCAAoB;wCAC3B,WAAW,UAAU,uBACpB,0JAAC,kKAAO;4CAAC,UAAU,UAAU,QAAQ,CAAC,MAAM;;;;;uFAE5C;;;;;;;gCAGH,WAAW,6BACV,0JAAC;;sDAAE,0JAAC;sDAAO;;;;;;wCAAc;wCAAE,UAAU,WAAW;;;;;;;;;;;;;;;;;;;;;;;;0BAKxD,0JAAC,4NAAa;0BACZ,cAAA,0JAAC,gMAAM;oBAAC,SAAS;oBAAS,OAAO;wBAAE,OAAO,WAAW,YAAY;oBAAU;8BAAG;;;;;;;;;;;;;;;;;AAMtF;KA5DM;uCA8DS","debugId":null}},
    {"offset": {"line": 7273, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/ReplyPreview.jsx"],"sourcesContent":["// components/ChatScreen/components/ReplyPreview.jsx\r\nimport React from \"react\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport {\r\n  ReplyPreviewBar,\r\n  ReplyBarIndicator,\r\n  ReplyPreviewContent,\r\n  ReplyPreviewHeader,\r\n  ReplyPreviewText,\r\n} from \"../ChatScreen.styles\";\r\n\r\nconst ReplyPreview = ({ replyingTo, userEmail, onCancel, darkMode }) => {\r\n  if (!replyingTo) return null;\r\n\r\n  return (\r\n    <ReplyPreviewBar darkMode={darkMode}>\r\n      <ReplyBarIndicator />\r\n      <ReplyPreviewContent>\r\n        <ReplyPreviewHeader>\r\n          <span>\r\n            Replying to {replyingTo.user === userEmail ? 'yourself' : replyingTo.user}\r\n          </span>\r\n          <IconButton onClick={onCancel} size=\"small\">\r\n            <CloseIcon fontSize=\"small\" style={{ color: darkMode ? '#e0e0e0' : 'inherit' }} />\r\n          </IconButton>\r\n        </ReplyPreviewHeader>\r\n        <ReplyPreviewText darkMode={darkMode}>\r\n          {replyingTo.message || replyingTo.fileName || 'ğŸ¤ Voice message'}\r\n        </ReplyPreviewText>\r\n      </ReplyPreviewContent>\r\n    </ReplyPreviewBar>\r\n  );\r\n};\r\n\r\nexport default ReplyPreview;"],"names":[],"mappings":"AAAA,oDAAoD;;;;;;AACpD;AACA;AACA;AACA;;;;;;AAQA,MAAM,eAAe,CAAC,EAAE,UAAU,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE;IACjE,IAAI,CAAC,YAAY,OAAO;IAExB,qBACE,0JAAC,+JAAe;QAAC,UAAU;;0BACzB,0JAAC,iKAAiB;;;;;0BAClB,0JAAC,mKAAmB;;kCAClB,0JAAC,kKAAkB;;0CACjB,0JAAC;;oCAAK;oCACS,WAAW,IAAI,KAAK,YAAY,aAAa,WAAW,IAAI;;;;;;;0CAE3E,0JAAC,gNAAU;gCAAC,SAAS;gCAAU,MAAK;0CAClC,cAAA,0JAAC,0JAAS;oCAAC,UAAS;oCAAQ,OAAO;wCAAE,OAAO,WAAW,YAAY;oCAAU;;;;;;;;;;;;;;;;;kCAGjF,0JAAC,gKAAgB;wBAAC,UAAU;kCACzB,WAAW,OAAO,IAAI,WAAW,QAAQ,IAAI;;;;;;;;;;;;;;;;;;AAKxD;KArBM;uCAuBS","debugId":null}},
    {"offset": {"line": 7368, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/index.jsx"],"sourcesContent":["// components/ChatScreen/index.jsx\r\nimport React, { useRef, useState, useEffect, useContext } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { auth, db } from \"../../firebase\";\r\nimport { \r\n  addDoc, \r\n  collection, \r\n  doc, \r\n  setDoc, \r\n  deleteDoc, \r\n  updateDoc,\r\n  serverTimestamp, \r\n  enableNetwork, \r\n  disableNetwork,\r\n  query,\r\n  where,\r\n  getDocs\r\n} from \"firebase/firestore\";\r\nimport { DarkModeContext } from \"../DarkModeProvider\";\r\n\r\n// Hooks\r\nimport { useEmojiPicker } from \"./hooks/useEmojiPicker\";\r\nimport { useFileUpload } from \"./hooks/useFileUpload\";\r\nimport { useVoiceRecording } from \"./hooks/useVoiceRecording\";\r\nimport { useRecipientData } from \"./hooks/useRecipientData\";\r\nimport { useMessages } from \"./hooks/useMessages\";\r\n\r\n// Components\r\nimport ChatHeader from \"./components/ChatHeader\";\r\nimport MessageList from \"./components/MessageList\";\r\nimport ChatInput from \"./components/ChatInput\";\r\nimport EmojiPicker from \"./components/EmojiPicker\";\r\nimport FileUploadDialog from \"./components/FileUploadDialog\";\r\nimport VoiceRecordingDialog from \"./components/VoiceRecordingDialog\";\r\nimport ProfileDialog from \"./components/ProfileDialog\";\r\nimport ReplyPreview from \"./components/ReplyPreview\";\r\n\r\n// Styled Components\r\nimport { Container, OfflineMessage, ErrorMessage } from \"./ChatScreen.styles\";\r\n\r\n// Utils\r\nimport { checkIfBlocked, buildReplyData } from \"./utils\";\r\nimport { MESSAGE_STATUS } from \"./constants\";\r\n\r\nfunction ChatScreen({ chat, messages }) {\r\n  const [user] = useAuthState(auth);\r\n  const router = useRouter();\r\n  const endOfMessagesRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n  \r\n  const [input, setInput] = useState(\"\");\r\n  const [isOnline, setIsOnline] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [sendingError, setSendingError] = useState(null);\r\n  const [showProfile, setShowProfile] = useState(false);\r\n  const [replyingTo, setReplyingTo] = useState(null);\r\n\r\n  // Get dark mode context\r\n  const darkModeContext = useContext(DarkModeContext);\r\n  const { darkMode } = darkModeContext || { darkMode: false };\r\n  \r\n  const chatId = router?.query?.id || null;\r\n\r\n  // Custom Hooks\r\n  const { recipientEmail, recipient, recipientSnapshot, isSelfChat } = useRecipientData(user, chat);\r\n  const { messagesSnapshot } = useMessages(chatId);\r\n  \r\n  const emojiPicker = useEmojiPicker();\r\n  const fileUpload = useFileUpload(chatId, user, recipientEmail);\r\n  const voiceRecording = useVoiceRecording(chatId, user, recipientEmail);\r\n\r\n  // Mark recipient's messages as READ when viewing chat\r\n  useEffect(() => {\r\n    if (!chatId || !user || !recipientEmail || isSelfChat) return;\r\n\r\n    const markMessagesAsRead = async () => {\r\n      try {\r\n        const messagesRef = collection(db, 'chats', chatId, 'messages');\r\n        \r\n        // IMPORTANT: Only mark messages sent BY THE RECIPIENT (not your own messages!)\r\n        const unreadQuery = query(\r\n          messagesRef,\r\n          where('user', '==', recipientEmail), // Messages from the other person\r\n          where('status', '!=', MESSAGE_STATUS.READ)\r\n        );\r\n\r\n        const snapshot = await getDocs(unreadQuery);\r\n        \r\n        if (snapshot.empty) {\r\n          console.log('No unread messages to mark as read');\r\n          return;\r\n        }\r\n\r\n        // Update each unread message to READ status\r\n        const updatePromises = snapshot.docs.map(messageDoc => \r\n          updateDoc(messageDoc.ref, { \r\n            status: MESSAGE_STATUS.READ,\r\n            readAt: serverTimestamp()\r\n          })\r\n        );\r\n\r\n        await Promise.all(updatePromises);\r\n        console.log(`Marked ${snapshot.docs.length} messages as read`);\r\n      } catch (error) {\r\n        console.error('Error marking messages as read:', error);\r\n      }\r\n    };\r\n\r\n    // Mark as read when component mounts\r\n    markMessagesAsRead();\r\n\r\n    // Mark as read when window gains focus\r\n    const handleFocus = () => {\r\n      markMessagesAsRead();\r\n    };\r\n\r\n    window.addEventListener('focus', handleFocus);\r\n    return () => window.removeEventListener('focus', handleFocus);\r\n  }, [chatId, user, recipientEmail, isSelfChat]);\r\n\r\n  // Update own messages to DELIVERED after a short delay (simulating network delivery)\r\n  useEffect(() => {\r\n    if (!chatId || !user || !recipientEmail || isSelfChat) return;\r\n\r\n    const updateToDelivered = async () => {\r\n      try {\r\n        const messagesRef = collection(db, 'chats', chatId, 'messages');\r\n        \r\n        // Only update YOUR messages that are still in SENT status\r\n        const sentQuery = query(\r\n          messagesRef,\r\n          where('user', '==', user.email), // Your own messages\r\n          where('status', '==', MESSAGE_STATUS.SENT)\r\n        );\r\n\r\n        const snapshot = await getDocs(sentQuery);\r\n        \r\n        if (snapshot.empty) return;\r\n\r\n        // Update to delivered\r\n        const updatePromises = snapshot.docs.map(messageDoc =>\r\n          updateDoc(messageDoc.ref, { \r\n            status: MESSAGE_STATUS.DELIVERED,\r\n            deliveredAt: serverTimestamp()\r\n          })\r\n        );\r\n\r\n        await Promise.all(updatePromises);\r\n        console.log(`Updated ${snapshot.docs.length} messages to delivered`);\r\n      } catch (error) {\r\n        console.error('Error updating to delivered:', error);\r\n      }\r\n    };\r\n\r\n    // Update to delivered after 2 seconds (simulating delivery time)\r\n    const timer = setTimeout(updateToDelivered, 2000);\r\n    \r\n    return () => clearTimeout(timer);\r\n  }, [chatId, user, recipientEmail, isSelfChat, messagesSnapshot]);\r\n\r\n  // Monitor online status\r\n  useEffect(() => {\r\n    const handleOnline = () => {\r\n      setIsOnline(true);\r\n      enableNetwork(db);\r\n    };\r\n\r\n    const handleOffline = () => {\r\n      setIsOnline(false);\r\n      disableNetwork(db);\r\n    };\r\n\r\n    window.addEventListener(\"online\", handleOnline);\r\n    window.addEventListener(\"offline\", handleOffline);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"online\", handleOnline);\r\n      window.removeEventListener(\"offline\", handleOffline);\r\n    };\r\n  }, []);\r\n\r\n  // Scroll to bottom\r\n  const scrollToBottom = () => {\r\n    if (endOfMessagesRef?.current) {\r\n      endOfMessagesRef.current.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"start\",\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messagesSnapshot]);\r\n\r\n  // Handle emoji selection\r\n  const handleEmojiClick = (emoji) => {\r\n    const cursorPosition = inputRef.current?.selectionStart || input.length;\r\n    const textBeforeCursor = input.slice(0, cursorPosition);\r\n    const textAfterCursor = input.slice(cursorPosition);\r\n    \r\n    setInput(textBeforeCursor + emoji + textAfterCursor);\r\n    emojiPicker.saveRecentEmoji(emoji);\r\n    \r\n    setTimeout(() => {\r\n      if (inputRef.current) {\r\n        inputRef.current.focus();\r\n        const newPosition = cursorPosition + emoji.length;\r\n        inputRef.current.setSelectionRange(newPosition, newPosition);\r\n      }\r\n    }, 0);\r\n  };\r\n\r\n  // Delete message\r\n  const deleteMessage = async (messageId) => {\r\n    if (!chatId || !messageId) return;\r\n    \r\n    try {\r\n      await deleteDoc(doc(db, \"chats\", chatId, \"messages\", messageId));\r\n      console.log(\"Message deleted successfully\");\r\n    } catch (error) {\r\n      console.error(\"Error deleting message:\", error);\r\n      setSendingError(\"Failed to delete message. Please try again.\");\r\n    }\r\n  };\r\n\r\n  // Set reply\r\n  const handleReply = (messageData) => {\r\n    setReplyingTo(messageData);\r\n    inputRef.current?.focus();\r\n  };\r\n\r\n  // Cancel reply\r\n  const cancelReply = () => {\r\n    setReplyingTo(null);\r\n  };\r\n\r\n  // Send text message\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault();\r\n    setSendingError(null);\r\n\r\n    if (!input?.trim() || !chatId || !user || !recipientEmail) return;\r\n\r\n    try {\r\n      // Skip blocking check for self-chat\r\n      if (!isSelfChat) {\r\n        const isBlocked = await checkIfBlocked(user.email, recipientEmail);\r\n        if (isBlocked) {\r\n          setSendingError(\"You cannot send messages to this user. You have been blocked.\");\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Update user's last seen\r\n      const userRef = doc(db, \"users\", user.uid);\r\n      await setDoc(\r\n        userRef,\r\n        {\r\n          lastSeen: serverTimestamp(),\r\n        },\r\n        { merge: true }\r\n      );\r\n\r\n      // Build message data\r\n      const messageData = {\r\n        timestamp: serverTimestamp(),\r\n        message: input,\r\n        user: user.email,\r\n        photoURL: user.photoURL,\r\n        status: MESSAGE_STATUS.SENT, // Initial status is SENT (1 gray check)\r\n      };\r\n\r\n      // Add reply data if replying\r\n      const replyData = buildReplyData(replyingTo);\r\n      if (replyData) {\r\n        messageData.replyTo = replyData;\r\n      }\r\n\r\n      // Send message\r\n      await addDoc(collection(db, \"chats\", chatId, \"messages\"), messageData);\r\n\r\n      // Clear input and reply\r\n      setInput(\"\");\r\n      setReplyingTo(null);\r\n      scrollToBottom();\r\n    } catch (error) {\r\n      console.error(\"Error sending message:\", error);\r\n      setSendingError(\"Failed to send message. Please try again.\");\r\n    }\r\n  };\r\n\r\n  if (!isOnline) {\r\n    return (\r\n      <Container darkMode={darkMode}>\r\n        <OfflineMessage darkMode={darkMode}>\r\n          You are currently offline. Please check your internet connection.\r\n        </OfflineMessage>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container darkMode={darkMode}>\r\n        <ErrorMessage darkMode={darkMode}>{error}</ErrorMessage>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container darkMode={darkMode}>\r\n      <ChatHeader\r\n        recipient={recipient}\r\n        recipientEmail={recipientEmail}\r\n        recipientSnapshot={recipientSnapshot}\r\n        isSelfChat={isSelfChat}\r\n        onAttachFile={() => fileInputRef.current?.click()}\r\n        onMoreClick={() => setShowProfile(true)}\r\n        darkMode={darkMode}\r\n        isMobile={isMobile}\r\n        onToggleSidebar={onToggleSidebar}\r\n      />\r\n\r\n      <input\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        hidden\r\n        onChange={fileUpload.handleFileSelect}\r\n        accept=\"*/*\"\r\n      />\r\n\r\n      <MessageList\r\n        ref={endOfMessagesRef}\r\n        messagesSnapshot={messagesSnapshot}\r\n        messages={messages}\r\n        sendingError={sendingError}\r\n        onDelete={deleteMessage}\r\n        onReply={handleReply}\r\n        darkMode={darkMode}\r\n      />\r\n\r\n      <EmojiPicker\r\n        open={emojiPicker.openEmojiPicker}\r\n        anchorEl={emojiPicker.emojiAnchorEl}\r\n        onClose={emojiPicker.handleEmojiPickerClose}\r\n        selectedCategory={emojiPicker.selectedEmojiCategory}\r\n        onCategoryChange={emojiPicker.setSelectedEmojiCategory}\r\n        searchTerm={emojiPicker.emojiSearchTerm}\r\n        onSearchChange={emojiPicker.setEmojiSearchTerm}\r\n        emojis={emojiPicker.getFilteredEmojis()}\r\n        onEmojiSelect={handleEmojiClick}\r\n        darkMode={darkMode}\r\n      />\r\n\r\n      <FileUploadDialog\r\n        open={fileUpload.showFileConfirmation}\r\n        onClose={fileUpload.cancelFileSelection}\r\n        file={fileUpload.selectedFile}\r\n        filePreview={fileUpload.filePreview}\r\n        input={input}\r\n        onInputChange={setInput}\r\n        uploadProgress={fileUpload.uploadProgress}\r\n        isUploading={fileUpload.isUploading}\r\n        onSend={() => fileUpload.sendFileMessage(\r\n          input,\r\n          replyingTo,\r\n          setSendingError,\r\n          setInput,\r\n          setReplyingTo,\r\n          scrollToBottom,\r\n          isSelfChat,\r\n        )}\r\n        darkMode={darkMode}\r\n      />\r\n\r\n      <VoiceRecordingDialog\r\n        open={voiceRecording.audioBlob !== null}\r\n        audioBlob={voiceRecording.audioBlob}\r\n        recordingTime={voiceRecording.recordingTime}\r\n        uploadProgress={voiceRecording.uploadProgress}\r\n        isUploading={voiceRecording.isUploading}\r\n        onCancel={voiceRecording.cancelRecording}\r\n        onSend={() => voiceRecording.sendVoiceMessage(\r\n          replyingTo,\r\n          setSendingError,\r\n          setReplyingTo,\r\n          scrollToBottom,\r\n          isSelfChat,\r\n        )}\r\n        onError={setSendingError}\r\n        darkMode={darkMode}\r\n      />\r\n\r\n      <ProfileDialog\r\n        open={showProfile}\r\n        onClose={() => setShowProfile(false)}\r\n        recipient={recipient}\r\n        recipientEmail={recipientEmail}\r\n        isSelfChat={isSelfChat}\r\n        darkMode={darkMode}\r\n      />\r\n\r\n      <ReplyPreview\r\n        replyingTo={replyingTo}\r\n        userEmail={user?.email}\r\n        onCancel={cancelReply}\r\n        darkMode={darkMode}\r\n      />\r\n\r\n      <ChatInput\r\n        input={input}\r\n        setInput={setInput}\r\n        inputRef={inputRef}\r\n        isRecording={voiceRecording.isRecording}\r\n        recordingTime={voiceRecording.recordingTime}\r\n        onSubmit={sendMessage}\r\n        onEmojiClick={emojiPicker.handleEmojiPickerOpen}\r\n        onStartRecording={() => voiceRecording.startRecording(setSendingError)}\r\n        onStopRecording={voiceRecording.stopRecording}\r\n        darkMode={darkMode}\r\n      />\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default ChatScreen;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7848, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/pages/index.js"],"sourcesContent":["// pages/index.jsx\r\nimport Head from \"next/head\";\r\nimport styled from \"styled-components\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport Sidebar from \"../components/Sidebar\";\r\nimport ChatScreen from \"../components/ChatScreen\";\r\nimport { DarkModeContext } from \"../components/DarkModeProvider\";\r\nimport ChatBubbleOutlineIcon from \"@mui/icons-material/ChatBubbleOutline\";\r\n\r\nexport default function Home() {\r\n  const router = useRouter();\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n\r\n  const darkModeContext = useContext(DarkModeContext);\r\n  const { darkMode } = darkModeContext || { darkMode: false };\r\n\r\n  // Detect mobile/tablet screen size\r\n  useEffect(() => {\r\n    const checkScreenSize = () => {\r\n      const mobile = window.innerWidth <= 1024;\r\n      setIsMobile(mobile);\r\n    };\r\n\r\n    checkScreenSize();\r\n    window.addEventListener('resize', checkScreenSize);\r\n    return () => window.removeEventListener('resize', checkScreenSize);\r\n  }, []);\r\n\r\n  // Close sidebar when route changes (chat selected) on mobile\r\n  useEffect(() => {\r\n    if (isMobile && router.query.id) {\r\n      setSidebarOpen(false);\r\n    }\r\n  }, [router.query.id, isMobile]);\r\n\r\n  const chatId = router.query.id;\r\n\r\n  return (\r\n    <Container darkMode={darkMode}>\r\n      <Head>\r\n        <title>{chatId ? 'Chat' : 'Your Chats'}</title>\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\" />\r\n      </Head>\r\n\r\n      <AppContainer>\r\n        <Sidebar \r\n          isMobile={isMobile} \r\n          sidebarOpen={sidebarOpen} \r\n          setSidebarOpen={setSidebarOpen}\r\n        />\r\n\r\n        {chatId ? (\r\n          <ChatScreen \r\n            isMobile={isMobile}\r\n            onToggleSidebar={() => setSidebarOpen(true)}\r\n          />\r\n        ) : (\r\n          !isMobile && (\r\n            <WelcomeScreen darkMode={darkMode}>\r\n              <WelcomeContent>\r\n                <ChatBubbleOutlineIcon style={{ fontSize: 100, opacity: 0.3, marginBottom: 20 }} />\r\n                <WelcomeTitle darkMode={darkMode}>Welcome to Chat App</WelcomeTitle>\r\n                <WelcomeText darkMode={darkMode}>\r\n                  Select a chat from the sidebar to start messaging\r\n                </WelcomeText>\r\n                <WelcomeSubText darkMode={darkMode}>\r\n                  or create a new chat to connect with someone\r\n                </WelcomeSubText>\r\n              </WelcomeContent>\r\n            </WelcomeScreen>\r\n          )\r\n        )}\r\n      </AppContainer>\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst Container = styled.div`\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : 'white'};\r\n  min-height: 100vh;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst AppContainer = styled.div`\r\n  display: flex;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n  position: relative;\r\n`;\r\n\r\nconst WelcomeScreen = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: ${props => props.darkMode ? '#121212' : '#f0f2f5'};\r\n  border-left: 1px solid ${props => props.darkMode ? '#333' : '#e0e0e0'};\r\n\r\n  @media (max-width: 1024px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst WelcomeContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  text-align: center;\r\n  padding: 40px;\r\n  max-width: 500px;\r\n`;\r\n\r\nconst WelcomeTitle = styled.h1`\r\n  font-size: 28px;\r\n  font-weight: 400;\r\n  color: ${props => props.darkMode ? '#e0e0e0' : '#333'};\r\n  margin: 0 0 20px 0;\r\n`;\r\n\r\nconst WelcomeText = styled.p`\r\n  font-size: 16px;\r\n  color: ${props => props.darkMode ? '#888' : '#666'};\r\n  margin: 0 0 10px 0;\r\n  line-height: 1.5;\r\n`;\r\n\r\nconst WelcomeSubText = styled.p`\r\n  font-size: 14px;\r\n  color: ${props => props.darkMode ? '#666' : '#999'};\r\n  margin: 0;\r\n  font-style: italic;\r\n`;"],"names":[],"mappings":"AAAA,kBAAkB;;;;;;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAEe,SAAS;;IACtB,MAAM,SAAS,IAAA,uIAAS;IACxB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,sIAAQ,EAAC;IAC/C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,sIAAQ,EAAC;IAEzC,MAAM,kBAAkB,IAAA,wIAAU,EAAC,6IAAe;IAClD,MAAM,EAAE,QAAQ,EAAE,GAAG,mBAAmB;QAAE,UAAU;IAAM;IAE1D,mCAAmC;IACnC,IAAA,uIAAS;0BAAC;YACR,MAAM;kDAAkB;oBACtB,MAAM,SAAS,OAAO,UAAU,IAAI;oBACpC,YAAY;gBACd;;YAEA;YACA,OAAO,gBAAgB,CAAC,UAAU;YAClC;kCAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;yBAAG,EAAE;IAEL,6DAA6D;IAC7D,IAAA,uIAAS;0BAAC;YACR,IAAI,YAAY,OAAO,KAAK,CAAC,EAAE,EAAE;gBAC/B,eAAe;YACjB;QACF;yBAAG;QAAC,OAAO,KAAK,CAAC,EAAE;QAAE;KAAS;IAE9B,MAAM,SAAS,OAAO,KAAK,CAAC,EAAE;IAE9B,qBACE,0JAAC;QAAU,UAAU;;0BACnB,0JAAC,mIAAI;;kCACH,0JAAC;kCAAO,SAAS,SAAS;;;;;;kCAC1B,0JAAC;wBAAK,MAAK;wBAAW,SAAQ;;;;;;;;;;;;0BAGhC,0JAAC;;kCACC,0JAAC,4HAAO;wBACN,UAAU;wBACV,aAAa;wBACb,gBAAgB;;;;;;oBAGjB,uBACC,0JAAC,yIAAU;wBACT,UAAU;wBACV,iBAAiB,IAAM,eAAe;;;;;+BAGxC,CAAC,0BACC,0JAAC;wBAAc,UAAU;kCACvB,cAAA,0JAAC;;8CACC,0JAAC,sKAAqB;oCAAC,OAAO;wCAAE,UAAU;wCAAK,SAAS;wCAAK,cAAc;oCAAG;;;;;;8CAC9E,0JAAC;oCAAa,UAAU;8CAAU;;;;;;8CAClC,0JAAC;oCAAY,UAAU;8CAAU;;;;;;8CAGjC,0JAAC;oCAAe,UAAU;8CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUpD;GAnEwB;;QACP,uIAAS;;;KADF;AAqExB,MAAM,YAAY,6LAAM,CAAC,GAAG,CAAC;oBACT,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,QAAQ;;;AAGpE,CAAC;MAJK;AAMN,MAAM,eAAe,6LAAM,CAAC,GAAG,CAAC;;;;;AAKhC,CAAC;MALK;AAON,MAAM,gBAAgB,6LAAM,CAAC,GAAG,CAAC;;;;;oBAKb,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,UAAU;yBAC7C,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,SAAS,UAAU;;;;;AAKxE,CAAC;MAXK;AAaN,MAAM,iBAAiB,6LAAM,CAAC,GAAG,CAAC;;;;;;;AAOlC,CAAC;MAPK;AASN,MAAM,eAAe,6LAAM,CAAC,EAAE,CAAC;;;SAGtB,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,OAAO;;AAExD,CAAC;MALK;AAON,MAAM,cAAc,6LAAM,CAAC,CAAC,CAAC;;SAEpB,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,SAAS,OAAO;;;AAGrD,CAAC;MALK;AAON,MAAM,iBAAiB,6LAAM,CAAC,CAAC,CAAC;;SAEvB,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,SAAS,OAAO;;;AAGrD,CAAC;MALK","debugId":null}},
    {"offset": {"line": 8093, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/entry/page-loader.ts"],"sourcesContent":["const PAGE_PATH = \"/\";\n\n/// <reference types=\"next/client\" />\r\n\r\n// inserted by rust code\r\ndeclare const PAGE_PATH: string\r\n\r\n  // Adapted from https://github.com/vercel/next.js/blob/b7f9f1f98fc8ab602e84825105b5727272b72e7d/packages/next/src/build/webpack/loaders/next-client-pages-loader.ts\r\n;(window.__NEXT_P = window.__NEXT_P || []).push([\r\n  PAGE_PATH,\r\n  () => {\r\n    return require('PAGE')\r\n  },\r\n])\r\n// @ts-expect-error module.hot exists\r\nif (module.hot) {\r\n  // @ts-expect-error module.hot exists\r\n  module.hot.dispose(function () {\r\n    window.__NEXT_P.push([PAGE_PATH])\r\n  })\r\n}\r\n"],"names":[],"mappings":"AAAA,MAAM,YAAY;AAQjB,CAAC,OAAO,QAAQ,GAAG,OAAO,QAAQ,IAAI,EAAE,EAAE,IAAI,CAAC;IAC9C;IACA;QACE;IACF;CACD;AACD,qCAAqC;AACrC,IAAI,OAAO,GAAG,EAAE;IACd,qCAAqC;IACrC,OAAO,GAAG,CAAC,OAAO,CAAC;QACjB,OAAO,QAAQ,CAAC,IAAI,CAAC;YAAC;SAAU;IAClC;AACF","ignoreList":[0],"debugId":null}}]
}