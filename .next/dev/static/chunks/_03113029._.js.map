{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/DarkModeProvider.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const DarkModeContext = createContext();\r\n\r\nexport const DarkModeProvider = ({ children }) => {\r\n  const [darkMode, setDarkMode] = useState(() => {\r\n    // Get saved preference from localStorage\r\n    if (typeof window !== \"undefined\") {\r\n      const saved = localStorage.getItem(\"darkMode\");\r\n      return saved === \"true\";\r\n    }\r\n    return false;\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Save preference to localStorage\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.setItem(\"darkMode\", darkMode);\r\n    }\r\n  }, [darkMode]);\r\n\r\n  const toggleDarkMode = () => {\r\n    setDarkMode((prev) => !prev);\r\n  };\r\n\r\n  return (\r\n    <DarkModeContext.Provider value={{ darkMode, toggleDarkMode }}>\r\n      {children}\r\n    </DarkModeContext.Provider>\r\n  );\r\n};"],"names":[],"mappings":";;;;;;;AAAA;;;;AAEO,MAAM,gCAAkB,IAAA,2IAAa;AAErC,MAAM,mBAAmB,CAAC,EAAE,QAAQ,EAAE;;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,sIAAQ;qCAAC;YACvC,yCAAyC;YACzC,wCAAmC;gBACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;gBACnC,OAAO,UAAU;YACnB;;;QAEF;;IAEA,IAAA,uIAAS;sCAAC;YACR,kCAAkC;YAClC,wCAAmC;gBACjC,aAAa,OAAO,CAAC,YAAY;YACnC;QACF;qCAAG;QAAC;KAAS;IAEb,MAAM,iBAAiB;QACrB,YAAY,CAAC,OAAS,CAAC;IACzB;IAEA,qBACE,0JAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAU;QAAe;kBACzD;;;;;;AAGP;GA1Ba;KAAA","debugId":null}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/constants.js"],"sourcesContent":["// components/ChatScreen/constants.js\r\n\r\nexport const EMOJI_CATEGORIES = {\r\n  recent: { name: \"Recent\", icon: \"üïí\" },\r\n  smileys: { name: \"Smileys & People\", icon: \"üòÄ\" },\r\n  animals: { name: \"Animals & Nature\", icon: \"üê∂\" },\r\n  food: { name: \"Food & Drink\", icon: \"üçî\" },\r\n  activities: { name: \"Activities\", icon: \"‚öΩ\" },\r\n  travel: { name: \"Travel & Places\", icon: \"‚úàÔ∏è\" },\r\n  objects: { name: \"Objects\", icon: \"üí°\" },\r\n  symbols: { name: \"Symbols\", icon: \"‚ù§Ô∏è\" },\r\n  flags: { name: \"Flags\", icon: \"üèÅ\" },\r\n};\r\n\r\n\r\nexport const EMOJIS = {\r\n  smileys: [\r\n    \"üòÄ\", \"üòÉ\", \"üòÑ\", \"üòÅ\", \"üòÜ\", \"üòÖ\", \"ü§£\", \"üòÇ\", \"üôÇ\", \"üôÉ\", \"üòâ\", \"üòä\", \"üòá\",\r\n    \"ü•∞\", \"üòç\", \"ü§©\", \"üòò\", \"üòó\", \"üòö\", \"üòô\", \"ü•≤\", \"üòã\", \"üòõ\", \"üòú\", \"ü§™\", \"üòù\",\r\n    \"ü§ë\", \"ü§ó\", \"ü§≠\", \"ü§´\", \"ü§î\", \"ü§ê\", \"ü§®\", \"üòê\", \"üòë\", \"üò∂\", \"üòè\", \"üòí\", \"üôÑ\",\r\n    \"üò¨\", \"ü§•\", \"üòå\", \"üòî\", \"üò™\", \"ü§§\", \"üò¥\", \"üò∑\", \"ü§í\", \"ü§ï\", \"ü§¢\", \"ü§Æ\", \"ü§ß\",\r\n    \"ü•µ\", \"ü•∂\", \"ü•¥\", \"üòµ\", \"ü§Ø\", \"ü§†\", \"ü•≥\", \"ü•∏\", \"üòé\", \"ü§ì\", \"üßê\", \"üòï\", \"üòü\",\r\n    \"üôÅ\", \"‚òπÔ∏è\", \"üòÆ\", \"üòØ\", \"üò≤\", \"üò≥\", \"ü•∫\", \"üò¶\", \"üòß\", \"üò®\", \"üò∞\", \"üò•\", \"üò¢\",\r\n    \"üò≠\", \"üò±\", \"üòñ\", \"üò£\", \"üòû\", \"üòì\", \"üò©\", \"üò´\", \"ü•±\", \"üò§\", \"üò°\", \"üò†\", \"ü§¨\",\r\n    \"üòà\", \"üëø\", \"üíÄ\", \"‚ò†Ô∏è\", \"üí©\", \"ü§°\", \"üëπ\", \"üë∫\", \"üëª\", \"üëΩ\", \"üëæ\", \"ü§ñ\", \"üò∫\",\r\n    \"üò∏\", \"üòπ\", \"üòª\", \"üòº\", \"üòΩ\", \"üôÄ\", \"üòø\", \"üòæ\", \"üëã\", \"ü§ö\", \"üñêÔ∏è\", \"‚úã\", \"üññ\",\r\n    \"üëå\", \"ü§å\", \"ü§è\", \"‚úåÔ∏è\", \"ü§û\", \"ü§ü\", \"ü§ò\", \"ü§ô\", \"üëà\", \"üëâ\", \"üëÜ\", \"üñï\", \"üëá\",\r\n    \"‚òùÔ∏è\", \"üëç\", \"üëé\", \"‚úä\", \"üëä\", \"ü§õ\", \"ü§ú\", \"üëè\", \"üôå\", \"üëê\", \"ü§≤\", \"ü§ù\", \"üôè\",\r\n    \"‚úçÔ∏è\", \"üíÖ\", \"ü§≥\", \"üí™\", \"ü¶æ\", \"ü¶ø\", \"ü¶µ\", \"ü¶∂\", \"üëÇ\", \"ü¶ª\", \"üëÉ\", \"üß†\", \"ü´Ä\",\r\n    \"ü´Å\", \"ü¶∑\", \"ü¶¥\", \"üëÄ\", \"üëÅÔ∏è\", \"üëÖ\", \"üëÑ\", \"üíã\", \"ü©∏\"\r\n  ],\r\n  animals: [\r\n    \"üê∂\", \"üê±\", \"üê≠\", \"üêπ\", \"üê∞\", \"ü¶ä\", \"üêª\", \"üêº\", \"üê®\", \"üêØ\", \"ü¶Å\", \"üêÆ\", \"üê∑\",\r\n    \"üêΩ\", \"üê∏\", \"üêµ\", \"üôà\", \"üôâ\", \"üôä\", \"üêí\", \"üêî\", \"üêß\", \"üê¶\", \"üê§\", \"üê£\", \"üê•\",\r\n    \"ü¶Ü\", \"ü¶Ö\", \"ü¶â\", \"ü¶á\", \"üê∫\", \"üêó\", \"üê¥\", \"ü¶Ñ\", \"üêù\", \"ü™±\", \"üêõ\", \"ü¶ã\", \"üêå\",\r\n    \"üêû\", \"üêú\", \"ü™∞\", \"ü™≤\", \"ü™≥\", \"ü¶ü\", \"ü¶ó\", \"üï∑Ô∏è\", \"üï∏Ô∏è\", \"ü¶Ç\", \"üê¢\", \"üêç\", \"ü¶é\",\r\n    \"ü¶ñ\", \"ü¶ï\", \"üêô\", \"ü¶ë\", \"ü¶ê\", \"ü¶û\", \"ü¶Ä\", \"üê°\", \"üê†\", \"üêü\", \"üê¨\", \"üê≥\", \"üêã\",\r\n    \"ü¶à\", \"üêä\", \"üêÖ\", \"üêÜ\", \"ü¶ì\", \"ü¶ç\", \"ü¶ß\", \"ü¶£\", \"üêò\", \"ü¶õ\", \"ü¶è\", \"üê™\", \"üê´\",\r\n    \"ü¶í\", \"ü¶ò\", \"ü¶¨\", \"üêÉ\", \"üêÇ\", \"üêÑ\", \"üêé\", \"üêñ\", \"üêè\", \"üêë\", \"ü¶ô\", \"üêê\", \"ü¶å\",\r\n    \"üêï\", \"üê©\", \"ü¶Æ\", \"üêï‚Äçü¶∫\", \"üêà\", \"üêà‚Äç‚¨õ\", \"ü™∂\", \"üêì\", \"ü¶É\", \"ü¶§\", \"ü¶ö\", \"ü¶ú\", \"ü¶¢\",\r\n    \"ü¶©\", \"üïäÔ∏è\", \"üêá\", \"ü¶ù\", \"ü¶®\", \"ü¶°\", \"ü¶´\", \"ü¶¶\", \"ü¶•\", \"üêÅ\", \"üêÄ\", \"üêøÔ∏è\", \"ü¶î\",\r\n    \"üå≤\", \"üå≥\", \"üå¥\", \"üå±\", \"üåø\", \"‚òòÔ∏è\", \"üçÄ\", \"üéç\", \"ü™¥\", \"üéã\", \"üçÉ\", \"üçÇ\", \"üçÅ\",\r\n    \"üçÑ\", \"üêö\", \"ü™®\", \"üåæ\", \"üíê\", \"üå∑\", \"üåπ\", \"ü•Ä\", \"üå∫\", \"üå∏\", \"üåº\", \"üåª\", \"üåû\",\r\n    \"üåù\", \"üåõ\", \"üåú\", \"üåö\", \"üåï\", \"üåñ\", \"üåó\", \"üåò\", \"üåë\", \"üåí\", \"üåì\", \"üåî\", \"üåô\",\r\n    \"üåé\", \"üåç\", \"üåè\", \"ü™ê\", \"üí´\", \"‚≠ê\", \"üåü\", \"‚ú®\", \"‚ö°\", \"‚òÑÔ∏è\", \"üí•\", \"üî•\", \"üå™Ô∏è\",\r\n    \"üåà\", \"‚òÄÔ∏è\", \"üå§Ô∏è\", \"‚õÖ\", \"üå•Ô∏è\", \"‚òÅÔ∏è\", \"üå¶Ô∏è\", \"üåßÔ∏è\", \"‚õàÔ∏è\", \"üå©Ô∏è\", \"üå®Ô∏è\", \"‚ùÑÔ∏è\", \"‚òÉÔ∏è\",\r\n    \"‚õÑ\", \"üå¨Ô∏è\", \"üí®\", \"üíß\", \"üí¶\", \"‚òî\", \"‚òÇÔ∏è\", \"üåä\", \"üå´Ô∏è\"\r\n  ],\r\n  food: [\r\n    \"üçè\", \"üçé\", \"üçê\", \"üçä\", \"üçã\", \"üçå\", \"üçâ\", \"üçá\", \"üçì\", \"ü´ê\", \"üçà\", \"üçí\", \"üçë\",\r\n    \"ü•≠\", \"üçç\", \"ü••\", \"ü•ù\", \"üçÖ\", \"üçÜ\", \"ü•ë\", \"ü•¶\", \"ü•¨\", \"ü•í\", \"üå∂Ô∏è\", \"ü´ë\", \"üåΩ\",\r\n    \"ü•ï\", \"ü´í\", \"üßÑ\", \"üßÖ\", \"ü•î\", \"üç†\", \"ü•ê\", \"ü•Ø\", \"üçû\", \"ü•ñ\", \"ü•®\", \"üßÄ\", \"ü•ö\",\r\n    \"üç≥\", \"üßà\", \"ü•û\", \"üßá\", \"ü•ì\", \"ü•©\", \"üçó\", \"üçñ\", \"ü¶¥\", \"üå≠\", \"üçî\", \"üçü\", \"üçï\",\r\n    \"ü´ì\", \"ü•™\", \"ü•ô\", \"üßÜ\", \"üåÆ\", \"üåØ\", \"ü´î\", \"ü•ó\", \"ü•ò\", \"ü´ï\", \"ü•´\", \"üçù\", \"üçú\",\r\n    \"üç≤\", \"üçõ\", \"üç£\", \"üç±\", \"ü•ü\", \"ü¶™\", \"üç§\", \"üçô\", \"üçö\", \"üçò\", \"üç•\", \"ü•†\", \"ü•Æ\",\r\n    \"üç¢\", \"üç°\", \"üçß\", \"üç®\", \"üç¶\", \"ü•ß\", \"üßÅ\", \"üç∞\", \"üéÇ\", \"üçÆ\", \"üç≠\", \"üç¨\", \"üç´\",\r\n    \"üçø\", \"üç©\", \"üç™\", \"üå∞\", \"ü•ú\", \"üçØ\", \"ü•õ\", \"üçº\", \"ü´ñ\", \"‚òï\", \"üçµ\", \"üßÉ\", \"ü•§\",\r\n    \"üßã\", \"üç∂\", \"üç∫\", \"üçª\", \"ü•Ç\", \"üç∑\", \"ü•É\", \"üç∏\", \"üçπ\", \"üßâ\", \"üçæ\", \"üßä\", \"ü•Ñ\",\r\n    \"üç¥\", \"üçΩÔ∏è\", \"ü•£\", \"ü•°\", \"ü•¢\", \"üßÇ\"\r\n  ],\r\n  activities: [\r\n    \"‚öΩ\", \"üèÄ\", \"üèà\", \"‚öæ\", \"ü•é\", \"üéæ\", \"üèê\", \"üèâ\", \"ü•è\", \"üé±\", \"ü™Ä\", \"üèì\", \"üè∏\",\r\n    \"üèí\", \"üèë\", \"ü•ç\", \"üèè\", \"ü™É\", \"ü•Ö\", \"‚õ≥\", \"ü™Å\", \"üèπ\", \"üé£\", \"ü§ø\", \"ü•ä\", \"ü•ã\",\r\n    \"üéΩ\", \"üõπ\", \"üõº\", \"üõ∑\", \"‚õ∏Ô∏è\", \"ü•å\", \"üéø\", \"‚õ∑Ô∏è\", \"üèÇ\", \"ü™Ç\", \"üèãÔ∏è\", \"ü§º\", \"ü§∏\",\r\n    \"ü§∫\", \"‚õπÔ∏è\", \"ü§æ\", \"üèåÔ∏è\", \"üèá\", \"üßò\", \"üèÑ\", \"üèä\", \"ü§Ω\", \"üö£\", \"üßó\", \"üöµ\", \"üö¥\",\r\n    \"üèÜ\", \"ü•á\", \"ü•à\", \"ü•â\", \"üèÖ\", \"üéñÔ∏è\", \"üèµÔ∏è\", \"üéóÔ∏è\", \"üé´\", \"üéüÔ∏è\", \"üé™\", \"ü§π\", \"üé≠\",\r\n    \"ü©∞\", \"üé®\", \"üé¨\", \"üé§\", \"üéß\", \"üéº\", \"üéπ\", \"ü•Å\", \"ü™ò\", \"üé∑\", \"üé∫\", \"ü™ó\", \"üé∏\",\r\n    \"ü™ï\", \"üéª\", \"üé≤\", \"‚ôüÔ∏è\", \"üéØ\", \"üé≥\", \"üéÆ\", \"üé∞\", \"üß©\"\r\n  ],\r\n  travel: [\r\n    \"üöó\", \"üöï\", \"üöô\", \"üöå\", \"üöé\", \"üèéÔ∏è\", \"üöì\", \"üöë\", \"üöí\", \"üöê\", \"üõª\", \"üöö\", \"üöõ\",\r\n    \"üöú\", \"ü¶Ø\", \"ü¶Ω\", \"ü¶º\", \"üõ¥\", \"üö≤\", \"üõµ\", \"üèçÔ∏è\", \"üõ∫\", \"üö®\", \"üöî\", \"üöç\", \"üöò\",\r\n    \"üöñ\", \"üö°\", \"üö†\", \"üöü\", \"üöÉ\", \"üöã\", \"üöû\", \"üöù\", \"üöÑ\", \"üöÖ\", \"üöà\", \"üöÇ\", \"üöÜ\",\r\n    \"üöá\", \"üöä\", \"üöâ\", \"‚úàÔ∏è\", \"üõ´\", \"üõ¨\", \"üõ©Ô∏è\", \"üí∫\", \"üõ∞Ô∏è\", \"üöÄ\", \"üõ∏\", \"üöÅ\", \"üõ∂\",\r\n    \"‚õµ\", \"üö§\", \"üõ•Ô∏è\", \"üõ≥Ô∏è\", \"‚õ¥Ô∏è\", \"üö¢\", \"‚öì\", \"ü™ù\", \"‚õΩ\", \"üöß\", \"üö¶\", \"üö•\", \"üöè\",\r\n    \"üó∫Ô∏è\", \"üóø\", \"üóΩ\", \"üóº\", \"üè∞\", \"üèØ\", \"üèüÔ∏è\", \"üé°\", \"üé¢\", \"üé†\", \"‚õ≤\", \"‚õ±Ô∏è\", \"üèñÔ∏è\",\r\n    \"üèùÔ∏è\", \"üèúÔ∏è\", \"üåã\", \"‚õ∞Ô∏è\", \"üèîÔ∏è\", \"üóª\", \"üèïÔ∏è\", \"‚õ∫\", \"üõñ\", \"üè†\", \"üè°\", \"üèòÔ∏è\", \"üèöÔ∏è\",\r\n    \"üèóÔ∏è\", \"üè≠\", \"üè¢\", \"üè¨\", \"üè£\", \"üè§\", \"üè•\", \"üè¶\", \"üè®\", \"üè™\", \"üè´\", \"üè©\", \"üíí\",\r\n    \"üèõÔ∏è\", \"‚õ™\", \"üïå\", \"üïç\", \"üõï\", \"üïã\", \"‚õ©Ô∏è\", \"üõ§Ô∏è\", \"üõ£Ô∏è\", \"üóæ\", \"üéë\", \"üèûÔ∏è\", \"üåÖ\",\r\n    \"üåÑ\", \"üå†\", \"üéá\", \"üéÜ\", \"üåá\", \"üåÜ\", \"üèôÔ∏è\", \"üåÉ\", \"üåå\", \"üåâ\", \"üåÅ\"\r\n  ],\r\n  objects: [\r\n    \"‚åö\", \"üì±\", \"üì≤\", \"üíª\", \"‚å®Ô∏è\", \"üñ•Ô∏è\", \"üñ®Ô∏è\", \"üñ±Ô∏è\", \"üñ≤Ô∏è\", \"üïπÔ∏è\", \"üóúÔ∏è\", \"üíΩ\", \"üíæ\",\r\n    \"üíø\", \"üìÄ\", \"üìº\", \"üì∑\", \"üì∏\", \"üìπ\", \"üé•\", \"üìΩÔ∏è\", \"üéûÔ∏è\", \"üìû\", \"‚òéÔ∏è\", \"üìü\", \"üì†\",\r\n    \"üì∫\", \"üìª\", \"üéôÔ∏è\", \"üéöÔ∏è\", \"üéõÔ∏è\", \"üß≠\", \"‚è±Ô∏è\", \"‚è≤Ô∏è\", \"‚è∞\", \"üï∞Ô∏è\", \"‚åõ\", \"‚è≥\", \"üì°\",\r\n    \"üîã\", \"üîå\", \"üí°\", \"üî¶\", \"üïØÔ∏è\", \"ü™î\", \"üßØ\", \"üõ¢Ô∏è\", \"üí∏\", \"üíµ\", \"üí¥\", \"üí∂\", \"üí∑\",\r\n    \"ü™ô\", \"üí∞\", \"üí≥\", \"üíé\", \"‚öñÔ∏è\", \"ü™ú\", \"üß∞\", \"ü™õ\", \"üîß\", \"üî®\", \"‚öíÔ∏è\", \"üõ†Ô∏è\", \"‚õèÔ∏è\",\r\n    \"ü™ö\", \"üî©\", \"‚öôÔ∏è\", \"ü™§\", \"üß±\", \"‚õìÔ∏è\", \"üß≤\", \"üî´\", \"üí£\", \"üß®\", \"ü™ì\", \"üî™\", \"üó°Ô∏è\",\r\n    \"‚öîÔ∏è\", \"üõ°Ô∏è\", \"üö¨\", \"‚ö∞Ô∏è\", \"ü™¶\", \"‚ö±Ô∏è\", \"üè∫\", \"üîÆ\", \"üìø\", \"üßø\", \"üíà\", \"‚öóÔ∏è\", \"üî≠\",\r\n    \"üî¨\", \"üï≥Ô∏è\", \"ü©π\", \"ü©∫\", \"üíä\", \"üíâ\", \"ü©∏\", \"üß¨\", \"ü¶†\", \"üß´\", \"üß™\", \"üå°Ô∏è\", \"üßπ\",\r\n    \"ü™†\", \"üß∫\", \"üßª\", \"üöΩ\", \"üö∞\", \"üöø\", \"üõÅ\", \"üõÄ\", \"üßº\", \"ü™•\", \"ü™í\", \"üßΩ\", \"ü™£\",\r\n    \"üß¥\", \"üõéÔ∏è\", \"üîë\", \"üóùÔ∏è\", \"üö™\", \"ü™ë\", \"üõãÔ∏è\", \"üõèÔ∏è\", \"üõå\", \"üß∏\", \"ü™Ü\", \"üñºÔ∏è\", \"ü™û\",\r\n    \"ü™ü\", \"üõçÔ∏è\", \"üõí\", \"üéÅ\", \"üéà\", \"üéè\", \"üéÄ\", \"ü™Ñ\", \"ü™Ö\", \"üéä\", \"üéâ\", \"üéé\", \"üèÆ\",\r\n    \"üéê\", \"üßß\", \"‚úâÔ∏è\", \"üì©\", \"üì®\", \"üìß\", \"üíå\", \"üì•\", \"üì§\", \"üì¶\", \"üè∑Ô∏è\", \"ü™ß\", \"üì™\",\r\n    \"üì´\", \"üì¨\", \"üì≠\", \"üìÆ\", \"üìØ\", \"üìú\", \"üìÉ\", \"üìÑ\", \"üìë\", \"üßæ\", \"üìä\", \"üìà\", \"üìâ\",\r\n    \"üóíÔ∏è\", \"üóìÔ∏è\", \"üìÜ\", \"üìÖ\", \"üóëÔ∏è\", \"üìá\", \"üóÉÔ∏è\", \"üó≥Ô∏è\", \"üóÑÔ∏è\", \"üìã\", \"üìÅ\", \"üìÇ\", \"üóÇÔ∏è\",\r\n    \"üóûÔ∏è\", \"üì∞\", \"üìì\", \"üìî\", \"üìí\", \"üìï\", \"üìó\", \"üìò\", \"üìô\", \"üìö\", \"üìñ\", \"üîñ\", \"üß∑\",\r\n    \"üîó\", \"üìé\", \"üñáÔ∏è\", \"üìê\", \"üìè\", \"üßÆ\", \"üìå\", \"üìç\", \"‚úÇÔ∏è\", \"üñäÔ∏è\", \"üñãÔ∏è\", \"‚úíÔ∏è\", \"üñåÔ∏è\",\r\n    \"üñçÔ∏è\", \"üìù\", \"‚úèÔ∏è\", \"üîç\", \"üîé\", \"üîè\", \"üîê\", \"üîí\", \"üîì\"\r\n  ],\r\n  symbols: [\r\n    \"‚ù§Ô∏è\", \"üß°\", \"üíõ\", \"üíö\", \"üíô\", \"üíú\", \"üñ§\", \"ü§ç\", \"ü§é\", \"üíî\", \"‚ù£Ô∏è\", \"üíï\", \"üíû\",\r\n    \"üíì\", \"üíó\", \"üíñ\", \"üíò\", \"üíù\", \"üíü\", \"‚òÆÔ∏è\", \"‚úùÔ∏è\", \"‚ò™Ô∏è\", \"üïâÔ∏è\", \"‚ò∏Ô∏è\", \"‚ú°Ô∏è\", \"üîØ\",\r\n    \"üïé\", \"‚òØÔ∏è\", \"‚ò¶Ô∏è\", \"üõê\", \"‚õé\", \"‚ôà\", \"‚ôâ\", \"‚ôä\", \"‚ôã\", \"‚ôå\", \"‚ôç\", \"‚ôé\", \"‚ôè\", \"‚ôê\",\r\n    \"‚ôë\", \"‚ôí\", \"‚ôì\", \"üÜî\", \"‚öõÔ∏è\", \"üâë\", \"‚ò¢Ô∏è\", \"‚ò£Ô∏è\", \"üì¥\", \"üì≥\", \"üà∂\", \"üàö\", \"üà∏\",\r\n    \"üà∫\", \"üà∑Ô∏è\", \"‚ú¥Ô∏è\", \"üÜö\", \"üíÆ\", \"üâê\", \"„äôÔ∏è\", \"„äóÔ∏è\", \"üà¥\", \"üàµ\", \"üàπ\", \"üà≤\", \"üÖ∞Ô∏è\",\r\n    \"üÖ±Ô∏è\", \"üÜé\", \"üÜë\", \"üÖæÔ∏è\", \"üÜò\", \"‚ùå\", \"‚≠ï\", \"üõë\", \"‚õî\", \"üìõ\", \"üö´\", \"üíØ\", \"üí¢\",\r\n    \"‚ô®Ô∏è\", \"üö∑\", \"üöØ\", \"üö≥\", \"üö±\", \"üîû\", \"üìµ\", \"üö≠\", \"‚ùó\", \"‚ùï\", \"‚ùì\", \"‚ùî\", \"‚ÄºÔ∏è\",\r\n    \"‚ÅâÔ∏è\", \"üîÖ\", \"üîÜ\", \"„ÄΩÔ∏è\", \"‚ö†Ô∏è\", \"üö∏\", \"üî±\", \"‚öúÔ∏è\", \"üî∞\", \"‚ôªÔ∏è\", \"‚úÖ\", \"üàØ\", \"üíπ\",\r\n    \"‚ùáÔ∏è\", \"‚ú≥Ô∏è\", \"‚ùé\", \"üåê\", \"üí†\", \"‚ìÇÔ∏è\", \"üåÄ\", \"üí§\", \"üèß\", \"üöæ\", \"‚ôø\", \"üÖøÔ∏è\", \"üõó\",\r\n    \"üà≥\", \"üàÇÔ∏è\", \"üõÇ\", \"üõÉ\", \"üõÑ\", \"üõÖ\", \"üöπ\", \"üö∫\", \"üöº\", \"‚ößÔ∏è\", \"üöª\", \"üöÆ\", \"üé¶\",\r\n    \"üì∂\", \"üàÅ\", \"üî£\", \"‚ÑπÔ∏è\", \"üî§\", \"üî°\", \"üî†\", \"üÜñ\", \"üÜó\", \"üÜô\", \"üÜí\", \"üÜï\", \"üÜì\",\r\n    \"0Ô∏è‚É£\", \"1Ô∏è‚É£\", \"2Ô∏è‚É£\", \"3Ô∏è‚É£\", \"4Ô∏è‚É£\", \"5Ô∏è‚É£\", \"6Ô∏è‚É£\", \"7Ô∏è‚É£\", \"8Ô∏è‚É£\", \"9Ô∏è‚É£\", \"üîü\", \"üî¢\", \"#Ô∏è‚É£\",\r\n    \"*Ô∏è‚É£\", \"‚èèÔ∏è\", \"‚ñ∂Ô∏è\", \"‚è∏Ô∏è\", \"‚èØÔ∏è\", \"‚èπÔ∏è\", \"‚è∫Ô∏è\", \"‚è≠Ô∏è\", \"‚èÆÔ∏è\", \"‚è©\", \"‚è™\", \"‚è´\", \"‚è¨\",\r\n    \"‚óÄÔ∏è\", \"üîº\", \"üîΩ\", \"‚û°Ô∏è\", \"‚¨ÖÔ∏è\", \"‚¨ÜÔ∏è\", \"‚¨áÔ∏è\", \"‚ÜóÔ∏è\", \"‚ÜòÔ∏è\", \"‚ÜôÔ∏è\", \"‚ÜñÔ∏è\", \"‚ÜïÔ∏è\", \"‚ÜîÔ∏è\",\r\n    \"‚Ü™Ô∏è\", \"‚Ü©Ô∏è\", \"‚§¥Ô∏è\", \"‚§µÔ∏è\", \"üîÄ\", \"üîÅ\", \"üîÇ\", \"üîÑ\", \"üîÉ\", \"üéµ\", \"üé∂\", \"‚ûï\", \"‚ûñ\",\r\n    \"‚ûó\", \"‚úñÔ∏è\", \"üü∞\", \"‚ôæÔ∏è\", \"üí≤\", \"üí±\", \"‚Ñ¢Ô∏è\", \"¬©Ô∏è\", \"¬ÆÔ∏è\", \"„Ä∞Ô∏è\", \"‚û∞\", \"‚ûø\", \"üîö\",\r\n    \"üîô\", \"üîõ\", \"üîù\", \"üîú\", \"‚úîÔ∏è\", \"‚òëÔ∏è\", \"üîò\", \"üî¥\", \"üü†\", \"üü°\", \"üü¢\", \"üîµ\", \"üü£\",\r\n    \"‚ö´\", \"‚ö™\", \"üü§\", \"üî∫\", \"üîª\", \"üî∏\", \"üîπ\", \"üî∂\", \"üî∑\", \"üî≥\", \"üî≤\", \"‚ñ™Ô∏è\", \"‚ñ´Ô∏è\",\r\n    \"‚óæ\", \"‚óΩ\", \"‚óºÔ∏è\", \"‚óªÔ∏è\", \"üü•\", \"üüß\", \"üü®\", \"üü©\", \"üü¶\", \"üü™\", \"‚¨õ\", \"‚¨ú\", \"üü´\",\r\n    \"üîà\", \"üîá\", \"üîâ\", \"üîä\", \"üîî\", \"üîï\", \"üì£\", \"üì¢\", \"üëÅÔ∏è‚Äçüó®Ô∏è\", \"üí¨\", \"üí≠\", \"üóØÔ∏è\", \"‚ô†Ô∏è\",\r\n    \"‚ô£Ô∏è\", \"‚ô•Ô∏è\", \"‚ô¶Ô∏è\", \"üÉè\", \"üé¥\", \"üÄÑ\", \"üïê\", \"üïë\", \"üïí\", \"üïì\", \"üïî\", \"üïï\", \"üïñ\",\r\n    \"üïó\", \"üïò\", \"üïô\", \"üïö\", \"üïõ\", \"üïú\", \"üïù\", \"üïû\", \"üïü\", \"üï†\", \"üï°\", \"üï¢\", \"üï£\",\r\n    \"üï§\", \"üï•\", \"üï¶\", \"üïß\"\r\n  ],\r\n  flags: [\r\n    \"üè≥Ô∏è\", \"üè¥\", \"üèÅ\", \"üö©\", \"üè≥Ô∏è‚Äçüåà\", \"üè≥Ô∏è‚Äç‚ößÔ∏è\", \"üè¥‚Äç‚ò†Ô∏è\", \"üá¶üá´\", \"üá¶üáΩ\", \"üá¶üá±\", \"üá©üáø\",\r\n    \"üá¶üá∏\", \"üá¶üá©\", \"üá¶üá¥\", \"üá¶üáÆ\", \"üá¶üá∂\", \"üá¶üá¨\", \"üá¶üá∑\", \"üá¶üá≤\", \"üá¶üáº\", \"üá¶üá∫\", \"üá¶üáπ\",\r\n    \"üá¶üáø\", \"üáßüá∏\", \"üáßüá≠\", \"üáßüá©\", \"üáßüáß\", \"üáßüáæ\", \"üáßüá™\", \"üáßüáø\", \"üáßüáØ\", \"üáßüá≤\", \"üáßüáπ\",\r\n    \"üáßüá¥\", \"üáßüá¶\", \"üáßüáº\", \"üáßüá∑\", \"üáÆüá¥\", \"üáªüá¨\", \"üáßüá≥\", \"üáßüá¨\", \"üáßüá´\", \"üáßüáÆ\", \"üá∞üá≠\",\r\n    \"üá®üá≤\", \"üá®üá¶\", \"üáÆüá®\", \"üá®üáª\", \"üáßüá∂\", \"üá∞üáæ\", \"üá®üá´\", \"üáπüá©\", \"üá®üá±\", \"üá®üá≥\", \"üá®üáΩ\",\r\n    \"üá®üá®\", \"üá®üá¥\", \"üá∞üá≤\", \"üá®üá¨\", \"üá®üá©\", \"üá®üá∞\", \"üá®üá∑\", \"üá®üáÆ\", \"üá≠üá∑\", \"üá®üá∫\", \"üá®üáº\",\r\n    \"üá®üáæ\", \"üá®üáø\", \"üá©üá∞\", \"üá©üáØ\", \"üá©üá≤\", \"üá©üá¥\", \"üá™üá®\", \"üá™üá¨\", \"üá∏üáª\", \"üá¨üá∂\", \"üá™üá∑\",\r\n    \"üá™üá™\", \"üá∏üáø\", \"üá™üáπ\", \"üá™üá∫\", \"üá´üá∞\", \"üá´üá¥\", \"üá´üáØ\", \"üá´üáÆ\", \"üá´üá∑\", \"üá¨üá´\", \"üáµüá´\",\r\n    \"üáπüá´\", \"üá¨üá¶\", \"üá¨üá≤\", \"üá¨üá™\", \"üá©üá™\", \"üá¨üá≠\", \"üá¨üáÆ\", \"üá¨üá∑\", \"üá¨üá±\", \"üá¨üá©\", \"üá¨üáµ\",\r\n    \"üá¨üá∫\", \"üá¨üáπ\", \"üá¨üá¨\", \"üá¨üá≥\", \"üá¨üáº\", \"üá¨üáæ\", \"üá≠üáπ\", \"üá≠üá≥\", \"üá≠üá∞\", \"üá≠üá∫\", \"üáÆüá∏\",\r\n    \"üáÆüá≥\", \"üáÆüá©\", \"üáÆüá∑\", \"üáÆüá∂\", \"üáÆüá™\", \"üáÆüá≤\", \"üáÆüá±\", \"üáÆüáπ\", \"üáØüá≤\", \"üáØüáµ\", \"üéå\", \"üáØüá™\",\r\n    \"üáØüá¥\", \"üá∞üáø\", \"üá∞üá™\", \"üá∞üáÆ\", \"üáΩüá∞\", \"üá∞üáº\", \"üá∞üá¨\", \"üá±üá¶\", \"üá±üáª\", \"üá±üáß\", \"üá±üá∏\",\r\n    \"üá±üá∑\", \"üá±üáæ\", \"üá±üáÆ\", \"üá±üáπ\", \"üá±üá∫\", \"üá≤üá¥\", \"üá≤üá¨\", \"üá≤üáº\", \"üá≤üáæ\", \"üá≤üáª\", \"üá≤üá±\",\r\n    \"üá≤üáπ\", \"üá≤üá≠\", \"üá≤üá∂\", \"üá≤üá∑\", \"üá≤üá∫\", \"üáæüáπ\", \"üá≤üáΩ\", \"üá´üá≤\", \"üá≤üá©\", \"üá≤üá®\", \"üá≤üá≥\",\r\n    \"üá≤üá™\", \"üá≤üá∏\", \"üá≤üá¶\", \"üá≤üáø\", \"üá≤üá≤\", \"üá≥üá¶\", \"üá≥üá∑\", \"üá≥üáµ\", \"üá≥üá±\", \"üá≥üá®\", \"üá≥üáø\",\r\n    \"üá≥üáÆ\", \"üá≥üá™\", \"üá≥üá¨\", \"üá≥üá∫\", \"üá≥üá´\", \"üá∞üáµ\", \"üá≤üá∞\", \"üá≤üáµ\", \"üá≥üá¥\", \"üá¥üá≤\", \"üáµüá∞\",\r\n    \"üáµüáº\", \"üáµüá∏\", \"üáµüá¶\", \"üáµüá¨\", \"üáµüáæ\", \"üáµüá™\", \"üáµüá≠\", \"üáµüá≥\", \"üáµüá±\", \"üáµüáπ\", \"üáµüá∑\",\r\n    \"üá∂üá¶\", \"üá∑üá™\", \"üá∑üá¥\", \"üá∑üá∫\", \"üá∑üáº\", \"üáºüá∏\", \"üá∏üá≤\", \"üá∏üáπ\", \"üá∏üá¶\", \"üá∏üá≥\", \"üá∑üá∏\",\r\n    \"üá∏üá®\", \"üá∏üá±\", \"üá∏üá¨\", \"üá∏üáΩ\", \"üá∏üá∞\", \"üá∏üáÆ\", \"üá¨üá∏\", \"üá∏üáß\", \"üá∏üá¥\", \"üáøüá¶\", \"üá∞üá∑\",\r\n    \"üá∏üá∏\", \"üá™üá∏\", \"üá±üá∞\", \"üáßüá±\", \"üá∏üá≠\", \"üá∞üá≥\", \"üá±üá®\", \"üáµüá≤\", \"üáªüá®\", \"üá∏üá©\", \"üá∏üá∑\",\r\n    \"üá∏üá™\", \"üá®üá≠\", \"üá∏üáæ\", \"üáπüáº\", \"üáπüáØ\", \"üáπüáø\", \"üáπüá≠\", \"üáπüá±\", \"üáπüá¨\", \"üáπüá∞\", \"üáπüá¥\",\r\n    \"üáπüáπ\", \"üáπüá≥\", \"üáπüá∑\", \"üáπüá≤\", \"üáπüá®\", \"üáπüáª\", \"üáªüáÆ\", \"üá∫üá¨\", \"üá∫üá¶\", \"üá¶üá™\", \"üá¨üáß\",\r\n    \"üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø\", \"üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø\", \"üè¥Û†ÅßÛ†Å¢Û†Å∑Û†Å¨Û†Å≥Û†Åø\", \"üá∫üá∏\", \"üá∫üáæ\", \"üá∫üáø\", \"üáªüá∫\", \"üáªüá¶\", \"üáªüá™\",\r\n    \"üáªüá≥\", \"üáºüá´\", \"üá™üá≠\", \"üáæüá™\", \"üáøüá≤\", \"üáøüáº\"\r\n  ],\r\n};\r\nexport const MESSAGE_STATUS = {\r\n  SENT: 'sent',           // Single checkmark\r\n  DELIVERED: 'delivered', // Two gray checkmarks\r\n  READ: 'read'           // Two blue checkmarks\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1602, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/hooks/useEmojiPicker.js"],"sourcesContent":["// components/ChatScreen/hooks/useEmojiPicker.js\r\nimport { useState, useEffect } from \"react\";\r\nimport { EMOJIS } from \"../constants\";\r\n\r\nexport const useEmojiPicker = () => {\r\n  const [emojiAnchorEl, setEmojiAnchorEl] = useState(null);\r\n  const [selectedEmojiCategory, setSelectedEmojiCategory] = useState(\"recent\");\r\n  const [recentEmojis, setRecentEmojis] = useState([]);\r\n  const [emojiSearchTerm, setEmojiSearchTerm] = useState(\"\");\r\n\r\n  // Load recent emojis from localStorage\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem(\"recentEmojis\");\r\n    if (stored) {\r\n      setRecentEmojis(JSON.parse(stored));\r\n    }\r\n  }, []);\r\n\r\n  const saveRecentEmoji = (emoji) => {\r\n    const updated = [emoji, ...recentEmojis.filter((e) => e !== emoji)].slice(0, 30);\r\n    setRecentEmojis(updated);\r\n    localStorage.setItem(\"recentEmojis\", JSON.stringify(updated));\r\n  };\r\n\r\n  const handleEmojiPickerOpen = (event) => {\r\n    setEmojiAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleEmojiPickerClose = () => {\r\n    setEmojiAnchorEl(null);\r\n    setEmojiSearchTerm(\"\");\r\n  };\r\n\r\n  const getFilteredEmojis = () => {\r\n    if (selectedEmojiCategory === \"recent\") {\r\n      return recentEmojis;\r\n    }\r\n\r\n    const categoryEmojis = EMOJIS[selectedEmojiCategory] || [];\r\n    return categoryEmojis;\r\n  };\r\n\r\n  return {\r\n    emojiAnchorEl,\r\n    selectedEmojiCategory,\r\n    setSelectedEmojiCategory,\r\n    emojiSearchTerm,\r\n    setEmojiSearchTerm,\r\n    recentEmojis,\r\n    handleEmojiPickerOpen,\r\n    handleEmojiPickerClose,\r\n    saveRecentEmoji,\r\n    getFilteredEmojis,\r\n    openEmojiPicker: Boolean(emojiAnchorEl),\r\n  };\r\n};"],"names":[],"mappings":"AAAA,gDAAgD;;;;;AAChD;AACA;;;;AAEO,MAAM,iBAAiB;;IAC5B,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,sIAAQ,EAAC;IACnD,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,IAAA,sIAAQ,EAAC;IACnE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,sIAAQ,EAAC,EAAE;IACnD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,sIAAQ,EAAC;IAEvD,uCAAuC;IACvC,IAAA,uIAAS;oCAAC;YACR,MAAM,SAAS,aAAa,OAAO,CAAC;YACpC,IAAI,QAAQ;gBACV,gBAAgB,KAAK,KAAK,CAAC;YAC7B;QACF;mCAAG,EAAE;IAEL,MAAM,kBAAkB,CAAC;QACvB,MAAM,UAAU;YAAC;eAAU,aAAa,MAAM,CAAC,CAAC,IAAM,MAAM;SAAO,CAAC,KAAK,CAAC,GAAG;QAC7E,gBAAgB;QAChB,aAAa,OAAO,CAAC,gBAAgB,KAAK,SAAS,CAAC;IACtD;IAEA,MAAM,wBAAwB,CAAC;QAC7B,iBAAiB,MAAM,aAAa;IACtC;IAEA,MAAM,yBAAyB;QAC7B,iBAAiB;QACjB,mBAAmB;IACrB;IAEA,MAAM,oBAAoB;QACxB,IAAI,0BAA0B,UAAU;YACtC,OAAO;QACT;QAEA,MAAM,iBAAiB,2IAAM,CAAC,sBAAsB,IAAI,EAAE;QAC1D,OAAO;IACT;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,QAAQ;IAC3B;AACF;GAnDa","debugId":null}},
    {"offset": {"line": 1671, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/lib/cloudinary.js"],"sourcesContent":["// lib/cloudinary.js\r\n\r\nconst CLOUDINARY_CLOUD_NAME = process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME;\r\nconst CLOUDINARY_UPLOAD_PRESET = process.env.NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET;\r\n\r\n// Validate environment variables\r\nif (!CLOUDINARY_CLOUD_NAME) {\r\n  console.error('‚ùå NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME is not set in .env.local');\r\n}\r\n\r\nif (!CLOUDINARY_UPLOAD_PRESET) {\r\n  console.error('‚ùå NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET is not set in .env.local');\r\n}\r\n\r\nconst CLOUDINARY_URL = `https://api.cloudinary.com/v1_1/${CLOUDINARY_CLOUD_NAME}/auto/upload`;\r\n\r\n/**\r\n * Upload file to Cloudinary\r\n * @param {Blob|File} file - The file to upload\r\n * @param {Function} onProgress - Progress callback (0-100)\r\n * @returns {Promise<string>} - Download URL\r\n */\r\nexport const uploadToCloudinary = async (file, onProgress = null) => {\r\n  return new Promise((resolve, reject) => {\r\n    // Validation\r\n    if (!CLOUDINARY_CLOUD_NAME || !CLOUDINARY_UPLOAD_PRESET) {\r\n      reject(new Error('Cloudinary configuration is missing. Check your .env.local file.'));\r\n      return;\r\n    }\r\n\r\n    if (!file) {\r\n      reject(new Error('No file provided'));\r\n      return;\r\n    }\r\n\r\n    console.log('üîÑ Starting Cloudinary upload...');\r\n    console.log('üì¶ File size:', file.size, 'bytes');\r\n    console.log('üì¶ File type:', file.type);\r\n    console.log('‚òÅÔ∏è Cloud name:', CLOUDINARY_CLOUD_NAME);\r\n    console.log('üîë Upload preset:', CLOUDINARY_UPLOAD_PRESET);\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('upload_preset', CLOUDINARY_UPLOAD_PRESET);\r\n    formData.append('folder', 'chat-app');\r\n\r\n    const xhr = new XMLHttpRequest();\r\n\r\n    // Track upload progress\r\n    if (onProgress) {\r\n      xhr.upload.addEventListener('progress', (e) => {\r\n        if (e.lengthComputable) {\r\n          const percentComplete = (e.loaded / e.total) * 100;\r\n          console.log(`üì§ Upload progress: ${Math.round(percentComplete)}%`);\r\n          onProgress(percentComplete);\r\n        }\r\n      });\r\n    }\r\n\r\n    xhr.addEventListener('load', () => {\r\n      if (xhr.status === 200) {\r\n        try {\r\n          const response = JSON.parse(xhr.responseText);\r\n          console.log('‚úÖ Upload successful!');\r\n          console.log('üîó URL:', response.secure_url);\r\n          resolve(response.secure_url);\r\n        } catch (parseError) {\r\n          console.error('‚ùå Failed to parse response:', parseError);\r\n          reject(new Error('Failed to parse Cloudinary response'));\r\n        }\r\n      } else {\r\n        console.error('‚ùå Upload failed with status:', xhr.status);\r\n        console.error('üìÑ Response:', xhr.responseText);\r\n        \r\n        let errorMessage = `Upload failed (${xhr.status})`;\r\n        try {\r\n          const errorResponse = JSON.parse(xhr.responseText);\r\n          errorMessage = errorResponse.error?.message || errorMessage;\r\n        } catch (e) {\r\n          // Ignore parsing error\r\n        }\r\n        \r\n        reject(new Error(errorMessage));\r\n      }\r\n    });\r\n\r\n    xhr.addEventListener('error', () => {\r\n      console.error('‚ùå Network error during upload');\r\n      reject(new Error('Network error during upload'));\r\n    });\r\n\r\n    xhr.addEventListener('abort', () => {\r\n      console.log('‚ö†Ô∏è Upload cancelled');\r\n      reject(new Error('Upload cancelled'));\r\n    });\r\n\r\n    console.log('üöÄ Sending request to:', CLOUDINARY_URL);\r\n    xhr.open('POST', CLOUDINARY_URL);\r\n    xhr.send(formData);\r\n  });\r\n};\r\n\r\n/**\r\n * Test Cloudinary configuration\r\n */\r\nexport const testCloudinaryConfig = () => {\r\n  console.log('üß™ Testing Cloudinary Configuration:');\r\n  console.log('Cloud Name:', CLOUDINARY_CLOUD_NAME || '‚ùå NOT SET');\r\n  console.log('Upload Preset:', CLOUDINARY_UPLOAD_PRESET || '‚ùå NOT SET');\r\n  console.log('URL:', CLOUDINARY_URL);\r\n  \r\n  if (!CLOUDINARY_CLOUD_NAME || !CLOUDINARY_UPLOAD_PRESET) {\r\n    console.error('‚ùå Cloudinary is not configured properly!');\r\n    console.error('üí° Make sure you have created .env.local file in your project root');\r\n    console.error('üí° The file should contain:');\r\n    console.error('   NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=your_cloud_name');\r\n    console.error('   NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET=your_preset_name');\r\n    return false;\r\n  }\r\n  \r\n  console.log('‚úÖ Cloudinary configuration looks good!');\r\n  return true;\r\n};"],"names":[],"mappings":"AAAA,oBAAoB;;;;;;;AAEU;AAA9B,MAAM;AACN,MAAM;AAEN,iCAAiC;AACjC;;AAIA;;AAIA,MAAM,iBAAiB,CAAC,gCAAgC,EAAE,sBAAsB,YAAY,CAAC;AAQtF,MAAM,qBAAqB,OAAO,MAAM,aAAa,IAAI;IAC9D,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,aAAa;QACb;;QAKA,IAAI,CAAC,MAAM;YACT,OAAO,IAAI,MAAM;YACjB;QACF;QAEA,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC,iBAAiB,KAAK,IAAI,EAAE;QACxC,QAAQ,GAAG,CAAC,iBAAiB,KAAK,IAAI;QACtC,QAAQ,GAAG,CAAC,kBAAkB;QAC9B,QAAQ,GAAG,CAAC,qBAAqB;QAEjC,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QACxB,SAAS,MAAM,CAAC,iBAAiB;QACjC,SAAS,MAAM,CAAC,UAAU;QAE1B,MAAM,MAAM,IAAI;QAEhB,wBAAwB;QACxB,IAAI,YAAY;YACd,IAAI,MAAM,CAAC,gBAAgB,CAAC,YAAY,CAAC;gBACvC,IAAI,EAAE,gBAAgB,EAAE;oBACtB,MAAM,kBAAkB,AAAC,EAAE,MAAM,GAAG,EAAE,KAAK,GAAI;oBAC/C,QAAQ,GAAG,CAAC,CAAC,oBAAoB,EAAE,KAAK,KAAK,CAAC,iBAAiB,CAAC,CAAC;oBACjE,WAAW;gBACb;YACF;QACF;QAEA,IAAI,gBAAgB,CAAC,QAAQ;YAC3B,IAAI,IAAI,MAAM,KAAK,KAAK;gBACtB,IAAI;oBACF,MAAM,WAAW,KAAK,KAAK,CAAC,IAAI,YAAY;oBAC5C,QAAQ,GAAG,CAAC;oBACZ,QAAQ,GAAG,CAAC,WAAW,SAAS,UAAU;oBAC1C,QAAQ,SAAS,UAAU;gBAC7B,EAAE,OAAO,YAAY;oBACnB,QAAQ,KAAK,CAAC,+BAA+B;oBAC7C,OAAO,IAAI,MAAM;gBACnB;YACF,OAAO;gBACL,QAAQ,KAAK,CAAC,gCAAgC,IAAI,MAAM;gBACxD,QAAQ,KAAK,CAAC,gBAAgB,IAAI,YAAY;gBAE9C,IAAI,eAAe,CAAC,eAAe,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC;gBAClD,IAAI;oBACF,MAAM,gBAAgB,KAAK,KAAK,CAAC,IAAI,YAAY;oBACjD,eAAe,cAAc,KAAK,EAAE,WAAW;gBACjD,EAAE,OAAO,GAAG;gBACV,uBAAuB;gBACzB;gBAEA,OAAO,IAAI,MAAM;YACnB;QACF;QAEA,IAAI,gBAAgB,CAAC,SAAS;YAC5B,QAAQ,KAAK,CAAC;YACd,OAAO,IAAI,MAAM;QACnB;QAEA,IAAI,gBAAgB,CAAC,SAAS;YAC5B,QAAQ,GAAG,CAAC;YACZ,OAAO,IAAI,MAAM;QACnB;QAEA,QAAQ,GAAG,CAAC,0BAA0B;QACtC,IAAI,IAAI,CAAC,QAAQ;QACjB,IAAI,IAAI,CAAC;IACX;AACF;AAKO,MAAM,uBAAuB;IAClC,QAAQ,GAAG,CAAC;IACZ,QAAQ,GAAG,CAAC,eAAe,yBAAyB;IACpD,QAAQ,GAAG,CAAC,kBAAkB,4BAA4B;IAC1D,QAAQ,GAAG,CAAC,QAAQ;IAEpB;;IASA,QAAQ,GAAG,CAAC;IACZ,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1770, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/utils.js"],"sourcesContent":["import { db } from \"../../firebase\";\r\nimport { collection, query, where, getDocs } from \"firebase/firestore\";\r\n\r\nexport const checkIfBlocked = async (currentUserEmail, recipientEmail) => {\r\n  try {\r\n    // Don't check blocking for self-chat\r\n    if (currentUserEmail === recipientEmail) {\r\n      return false;\r\n    }\r\n\r\n    // Check if current user is blocked by recipient\r\n    const usersRef = collection(db, \"users\");\r\n    const q = query(usersRef, where(\"email\", \"==\", recipientEmail));\r\n    const querySnapshot = await getDocs(q);\r\n\r\n    if (!querySnapshot.empty) {\r\n      const recipientData = querySnapshot.docs[0].data();\r\n      const blockedUsers = recipientData.blockedUsers || [];\r\n      \r\n      if (blockedUsers.includes(currentUserEmail)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  } catch (error) {\r\n    console.error(\"Error checking if blocked:\", error);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const buildReplyData = (replyingTo) => {\r\n  if (!replyingTo) return null;\r\n\r\n  const replyData = {\r\n    messageId: replyingTo.id,\r\n    user: replyingTo.user,\r\n    message: replyingTo.message,\r\n  };\r\n\r\n  if (replyingTo.fileURL) {\r\n    replyData.fileURL = replyingTo.fileURL;\r\n    replyData.fileName = replyingTo.fileName;\r\n    replyData.fileType = replyingTo.fileType;\r\n  }\r\n\r\n  if (replyingTo.voiceURL) {\r\n    replyData.voiceURL = replyingTo.voiceURL;\r\n    replyData.duration = replyingTo.duration;\r\n  }\r\n\r\n  return replyData;\r\n};\r\n\r\nexport const formatFileSize = (bytes) => {\r\n  if (bytes === 0) return \"0 Bytes\";\r\n  const k = 1024;\r\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  return Math.round(bytes / Math.pow(k, i) * 100) / 100 + \" \" + sizes[i];\r\n};\r\n\r\nexport const formatTime = (seconds) => {\r\n  if (!seconds || seconds < 0) return \"0:00\";\r\n  \r\n  const mins = Math.floor(seconds / 60);\r\n  const secs = Math.floor(seconds % 60);\r\n  \r\n  return `${mins}:${secs.toString().padStart(2, \"0\")}`;\r\n};\r\n\r\nexport const getFileIcon = (fileType) => {\r\n  if (fileType?.startsWith(\"image/\")) return \"üñºÔ∏è\";\r\n  if (fileType?.startsWith(\"video/\")) return \"üé•\";\r\n  if (fileType?.startsWith(\"audio/\")) return \"üéµ\";\r\n  if (fileType?.includes(\"pdf\")) return \"üìÑ\";\r\n  if (fileType?.includes(\"word\") || fileType?.includes(\"document\")) return \"üìù\";\r\n  if (fileType?.includes(\"sheet\") || fileType?.includes(\"excel\")) return \"üìä\";\r\n  if (fileType?.includes(\"zip\") || fileType?.includes(\"rar\")) return \"üì¶\";\r\n  return \"üìé\";\r\n};"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;AAAA;;;AAEO,MAAM,iBAAiB,OAAO,kBAAkB;IACrD,IAAI;QACF,qCAAqC;QACrC,IAAI,qBAAqB,gBAAgB;YACvC,OAAO;QACT;QAEA,gDAAgD;QAChD,MAAM,WAAW,IAAA,6KAAU,EAAC,0HAAE,EAAE;QAChC,MAAM,IAAI,IAAA,wKAAK,EAAC,UAAU,IAAA,wKAAK,EAAC,SAAS,MAAM;QAC/C,MAAM,gBAAgB,MAAM,IAAA,0KAAO,EAAC;QAEpC,IAAI,CAAC,cAAc,KAAK,EAAE;YACxB,MAAM,gBAAgB,cAAc,IAAI,CAAC,EAAE,CAAC,IAAI;YAChD,MAAM,eAAe,cAAc,YAAY,IAAI,EAAE;YAErD,IAAI,aAAa,QAAQ,CAAC,mBAAmB;gBAC3C,OAAO;YACT;QACF;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO;IACT;AACF;AAEO,MAAM,iBAAiB,CAAC;IAC7B,IAAI,CAAC,YAAY,OAAO;IAExB,MAAM,YAAY;QAChB,WAAW,WAAW,EAAE;QACxB,MAAM,WAAW,IAAI;QACrB,SAAS,WAAW,OAAO;IAC7B;IAEA,IAAI,WAAW,OAAO,EAAE;QACtB,UAAU,OAAO,GAAG,WAAW,OAAO;QACtC,UAAU,QAAQ,GAAG,WAAW,QAAQ;QACxC,UAAU,QAAQ,GAAG,WAAW,QAAQ;IAC1C;IAEA,IAAI,WAAW,QAAQ,EAAE;QACvB,UAAU,QAAQ,GAAG,WAAW,QAAQ;QACxC,UAAU,QAAQ,GAAG,WAAW,QAAQ;IAC1C;IAEA,OAAO;AACT;AAEO,MAAM,iBAAiB,CAAC;IAC7B,IAAI,UAAU,GAAG,OAAO;IACxB,MAAM,IAAI;IACV,MAAM,QAAQ;QAAC;QAAS;QAAM;QAAM;KAAK;IACzC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC;IAChD,OAAO,KAAK,KAAK,CAAC,QAAQ,KAAK,GAAG,CAAC,GAAG,KAAK,OAAO,MAAM,MAAM,KAAK,CAAC,EAAE;AACxE;AAEO,MAAM,aAAa,CAAC;IACzB,IAAI,CAAC,WAAW,UAAU,GAAG,OAAO;IAEpC,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;IAClC,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;IAElC,OAAO,GAAG,KAAK,CAAC,EAAE,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AACtD;AAEO,MAAM,cAAc,CAAC;IAC1B,IAAI,UAAU,WAAW,WAAW,OAAO;IAC3C,IAAI,UAAU,WAAW,WAAW,OAAO;IAC3C,IAAI,UAAU,WAAW,WAAW,OAAO;IAC3C,IAAI,UAAU,SAAS,QAAQ,OAAO;IACtC,IAAI,UAAU,SAAS,WAAW,UAAU,SAAS,aAAa,OAAO;IACzE,IAAI,UAAU,SAAS,YAAY,UAAU,SAAS,UAAU,OAAO;IACvE,IAAI,UAAU,SAAS,UAAU,UAAU,SAAS,QAAQ,OAAO;IACnE,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1863, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/hooks/useFileUpload.js"],"sourcesContent":["// components/ChatScreen/hooks/useFileUpload.js\r\nimport { useState } from \"react\";\r\nimport { addDoc, collection, doc, setDoc, serverTimestamp } from \"firebase/firestore\";\r\nimport { db } from \"../../../firebase\";\r\nimport { uploadToCloudinary } from \"../../../lib/cloudinary\";\r\nimport { checkIfBlocked, buildReplyData } from \"../utils\";\r\n\r\nexport const useFileUpload = (chatId, user, recipientEmail) => {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [filePreview, setFilePreview] = useState(null);\r\n  const [showFileConfirmation, setShowFileConfirmation] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n\r\n  const handleFileSelect = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setSelectedFile(file);\r\n      \r\n      // Create preview for images\r\n      if (file.type.startsWith(\"image/\")) {\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => {\r\n          setFilePreview(reader.result);\r\n        };\r\n        reader.readAsDataURL(file);\r\n      } else {\r\n        setFilePreview(null);\r\n      }\r\n      \r\n      setShowFileConfirmation(true);\r\n    }\r\n  };\r\n\r\n  const cancelFileSelection = () => {\r\n    setSelectedFile(null);\r\n    setFilePreview(null);\r\n    setShowFileConfirmation(false);\r\n    setUploadProgress(0);\r\n  };\r\n\r\n  const sendFileMessage = async (input, replyingTo, setSendingError, setInput, setReplyingTo, scrollToBottom) => {\r\n    if (!selectedFile || !chatId || !user || !recipientEmail) return;\r\n\r\n    setIsUploading(true);\r\n    setSendingError(null);\r\n\r\n    try {\r\n      // Check if blocked\r\n      const isBlocked = await checkIfBlocked(user.email, recipientEmail);\r\n      if (isBlocked) {\r\n        setSendingError(\"You cannot send messages to this user. You have been blocked.\");\r\n        setIsUploading(false);\r\n        return;\r\n      }\r\n\r\n      // Upload to Cloudinary with progress tracking\r\n      const fileURL = await uploadToCloudinary(selectedFile, (progress) => {\r\n        setUploadProgress(progress);\r\n      });\r\n\r\n      const userRef = doc(db, \"users\", user.uid);\r\n      await setDoc(\r\n        userRef,\r\n        {\r\n          lastSeen: serverTimestamp(),\r\n        },\r\n        { merge: true }\r\n      );\r\n\r\n      const messageData = {\r\n        timestamp: serverTimestamp(),\r\n        message: input || \"\",\r\n        user: user.email,\r\n        photoURL: user.photoURL,\r\n        fileURL: fileURL,\r\n        fileName: selectedFile.name,\r\n        fileType: selectedFile.type,\r\n        fileSize: selectedFile.size,\r\n        status: MESSAGE_STATUS.SENT, // ‚Üê ADD THIS\r\n\r\n      };\r\n\r\n      // Add reply data if replying\r\n      const replyData = buildReplyData(replyingTo);\r\n      if (replyData) {\r\n        messageData.replyTo = replyData;\r\n      }\r\n\r\n      await addDoc(collection(db, \"chats\", chatId, \"messages\"), messageData);\r\n\r\n      // Reset states\r\n      setInput(\"\");\r\n      setSelectedFile(null);\r\n      setFilePreview(null);\r\n      setShowFileConfirmation(false);\r\n      setUploadProgress(0);\r\n      setReplyingTo(null);\r\n      scrollToBottom();\r\n    } catch (error) {\r\n      console.error(\"Error sending file:\", error);\r\n      setSendingError(`Failed to send file: ${error.message}`);\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    selectedFile,\r\n    filePreview,\r\n    showFileConfirmation,\r\n    uploadProgress,\r\n    isUploading,\r\n    handleFileSelect,\r\n    cancelFileSelection,\r\n    sendFileMessage,\r\n  };\r\n};"],"names":[],"mappings":"AAAA,+CAA+C;;;;;AAC/C;AACA;AAAA;AACA;AACA;AACA;;;;;;;AAEO,MAAM,gBAAgB,CAAC,QAAQ,MAAM;;IAC1C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,sIAAQ,EAAC;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,sIAAQ,EAAC;IAC/C,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,IAAA,sIAAQ,EAAC;IACjE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,sIAAQ,EAAC;IACrD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,sIAAQ,EAAC;IAE/C,MAAM,mBAAmB,CAAC;QACxB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;QAC9B,IAAI,MAAM;YACR,gBAAgB;YAEhB,4BAA4B;YAC5B,IAAI,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW;gBAClC,MAAM,SAAS,IAAI;gBACnB,OAAO,SAAS,GAAG;oBACjB,eAAe,OAAO,MAAM;gBAC9B;gBACA,OAAO,aAAa,CAAC;YACvB,OAAO;gBACL,eAAe;YACjB;YAEA,wBAAwB;QAC1B;IACF;IAEA,MAAM,sBAAsB;QAC1B,gBAAgB;QAChB,eAAe;QACf,wBAAwB;QACxB,kBAAkB;IACpB;IAEA,MAAM,kBAAkB,OAAO,OAAO,YAAY,iBAAiB,UAAU,eAAe;QAC1F,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,QAAQ,CAAC,gBAAgB;QAE1D,eAAe;QACf,gBAAgB;QAEhB,IAAI;YACF,mBAAmB;YACnB,MAAM,YAAY,MAAM,IAAA,+IAAc,EAAC,KAAK,KAAK,EAAE;YACnD,IAAI,WAAW;gBACb,gBAAgB;gBAChB,eAAe;gBACf;YACF;YAEA,8CAA8C;YAC9C,MAAM,UAAU,MAAM,IAAA,mIAAkB,EAAC,cAAc,CAAC;gBACtD,kBAAkB;YACpB;YAEA,MAAM,UAAU,IAAA,sKAAG,EAAC,0HAAE,EAAE,SAAS,KAAK,GAAG;YACzC,MAAM,IAAA,yKAAM,EACV,SACA;gBACE,UAAU,IAAA,kLAAe;YAC3B,GACA;gBAAE,OAAO;YAAK;YAGhB,MAAM,cAAc;gBAClB,WAAW,IAAA,kLAAe;gBAC1B,SAAS,SAAS;gBAClB,MAAM,KAAK,KAAK;gBAChB,UAAU,KAAK,QAAQ;gBACvB,SAAS;gBACT,UAAU,aAAa,IAAI;gBAC3B,UAAU,aAAa,IAAI;gBAC3B,UAAU,aAAa,IAAI;gBAC3B,QAAQ,eAAe,IAAI;YAE7B;YAEA,6BAA6B;YAC7B,MAAM,YAAY,IAAA,+IAAc,EAAC;YACjC,IAAI,WAAW;gBACb,YAAY,OAAO,GAAG;YACxB;YAEA,MAAM,IAAA,yKAAM,EAAC,IAAA,6KAAU,EAAC,0HAAE,EAAE,SAAS,QAAQ,aAAa;YAE1D,eAAe;YACf,SAAS;YACT,gBAAgB;YAChB,eAAe;YACf,wBAAwB;YACxB,kBAAkB;YAClB,cAAc;YACd;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB;YACrC,gBAAgB,CAAC,qBAAqB,EAAE,MAAM,OAAO,EAAE;QACzD,SAAU;YACR,eAAe;QACjB;IACF;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GA9Ga","debugId":null}},
    {"offset": {"line": 1983, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/hooks/useVoiceRecording.js"],"sourcesContent":["// components/ChatScreen/hooks/useVoiceRecording.js\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { addDoc, collection, doc, setDoc, serverTimestamp } from \"firebase/firestore\";\r\nimport { db } from \"../../../firebase\";\r\nimport { uploadToCloudinary } from \"../../../lib/cloudinary\";\r\nimport { checkIfBlocked, buildReplyData } from \"../utils\";\r\n\r\nexport const useVoiceRecording = (chatId, user, recipientEmail) => {\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [recordingTime, setRecordingTime] = useState(0);\r\n  const [audioBlob, setAudioBlob] = useState(null);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n\r\n  const mediaRecorderRef = useRef(null);\r\n  const audioChunksRef = useRef([]);\r\n\r\n  // Recording timer\r\n  useEffect(() => {\r\n    let interval;\r\n    if (isRecording) {\r\n      interval = setInterval(() => {\r\n        setRecordingTime((prev) => prev + 1);\r\n      }, 1000);\r\n    } else {\r\n      setRecordingTime(0);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isRecording]);\r\n\r\n  const startRecording = async (setSendingError) => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      \r\n      // Check for supported MIME types\r\n      let mimeType = 'audio/webm';\r\n      if (!MediaRecorder.isTypeSupported(mimeType)) {\r\n        mimeType = 'audio/webm;codecs=opus';\r\n        if (!MediaRecorder.isTypeSupported(mimeType)) {\r\n          mimeType = 'audio/ogg;codecs=opus';\r\n          if (!MediaRecorder.isTypeSupported(mimeType)) {\r\n            mimeType = 'audio/mp4';\r\n            if (!MediaRecorder.isTypeSupported(mimeType)) {\r\n              mimeType = ''; // Let browser choose\r\n            }\r\n          }\r\n        }\r\n      }\r\n      \r\n      console.log('Using MIME type:', mimeType || 'default');\r\n      \r\n      const options = mimeType ? { mimeType } : {};\r\n      const mediaRecorder = new MediaRecorder(stream, options);\r\n      mediaRecorderRef.current = mediaRecorder;\r\n      audioChunksRef.current = [];\r\n\r\n      mediaRecorder.ondataavailable = (event) => {\r\n        console.log('Data available:', event.data.size, 'bytes');\r\n        if (event.data.size > 0) {\r\n          audioChunksRef.current.push(event.data);\r\n        }\r\n      };\r\n\r\n      mediaRecorder.onstop = () => {\r\n        console.log('Recording stopped, chunks:', audioChunksRef.current.length);\r\n        const audioBlob = new Blob(audioChunksRef.current, { \r\n          type: mimeType || 'audio/webm' \r\n        });\r\n        \r\n        console.log('Blob size:', audioBlob.size);\r\n        \r\n        // Check if blob has data\r\n        if (audioBlob.size > 0) {\r\n          setAudioBlob(audioBlob);\r\n        } else {\r\n          console.error('No audio data captured');\r\n          setSendingError(\"Recording failed: No audio data captured. Please try again.\");\r\n        }\r\n        \r\n        stream.getTracks().forEach((track) => track.stop());\r\n      };\r\n\r\n      mediaRecorder.onerror = (event) => {\r\n        console.error('MediaRecorder error:', event.error);\r\n        setSendingError(`Recording error: ${event.error.name}`);\r\n      };\r\n\r\n      // Start with timeslice to ensure data is collected periodically\r\n      mediaRecorder.start(100); // Collect data every 100ms\r\n      setIsRecording(true);\r\n    } catch (error) {\r\n      console.error(\"Error starting recording:\", error);\r\n      setSendingError(\"Failed to access microphone. Please check permissions.\");\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (mediaRecorderRef.current && isRecording) {\r\n      mediaRecorderRef.current.stop();\r\n      setIsRecording(false);\r\n    }\r\n  };\r\n\r\n  const cancelRecording = () => {\r\n    if (mediaRecorderRef.current && isRecording) {\r\n      mediaRecorderRef.current.stop();\r\n      setIsRecording(false);\r\n    }\r\n    setAudioBlob(null);\r\n    setRecordingTime(0);\r\n  };\r\n\r\n  const sendVoiceMessage = async (replyingTo, setSendingError, setReplyingTo, scrollToBottom) => {\r\n    if (!audioBlob || !chatId || !user || !recipientEmail) return;\r\n\r\n    setIsUploading(true);\r\n    setSendingError(null);\r\n\r\n    try {\r\n      // Check if blocked\r\n      const isBlocked = await checkIfBlocked(user.email, recipientEmail);\r\n      if (isBlocked) {\r\n        setSendingError(\"You cannot send messages to this user. You have been blocked.\");\r\n        setIsUploading(false);\r\n        return;\r\n      }\r\n\r\n      // Upload to Cloudinary with progress tracking\r\n      const voiceURL = await uploadToCloudinary(audioBlob, (progress) => {\r\n        setUploadProgress(progress);\r\n      });\r\n\r\n      const userRef = doc(db, \"users\", user.uid);\r\n      await setDoc(\r\n        userRef,\r\n        {\r\n          lastSeen: serverTimestamp(),\r\n        },\r\n        { merge: true }\r\n      );\r\n\r\n      const messageData = {\r\n        timestamp: serverTimestamp(),\r\n        message: \"üé§ Voice message\",\r\n        user: user.email,\r\n        photoURL: user.photoURL,\r\n        voiceURL: voiceURL,\r\n        voiceDuration: recordingTime,\r\n        status: MESSAGE_STATUS.SENT, // ‚Üê ADD THIS\r\n      };\r\n\r\n      // Add reply data if replying\r\n      const replyData = buildReplyData(replyingTo);\r\n      if (replyData) {\r\n        messageData.replyTo = replyData;\r\n      }\r\n\r\n      await addDoc(collection(db, \"chats\", chatId, \"messages\"), messageData);\r\n\r\n      setAudioBlob(null);\r\n      setUploadProgress(0);\r\n      setReplyingTo(null);\r\n      scrollToBottom();\r\n    } catch (error) {\r\n      console.error(\"Error sending voice message:\", error);\r\n      setSendingError(`Failed to send voice message: ${error.message}`);\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    isRecording,\r\n    recordingTime,\r\n    audioBlob,\r\n    uploadProgress,\r\n    isUploading,\r\n    startRecording,\r\n    stopRecording,\r\n    cancelRecording,\r\n    sendVoiceMessage,\r\n  };\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2172, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/hooks/useRecipientData.js"],"sourcesContent":["import { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport { collection, query, where } from \"firebase/firestore\";\r\nimport { db } from \"../../../firebase\";\r\n\r\nexport const useRecipientData = (user, chat) => {\r\n  if (!user || !chat) {\r\n    return {\r\n      recipientEmail: null,\r\n      recipient: null,\r\n      recipientSnapshot: null,\r\n      isSelfChat: false,\r\n    };\r\n  }\r\n\r\n  // Check if this is a self-chat\r\n  const isSelfChat = chat.users.length === 2 && chat.users[0] === chat.users[1];\r\n\r\n  // Handle self-chat case - use current user's email\r\n  const recipientEmail = isSelfChat \r\n    ? user.email \r\n    : chat.users.find((userEmail) => userEmail !== user.email) || user.email;\r\n\r\n  const recipientQuery = recipientEmail\r\n    ? query(collection(db, \"users\"), where(\"email\", \"==\", recipientEmail))\r\n    : null;\r\n\r\n  const [recipientSnapshot] = useCollection(recipientQuery);\r\n\r\n  const recipient = recipientSnapshot?.docs?.[0]?.data();\r\n\r\n  return {\r\n    recipientEmail,\r\n    recipient: recipient || {\r\n      email: recipientEmail,\r\n      photoURL: user.photoURL, // Use current user's photo for self-chat\r\n    },\r\n    recipientSnapshot,\r\n    isSelfChat,\r\n  };\r\n};"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;;;;;AAEO,MAAM,mBAAmB,CAAC,MAAM;;IACrC,IAAI,CAAC,QAAQ,CAAC,MAAM;QAClB,OAAO;YACL,gBAAgB;YAChB,WAAW;YACX,mBAAmB;YACnB,YAAY;QACd;IACF;IAEA,+BAA+B;IAC/B,MAAM,aAAa,KAAK,KAAK,CAAC,MAAM,KAAK,KAAK,KAAK,KAAK,CAAC,EAAE,KAAK,KAAK,KAAK,CAAC,EAAE;IAE7E,mDAAmD;IACnD,MAAM,iBAAiB,aACnB,KAAK,KAAK,GACV,KAAK,KAAK,CAAC,IAAI,CAAC,CAAC,YAAc,cAAc,KAAK,KAAK,KAAK,KAAK,KAAK;IAE1E,MAAM,iBAAiB,iBACnB,IAAA,wKAAK,EAAC,IAAA,6KAAU,EAAC,0HAAE,EAAE,UAAU,IAAA,wKAAK,EAAC,SAAS,MAAM,mBACpD;IAEJ,MAAM,CAAC,kBAAkB,GAAG,IAAA,4LAAa,EAAC;IAE1C,MAAM,YAAY,mBAAmB,MAAM,CAAC,EAAE,EAAE;IAEhD,OAAO;QACL;QACA,WAAW,aAAa;YACtB,OAAO;YACP,UAAU,KAAK,QAAQ;QACzB;QACA;QACA;IACF;AACF;GAnCa;;QAsBiB,4LAAa","debugId":null}},
    {"offset": {"line": 2223, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/hooks/useMessages.js"],"sourcesContent":["// components/ChatScreen/hooks/useMessages.js\r\nimport { useMemo } from \"react\";\r\nimport { collection, query, orderBy } from \"firebase/firestore\";\r\nimport { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport { db } from \"../../../firebase\";\r\n\r\nexport const useMessages = (chatId) => {\r\n  const messagesRef = useMemo(() => {\r\n    if (!chatId) return null;\r\n    return collection(db, \"chats\", chatId, \"messages\");\r\n  }, [chatId]);\r\n\r\n  const messagesQuery = useMemo(() => {\r\n    if (!messagesRef) return null;\r\n    return query(messagesRef, orderBy(\"timestamp\", \"asc\"));\r\n  }, [messagesRef]);\r\n\r\n  const [messagesSnapshot] = useCollection(messagesQuery || null);\r\n\r\n  return {\r\n    messagesSnapshot,\r\n  };\r\n};"],"names":[],"mappings":"AAAA,6CAA6C;;;;;AAC7C;AACA;AAAA;AACA;AACA;;;;;;AAEO,MAAM,cAAc,CAAC;;IAC1B,MAAM,cAAc,IAAA,qIAAO;4CAAC;YAC1B,IAAI,CAAC,QAAQ,OAAO;YACpB,OAAO,IAAA,6KAAU,EAAC,0HAAE,EAAE,SAAS,QAAQ;QACzC;2CAAG;QAAC;KAAO;IAEX,MAAM,gBAAgB,IAAA,qIAAO;8CAAC;YAC5B,IAAI,CAAC,aAAa,OAAO;YACzB,OAAO,IAAA,wKAAK,EAAC,aAAa,IAAA,0KAAO,EAAC,aAAa;QACjD;6CAAG;QAAC;KAAY;IAEhB,MAAM,CAAC,iBAAiB,GAAG,IAAA,4LAAa,EAAC,iBAAiB;IAE1D,OAAO;QACL;IACF;AACF;GAhBa;;QAWgB,4LAAa","debugId":null}},
    {"offset": {"line": 2273, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/ChatScreen.styles.js"],"sourcesContent":["// components/ChatScreen/ChatScreen.styles.js\r\nimport styled from \"styled-components\";\r\nimport { Tabs } from \"@mui/material\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : 'white'};\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  position: sticky;\r\n  background-color: ${props => props.darkMode ? '#2a2a2a' : 'white'};\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  z-index: 100;\r\n  top: 0;\r\n  display: flex;\r\n  padding: 11px;\r\n  height: 80px;\r\n  align-items: center;\r\n  border-bottom: 1px solid ${props => props.darkMode ? '#333' : 'whitesmoke'};\r\n  flex-shrink: 0;\r\n`;\r\n\r\nexport const HeaderInformation = styled.div`\r\n  margin-left: 15px;\r\n  flex: 1;\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n\r\n  > h3 {\r\n    margin-bottom: 3px;\r\n    color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  }\r\n  > p {\r\n    font-size: 14px;\r\n    color: ${props => props.darkMode ? '#aaa' : 'gray'};\r\n  }\r\n`;\r\n\r\nexport const HeaderIcons = styled.div``;\r\n\r\nexport const MessageContainer = styled.div`\r\n  padding: 30px;\r\n  background-color: ${props => props.darkMode ? '#0d1117' : '#e5ded8'};\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 0;\r\n`;\r\n\r\nexport const InputContainer = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px;\r\n  background-color: ${props => props.darkMode ? '#2a2a2a' : 'white'};\r\n  gap: 10px;\r\n  flex-shrink: 0;\r\n  border-top: 1px solid ${props => props.darkMode ? '#333' : 'whitesmoke'};\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  flex: 1;\r\n  flex-shrink: 1;\r\n  outline: 0;\r\n  border: none;\r\n  border-radius: 10px;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : 'whitesmoke'};\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  padding: 15px;\r\n  margin-left: 5px;\r\n  margin-right: 5px;\r\n  font-size: 16px;\r\n\r\n  ::placeholder {\r\n    color: ${props => props.darkMode ? '#888' : '#999'};\r\n  }\r\n`;\r\n\r\nexport const EndOfMessage = styled.div`\r\n  margin-bottom: 50px;\r\n`;\r\n\r\nexport const OfflineMessage = styled.div`\r\n  text-align: center;\r\n  padding: 20px;\r\n  color: ${props => props.darkMode ? '#f8d7da' : '#721c24'};\r\n  background-color: ${props => props.darkMode ? '#5a1f1f' : '#f8d7da'};\r\n  border: 1px solid ${props => props.darkMode ? '#721c24' : '#f5c6cb'};\r\n  border-radius: 4px;\r\n  margin: 20px;\r\n`;\r\n\r\nexport const ErrorMessage = styled.div`\r\n  text-align: center;\r\n  padding: 20px;\r\n  color: ${props => props.darkMode ? '#ffeeba' : '#856404'};\r\n  background-color: ${props => props.darkMode ? '#664d03' : '#fff3cd'};\r\n  border: 1px solid ${props => props.darkMode ? '#856404' : '#ffeeba'};\r\n  border-radius: 4px;\r\n  margin: 20px;\r\n`;\r\n\r\nexport const ErrorAlert = styled.div`\r\n  color: ${props => props.darkMode ? '#f8d7da' : '#721c24'};\r\n  background-color: ${props => props.darkMode ? '#5a1f1f' : '#f8d7da'};\r\n  border: 1px solid ${props => props.darkMode ? '#721c24' : '#f5c6cb'};\r\n  padding: 10px;\r\n  margin: 10px;\r\n  border-radius: 4px;\r\n  text-align: center;\r\n`;\r\n\r\nexport const SendButton = styled.button`\r\n  background-color: ${props => props.darkMode ? '#d32f2f' : '#f44336'} !important;\r\n  color: white !important;\r\n  padding: 10px 20px !important;\r\n  border: none !important;\r\n  border-radius: 8px !important;\r\n  cursor: pointer !important;\r\n  font-weight: 600 !important;\r\n  display: block !important;\r\n  width: auto !important;\r\n  height: auto !important;\r\n  visibility: visible !important;\r\n  opacity: ${props => props.disabled ? '0.5' : '1'} !important;\r\n  \r\n  &:hover {\r\n    background-color: ${props => props.darkMode ? '#b71c1c' : '#d32f2f'} !important;\r\n  }\r\n\r\n  &:disabled {\r\n    cursor: not-allowed !important;\r\n  }\r\n`;\r\n\r\nexport const FilePreview = styled.div`\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const FileInfo = styled.div`\r\n  margin-bottom: 20px;\r\n  padding: 10px;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : '#f5f5f5'};\r\n  border-radius: 8px;\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n\r\n  p {\r\n    margin: 5px 0;\r\n  }\r\n`;\r\n\r\nexport const FileInput = styled.input`\r\n  width: 100%;\r\n  outline: 0;\r\n  border: 1px solid ${props => props.darkMode ? '#444' : '#ddd'};\r\n  border-radius: 8px;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : 'white'};\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  padding: 12px;\r\n  font-size: 16px;\r\n  margin-bottom: 10px;\r\n\r\n  ::placeholder {\r\n    color: ${props => props.darkMode ? '#888' : '#999'};\r\n  }\r\n`;\r\n\r\nexport const UploadProgress = styled.div`\r\n  text-align: center;\r\n  margin-top: 20px;\r\n\r\n  p {\r\n    margin-top: 10px;\r\n    font-weight: bold;\r\n  }\r\n`;\r\n\r\nexport const ProfileContainer = styled.div`\r\n  text-align: center;\r\n  padding: 20px;\r\n`;\r\n\r\nexport const ProfileInfo = styled.div`\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n\r\n  h2 {\r\n    margin-bottom: 15px;\r\n    color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  }\r\n\r\n  p {\r\n    margin: 10px 0;\r\n    font-size: 16px;\r\n    color: ${props => props.darkMode ? '#aaa' : 'gray'};\r\n  }\r\n`;\r\n\r\nexport const RecordingIndicator = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding: 15px;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : '#ffebee'};\r\n  border-radius: 10px;\r\n  color: ${props => props.darkMode ? '#e0e0e0' : '#c62828'};\r\n  font-weight: 500;\r\n`;\r\n\r\nexport const RecordingDot = styled.div`\r\n  width: 12px;\r\n  height: 12px;\r\n  background-color: #f44336;\r\n  border-radius: 50%;\r\n  animation: pulse 1.5s infinite;\r\n\r\n  @keyframes pulse {\r\n    0%, 100% {\r\n      opacity: 1;\r\n    }\r\n    50% {\r\n      opacity: 0.3;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const VoicePreview = styled.div`\r\n  padding: 20px;\r\n  text-align: center;\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n\r\n  p {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n\r\nexport const EmojiPickerContainer = styled.div`\r\n  width: 350px;\r\n  max-height: 450px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: ${props => props.darkMode ? '#2a2a2a' : 'white'};\r\n`;\r\n\r\nexport const EmojiPickerHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 12px 16px;\r\n  border-bottom: 1px solid ${props => props.darkMode ? '#444' : '#e0e0e0'};\r\n\r\n  h3 {\r\n    margin: 0;\r\n    font-size: 18px;\r\n    color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  }\r\n`;\r\n\r\nexport const EmojiSearchContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px 16px;\r\n  gap: 8px;\r\n  border-bottom: 1px solid ${props => props.darkMode ? '#444' : '#e0e0e0'};\r\n`;\r\n\r\nexport const EmojiSearchInput = styled.input`\r\n  flex: 1;\r\n  border: none;\r\n  outline: none;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : '#f5f5f5'};\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  padding: 8px 12px;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n\r\n  ::placeholder {\r\n    color: ${props => props.darkMode ? '#888' : '#999'};\r\n  }\r\n`;\r\n\r\nexport const EmojiCategoryTabs = styled(Tabs)`\r\n  border-bottom: 1px solid ${props => props.darkMode ? '#444' : '#e0e0e0'};\r\n  min-height: 48px;\r\n\r\n  .MuiTabs-flexContainer {\r\n    justify-content: space-around;\r\n  }\r\n`;\r\n\r\nexport const EmojiGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(8, 1fr);\r\n  gap: 4px;\r\n  padding: 12px;\r\n  overflow-y: auto;\r\n  max-height: 280px;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 8px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background: ${props => props.darkMode ? '#1e1e1e' : '#f1f1f1'};\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background: ${props => props.darkMode ? '#555' : '#888'};\r\n    border-radius: 4px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: ${props => props.darkMode ? '#666' : '#555'};\r\n  }\r\n`;\r\n\r\nexport const EmojiButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n  padding: 8px;\r\n  border-radius: 8px;\r\n  transition: all 0.2s;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  &:hover {\r\n    background-color: ${props => props.darkMode ? '#3a3a3a' : '#f0f0f0'};\r\n    transform: scale(1.2);\r\n  }\r\n\r\n  &:active {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nexport const NoEmojisMessage = styled.div`\r\n  grid-column: 1 / -1;\r\n  text-align: center;\r\n  padding: 40px 20px;\r\n  color: ${props => props.darkMode ? '#888' : '#999'};\r\n  font-size: 14px;\r\n`;\r\n\r\nexport const ReplyPreviewBar = styled.div`\r\n  display: flex;\r\n  padding: 12px 16px;\r\n  background-color: ${props => props.darkMode ? '#2a2a2a' : '#f5f5f5'};\r\n  border-top: 1px solid ${props => props.darkMode ? '#333' : '#e0e0e0'};\r\n  gap: 12px;\r\n  align-items: center;\r\n`;\r\n\r\nexport const ReplyBarIndicator = styled.div`\r\n  width: 4px;\r\n  height: 50px;\r\n  background-color: #00a884;\r\n  border-radius: 2px;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nexport const ReplyPreviewContent = styled.div`\r\n  flex: 1;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const ReplyPreviewHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 4px;\r\n  \r\n  span {\r\n    font-size: 13px;\r\n    font-weight: 600;\r\n    color: #00a884;\r\n  }\r\n`;\r\n\r\nexport const ReplyPreviewText = styled.div`\r\n  font-size: 14px;\r\n  color: ${props => props.darkMode ? '#aaa' : '#666'};\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2712, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/ChatHeader.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Avatar, IconButton } from \"@mui/material\";\r\nimport AttachFileIcon from \"@mui/icons-material/AttachFile\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport TimeAgo from \"timeago-react\";\r\nimport {\r\n  Header,\r\n  HeaderInformation,\r\n  HeaderIcons,\r\n} from \"../ChatScreen.styles\";\r\n\r\nfunction ChatHeader({\r\n  recipient,\r\n  recipientEmail,\r\n  recipientSnapshot,\r\n  isSelfChat,\r\n  onAttachFile,\r\n  onMoreClick,\r\n  darkMode,\r\n}) {\r\n  const getHeaderTitle = () => {\r\n    if (isSelfChat) {\r\n      return `${recipientEmail} (You)`;\r\n    }\r\n    return recipientEmail;\r\n  };\r\n\r\n  const getStatusText = () => {\r\n    if (isSelfChat) {\r\n      return \"Message yourself\";\r\n    }\r\n    \r\n    if (recipient?.lastSeen?.toDate) {\r\n      return (\r\n        <>\r\n          Last active: <TimeAgo datetime={recipient.lastSeen.toDate()} />\r\n        </>\r\n      );\r\n    }\r\n    \r\n    return \"Loading...\";\r\n  };\r\n\r\n  return (\r\n    <Header darkMode={darkMode}>\r\n      {recipient?.photoURL ? (\r\n        <Avatar src={recipient.photoURL} />\r\n      ) : (\r\n        <Avatar>{recipientEmail?.[0]?.toUpperCase()}</Avatar>\r\n      )}\r\n\r\n      <HeaderInformation>\r\n        <h3>{getHeaderTitle()}</h3>\r\n        <p>{getStatusText()}</p>\r\n      </HeaderInformation>\r\n\r\n      <HeaderIcons>\r\n        <IconButton onClick={onAttachFile}>\r\n          <AttachFileIcon />\r\n        </IconButton>\r\n        <IconButton onClick={onMoreClick}>\r\n          <MoreVertIcon />\r\n        </IconButton>\r\n      </HeaderIcons>\r\n    </Header>\r\n  );\r\n}\r\n\r\nexport default ChatHeader;"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;AAMA,SAAS,WAAW,EAClB,SAAS,EACT,cAAc,EACd,iBAAiB,EACjB,UAAU,EACV,YAAY,EACZ,WAAW,EACX,QAAQ,EACT;IACC,MAAM,iBAAiB;QACrB,IAAI,YAAY;YACd,OAAO,GAAG,eAAe,MAAM,CAAC;QAClC;QACA,OAAO;IACT;IAEA,MAAM,gBAAgB;QACpB,IAAI,YAAY;YACd,OAAO;QACT;QAEA,IAAI,WAAW,UAAU,QAAQ;YAC/B,qBACE;;oBAAE;kCACa,0JAAC,kKAAO;wBAAC,UAAU,UAAU,QAAQ,CAAC,MAAM;;;;;;;;QAG/D;QAEA,OAAO;IACT;IAEA,qBACE,0JAAC,sJAAM;QAAC,UAAU;;YACf,WAAW,yBACV,0JAAC,gMAAM;gBAAC,KAAK,UAAU,QAAQ;;;;;qCAE/B,0JAAC,gMAAM;0BAAE,gBAAgB,CAAC,EAAE,EAAE;;;;;;0BAGhC,0JAAC,iKAAiB;;kCAChB,0JAAC;kCAAI;;;;;;kCACL,0JAAC;kCAAG;;;;;;;;;;;;0BAGN,0JAAC,2JAAW;;kCACV,0JAAC,gNAAU;wBAAC,SAAS;kCACnB,cAAA,0JAAC,+JAAc;;;;;;;;;;kCAEjB,0JAAC,gNAAU;wBAAC,SAAS;kCACnB,cAAA,0JAAC,6JAAY;;;;;;;;;;;;;;;;;;;;;;AAKvB;KAvDS;uCAyDM","debugId":null}},
    {"offset": {"line": 2846, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/MessageStatus.jsx"],"sourcesContent":["// components/ChatScreen/components/MessageStatus.jsx\r\n\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport DoneIcon from \"@mui/icons-material/Done\";\r\nimport DoneAllIcon from \"@mui/icons-material/DoneAll\";\r\nimport AccessTimeIcon from \"@mui/icons-material/AccessTime\";\r\nimport { MESSAGE_STATUS } from \"../constants\";\r\n\r\nconst MessageStatus = ({ status, darkMode }) => {\r\n  const getStatusIcon = () => {\r\n    switch (status) {\r\n      case MESSAGE_STATUS.SENT:\r\n        return <SingleCheck darkMode={darkMode} />;\r\n      \r\n      case MESSAGE_STATUS.DELIVERED:\r\n        return <DoubleCheckGray darkMode={darkMode} />;\r\n      \r\n      case MESSAGE_STATUS.READ:\r\n        return <DoubleCheckBlue />;\r\n      \r\n      default:\r\n        return <PendingIcon darkMode={darkMode} />;\r\n    }\r\n  };\r\n\r\n  return <StatusContainer>{getStatusIcon()}</StatusContainer>;\r\n};\r\n\r\nexport default MessageStatus;\r\n\r\n// Styled Components\r\nconst StatusContainer = styled.span`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  margin-left: 4px;\r\n  vertical-align: middle;\r\n`;\r\n\r\nconst SingleCheck = styled(DoneIcon)`\r\n  font-size: 16px !important;\r\n  color: ${props => props.darkMode ? '#8696a0' : '#667781'};\r\n`;\r\n\r\nconst DoubleCheckGray = styled(DoneAllIcon)`\r\n  font-size: 16px !important;\r\n  color: ${props => props.darkMode ? '#8696a0' : '#667781'};\r\n`;\r\n\r\nconst DoubleCheckBlue = styled(DoneAllIcon)`\r\n  font-size: 16px !important;\r\n  color: #53bdeb;\r\n`;\r\n\r\nconst PendingIcon = styled(AccessTimeIcon)`\r\n  font-size: 14px !important;\r\n  color: ${props => props.darkMode ? '#8696a0' : '#667781'};\r\n  opacity: 0.6;\r\n`;"],"names":[],"mappings":"AAAA,qDAAqD;;;;;;AAErD;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAEA,MAAM,gBAAgB,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE;IACzC,MAAM,gBAAgB;QACpB,OAAQ;YACN,KAAK,mJAAc,CAAC,IAAI;gBACtB,qBAAO,0JAAC;oBAAY,UAAU;;;;;;YAEhC,KAAK,mJAAc,CAAC,SAAS;gBAC3B,qBAAO,0JAAC;oBAAgB,UAAU;;;;;;YAEpC,KAAK,mJAAc,CAAC,IAAI;gBACtB,qBAAO,0JAAC;;;;;YAEV;gBACE,qBAAO,0JAAC;oBAAY,UAAU;;;;;;QAClC;IACF;IAEA,qBAAO,0JAAC;kBAAiB;;;;;;AAC3B;KAlBM;uCAoBS;AAEf,oBAAoB;AACpB,MAAM,kBAAkB,6LAAM,CAAC,IAAI,CAAC;;;;;AAKpC,CAAC;MALK;AAON,MAAM,cAAc,IAAA,6LAAM,EAAC,yJAAQ,CAAC,CAAC;;SAE5B,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,UAAU;AAC3D,CAAC;MAHK;AAKN,MAAM,kBAAkB,IAAA,6LAAM,EAAC,4JAAW,CAAC,CAAC;;SAEnC,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,UAAU;AAC3D,CAAC;MAHK;AAKN,MAAM,kBAAkB,IAAA,6LAAM,EAAC,4JAAW,CAAC,CAAC;;;AAG5C,CAAC;MAHK;AAKN,MAAM,cAAc,IAAA,6LAAM,EAAC,+JAAc,CAAC,CAAC;;SAElC,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,UAAU;;AAE3D,CAAC;MAJK","debugId":null}},
    {"offset": {"line": 2953, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/Message.jsx"],"sourcesContent":["// components/Message.jsx (Update existing file)\r\n\r\nimport React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { auth } from \"../firebase\";\r\nimport moment from \"moment\";\r\nimport { IconButton, Menu, MenuItem } from \"@mui/material\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport ReplyIcon from \"@mui/icons-material/Reply\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport MessageStatus from \"./ChatScreen/components/MessageStatus\";\r\nimport { MESSAGE_STATUS } from \"./ChatScreen/constants\";\r\n\r\nfunction Message({ messageId, user, message, onDelete, onReply }) {\r\n  const [userLoggedIn] = useAuthState(auth);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const TypeOfMessage = user === userLoggedIn.email ? Sender : Receiver;\r\n  const isOwnMessage = user === userLoggedIn.email;\r\n\r\n  const handleMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    onDelete(messageId);\r\n    handleMenuClose();\r\n  };\r\n\r\n  const handleReplyClick = () => {\r\n    onReply({\r\n      id: messageId,\r\n      user: user,\r\n      message: message.message,\r\n      fileName: message.fileName,\r\n      fileType: message.fileType,\r\n      fileURL: message.fileURL,\r\n      voiceURL: message.voiceURL,\r\n      voiceDuration: message.voiceDuration,\r\n    });\r\n    handleMenuClose();\r\n  };\r\n\r\n  const renderMessageContent = () => {\r\n    // Reply preview\r\n    const replyPreview = message.replyTo && (\r\n      <ReplyPreview>\r\n        <ReplyBorder />\r\n        <ReplyContent>\r\n          <ReplyUser>{message.replyTo.user}</ReplyUser>\r\n          <ReplyText>\r\n            {message.replyTo.message || message.replyTo.fileName || 'üé§ Voice message'}\r\n          </ReplyText>\r\n        </ReplyContent>\r\n      </ReplyPreview>\r\n    );\r\n\r\n    // Voice message\r\n    if (message.voiceURL) {\r\n      return (\r\n        <>\r\n          {replyPreview}\r\n          <VoiceMessageContainer>\r\n            <audio controls src={message.voiceURL} style={{ maxWidth: '100%' }} />\r\n            {message.voiceDuration && (\r\n              <VoiceDuration>{Math.floor(message.voiceDuration / 60)}:{(message.voiceDuration % 60).toString().padStart(2, '0')}</VoiceDuration>\r\n            )}\r\n          </VoiceMessageContainer>\r\n        </>\r\n      );\r\n    }\r\n\r\n    // File attachment\r\n    if (message.fileURL) {\r\n      const isImage = message.fileType?.startsWith('image/');\r\n      return (\r\n        <>\r\n          {replyPreview}\r\n          {isImage ? (\r\n            <MessageImage src={message.fileURL} alt={message.fileName} />\r\n          ) : (\r\n            <FileAttachment href={message.fileURL} target=\"_blank\" rel=\"noopener noreferrer\">\r\n              üìé {message.fileName}\r\n            </FileAttachment>\r\n          )}\r\n          {message.message && <MessageText>{message.message}</MessageText>}\r\n        </>\r\n      );\r\n    }\r\n\r\n    // Regular text message\r\n    return (\r\n      <>\r\n        {replyPreview}\r\n        <MessageText>{message.message}</MessageText>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <TypeOfMessage>\r\n        <MessageContent>\r\n          {renderMessageContent()}\r\n          <MessageFooter>\r\n            <Timestamp>\r\n              {message.timestamp ? moment(message.timestamp).format(\"LT\") : \"...\"}\r\n            </Timestamp>\r\n            {isOwnMessage && (\r\n              <MessageStatus \r\n                status={message.status || MESSAGE_STATUS.SENT} \r\n                darkMode={false} \r\n              />\r\n            )}\r\n          </MessageFooter>\r\n        </MessageContent>\r\n        <MessageActions>\r\n          <IconButton size=\"small\" onClick={handleMenuOpen}>\r\n            <MoreVertIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </MessageActions>\r\n      </TypeOfMessage>\r\n\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleMenuClose}\r\n      >\r\n        <MenuItem onClick={handleReplyClick}>\r\n          <ReplyIcon fontSize=\"small\" style={{ marginRight: 8 }} />\r\n          Reply\r\n        </MenuItem>\r\n        {isOwnMessage && (\r\n          <MenuItem onClick={handleDelete}>\r\n            <DeleteIcon fontSize=\"small\" style={{ marginRight: 8 }} />\r\n            Delete\r\n          </MenuItem>\r\n        )}\r\n      </Menu>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Message;\r\n\r\n// Styled Components (keep existing styles and add these)\r\n\r\nconst MessageFooter = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  gap: 4px;\r\n  margin-top: 4px;\r\n`;\r\n\r\nconst MessageContent = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nconst MessageActions = styled.div`\r\n  opacity: 0;\r\n  transition: opacity 0.2s;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  &:hover ${MessageActions} {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst Sender = styled.div`\r\n  display: flex;\r\n  align-items: flex-end;\r\n  gap: 8px;\r\n  margin-left: auto;\r\n  padding: 8px 16px;\r\n  border-radius: 8px;\r\n  background-color: #dcf8c6;\r\n  width: fit-content;\r\n  max-width: 65%;\r\n  word-wrap: break-word;\r\n  margin-bottom: 8px;\r\n  position: relative;\r\n`;\r\n\r\nconst Receiver = styled(Sender)`\r\n  margin-left: 0;\r\n  margin-right: auto;\r\n  background-color: white;\r\n`;\r\n\r\nconst MessageText = styled.p`\r\n  margin: 0;\r\n  padding: 0;\r\n  font-size: 14px;\r\n  line-height: 1.5;\r\n`;\r\n\r\nconst Timestamp = styled.span`\r\n  font-size: 11px;\r\n  color: #667781;\r\n  padding: 0;\r\n  margin-left: 8px;\r\n`;\r\n\r\nconst ReplyPreview = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  padding: 8px;\r\n  margin-bottom: 8px;\r\n  background-color: rgba(0, 0, 0, 0.05);\r\n  border-radius: 4px;\r\n`;\r\n\r\nconst ReplyBorder = styled.div`\r\n  width: 4px;\r\n  background-color: #06cf9c;\r\n  border-radius: 2px;\r\n`;\r\n\r\nconst ReplyContent = styled.div`\r\n  flex: 1;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst ReplyUser = styled.div`\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  color: #06cf9c;\r\n  margin-bottom: 2px;\r\n`;\r\n\r\nconst ReplyText = styled.div`\r\n  font-size: 13px;\r\n  color: #667781;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nconst MessageImage = styled.img`\r\n  max-width: 100%;\r\n  border-radius: 8px;\r\n  margin-bottom: 4px;\r\n`;\r\n\r\nconst FileAttachment = styled.a`\r\n  display: block;\r\n  padding: 8px;\r\n  background-color: rgba(0, 0, 0, 0.05);\r\n  border-radius: 4px;\r\n  text-decoration: none;\r\n  color: inherit;\r\n  margin-bottom: 4px;\r\n\r\n  &:hover {\r\n    background-color: rgba(0, 0, 0, 0.1);\r\n  }\r\n`;\r\n\r\nconst VoiceMessageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n`;\r\n\r\nconst VoiceDuration = styled.span`\r\n  font-size: 11px;\r\n  color: #667781;\r\n`;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3414, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/MessageList.jsx"],"sourcesContent":["// components/ChatScreen/components/MessageList.jsx\r\nimport React, { forwardRef } from \"react\";\r\nimport Message from \"../../Message\";\r\nimport { MessageContainer, ErrorAlert, EndOfMessage } from \"../ChatScreen.styles\";\r\n\r\nconst MessageList = forwardRef(({ \r\n  messagesSnapshot, \r\n  messages, \r\n  sendingError, \r\n  onDelete, \r\n  onReply,\r\n  darkMode \r\n}, ref) => {\r\n  const showMessages = () => {\r\n    if (messagesSnapshot) {\r\n      return messagesSnapshot.docs.map((message) => (\r\n        <Message\r\n          key={message.id}\r\n          messageId={message.id}\r\n          user={message.data().user}\r\n          message={{\r\n            ...message.data(),\r\n            timestamp: message.data().timestamp?.toMillis(),\r\n          }}\r\n          onDelete={onDelete}\r\n          onReply={onReply}\r\n        />\r\n      ));\r\n    } else {\r\n      return messages ? JSON.parse(messages).map((message) => (\r\n        <Message \r\n          key={message.id} \r\n          messageId={message.id}\r\n          user={message.user} \r\n          message={message}\r\n          onDelete={onDelete}\r\n          onReply={onReply}\r\n        />\r\n      )) : null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MessageContainer darkMode={darkMode}>\r\n      {showMessages()}\r\n      {sendingError && <ErrorAlert darkMode={darkMode}>{sendingError}</ErrorAlert>}\r\n      <EndOfMessage ref={ref} />\r\n    </MessageContainer>\r\n  );\r\n});\r\n\r\nMessageList.displayName = 'MessageList';\r\n\r\nexport default MessageList;"],"names":[],"mappings":"AAAA,mDAAmD;;;;;;AACnD;AACA;AACA;;;;;AAEA,MAAM,4BAAc,IAAA,wIAAU,OAAC,CAAC,EAC9B,gBAAgB,EAChB,QAAQ,EACR,YAAY,EACZ,QAAQ,EACR,OAAO,EACP,QAAQ,EACT,EAAE;IACD,MAAM,eAAe;QACnB,IAAI,kBAAkB;YACpB,OAAO,iBAAiB,IAAI,CAAC,GAAG,CAAC,CAAC,wBAChC,0JAAC,6HAAO;oBAEN,WAAW,QAAQ,EAAE;oBACrB,MAAM,QAAQ,IAAI,GAAG,IAAI;oBACzB,SAAS;wBACP,GAAG,QAAQ,IAAI,EAAE;wBACjB,WAAW,QAAQ,IAAI,GAAG,SAAS,EAAE;oBACvC;oBACA,UAAU;oBACV,SAAS;mBARJ,QAAQ,EAAE;;;;;QAWrB,OAAO;YACL,OAAO,WAAW,KAAK,KAAK,CAAC,UAAU,GAAG,CAAC,CAAC,wBAC1C,0JAAC,6HAAO;oBAEN,WAAW,QAAQ,EAAE;oBACrB,MAAM,QAAQ,IAAI;oBAClB,SAAS;oBACT,UAAU;oBACV,SAAS;mBALJ,QAAQ,EAAE;;;;gEAOd;QACP;IACF;IAEA,qBACE,0JAAC,gKAAgB;QAAC,UAAU;;YACzB;YACA,8BAAgB,0JAAC,0JAAU;gBAAC,UAAU;0BAAW;;;;;;0BAClD,0JAAC,4JAAY;gBAAC,KAAK;;;;;;;;;;;;AAGzB;;AAEA,YAAY,WAAW,GAAG;uCAEX","debugId":null}},
    {"offset": {"line": 3497, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/ChatInput.jsx"],"sourcesContent":["// components/ChatScreen/components/ChatInput.jsx\r\nimport React from \"react\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport InsertEmoticonIcon from \"@mui/icons-material/InsertEmoticon\";\r\nimport MicIcon from \"@mui/icons-material/Mic\";\r\nimport StopIcon from \"@mui/icons-material/Stop\";\r\nimport { \r\n  InputContainer, \r\n  Input, \r\n  SendButton, \r\n  RecordingIndicator, \r\n  RecordingDot \r\n} from \"../ChatScreen.styles\";\r\nimport { formatTime } from \"../utils\";\r\n\r\nconst ChatInput = ({ \r\n  input,\r\n  setInput,\r\n  inputRef,\r\n  isRecording,\r\n  recordingTime,\r\n  onSubmit,\r\n  onEmojiClick,\r\n  onStartRecording,\r\n  onStopRecording,\r\n  darkMode \r\n}) => {\r\n  return (\r\n    <InputContainer onSubmit={onSubmit} darkMode={darkMode}>\r\n      <IconButton onClick={onEmojiClick}>\r\n        <InsertEmoticonIcon style={{ color: darkMode ? '#e0e0e0' : 'inherit' }} />\r\n      </IconButton>\r\n      \r\n      {isRecording ? (\r\n        <RecordingIndicator darkMode={darkMode}>\r\n          <RecordingDot />\r\n          <span>Recording... {formatTime(recordingTime)}</span>\r\n          <IconButton onClick={onStopRecording} style={{ color: darkMode ? '#e0e0e0' : '#f44336' }}>\r\n            <StopIcon />\r\n          </IconButton>\r\n        </RecordingIndicator>\r\n      ) : (\r\n        <Input\r\n          ref={inputRef}\r\n          darkMode={darkMode}\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          placeholder=\"Type a message\"\r\n          type=\"text\"\r\n        />\r\n      )}\r\n      \r\n      {!isRecording && (\r\n        <SendButton\r\n          type=\"submit\"\r\n          disabled={!input?.trim()}\r\n          darkMode={darkMode}\r\n        >\r\n          Send\r\n        </SendButton>\r\n      )}\r\n      \r\n      <IconButton onClick={isRecording ? onStopRecording : onStartRecording}>\r\n        <MicIcon style={{ color: isRecording ? '#f44336' : (darkMode ? '#e0e0e0' : 'inherit') }} />\r\n      </IconButton>\r\n    </InputContainer>\r\n  );\r\n};\r\n\r\nexport default ChatInput;"],"names":[],"mappings":"AAAA,iDAAiD;;;;;;AACjD;AACA;AACA;AACA;AACA;AACA;AAOA;;;;;;;;;AAEA,MAAM,YAAY,CAAC,EACjB,KAAK,EACL,QAAQ,EACR,QAAQ,EACR,WAAW,EACX,aAAa,EACb,QAAQ,EACR,YAAY,EACZ,gBAAgB,EAChB,eAAe,EACf,QAAQ,EACT;IACC,qBACE,0JAAC,8JAAc;QAAC,UAAU;QAAU,UAAU;;0BAC5C,0JAAC,gNAAU;gBAAC,SAAS;0BACnB,cAAA,0JAAC,mKAAkB;oBAAC,OAAO;wBAAE,OAAO,WAAW,YAAY;oBAAU;;;;;;;;;;;YAGtE,4BACC,0JAAC,kKAAkB;gBAAC,UAAU;;kCAC5B,0JAAC,4JAAY;;;;;kCACb,0JAAC;;4BAAK;4BAAc,IAAA,2IAAU,EAAC;;;;;;;kCAC/B,0JAAC,gNAAU;wBAAC,SAAS;wBAAiB,OAAO;4BAAE,OAAO,WAAW,YAAY;wBAAU;kCACrF,cAAA,0JAAC,yJAAQ;;;;;;;;;;;;;;;yEAIb,0JAAC,qJAAK;gBACJ,KAAK;gBACL,UAAU;gBACV,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,aAAY;gBACZ,MAAK;;;;;;YAIR,CAAC,6BACA,0JAAC,0JAAU;gBACT,MAAK;gBACL,UAAU,CAAC,OAAO;gBAClB,UAAU;0BACX;;;;;;0BAKH,0JAAC,gNAAU;gBAAC,SAAS,cAAc,kBAAkB;0BACnD,cAAA,0JAAC,wJAAO;oBAAC,OAAO;wBAAE,OAAO,cAAc,YAAa,WAAW,YAAY;oBAAW;;;;;;;;;;;;;;;;;AAI9F;KApDM;uCAsDS","debugId":null}},
    {"offset": {"line": 3633, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/EmojiPicker.jsx"],"sourcesContent":["// components/ChatScreen/components/EmojiPicker.jsx\r\nimport React from \"react\";\r\nimport { Popover, IconButton, Tab } from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport { EMOJI_CATEGORIES } from \"../constants\";\r\nimport {\r\n  EmojiPickerContainer,\r\n  EmojiPickerHeader,\r\n  EmojiSearchContainer,\r\n  EmojiSearchInput,\r\n  EmojiCategoryTabs,\r\n  EmojiGrid,\r\n  EmojiButton,\r\n  NoEmojisMessage,\r\n} from \"../ChatScreen.styles\";\r\n\r\nconst EmojiPicker = ({\r\n  open,\r\n  anchorEl,\r\n  onClose,\r\n  selectedCategory,\r\n  onCategoryChange,\r\n  searchTerm,\r\n  onSearchChange,\r\n  emojis,\r\n  onEmojiSelect,\r\n  darkMode,\r\n}) => {\r\n  return (\r\n    <Popover\r\n      open={open}\r\n      anchorEl={anchorEl}\r\n      onClose={onClose}\r\n      anchorOrigin={{\r\n        vertical: 'top',\r\n        horizontal: 'left',\r\n      }}\r\n      transformOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n      }}\r\n      PaperProps={{\r\n        style: {\r\n          backgroundColor: darkMode ? '#2a2a2a' : 'white',\r\n          color: darkMode ? '#e0e0e0' : 'black',\r\n          borderRadius: '12px',\r\n          boxShadow: '0 4px 20px rgba(0,0,0,0.3)',\r\n        },\r\n      }}\r\n    >\r\n      <EmojiPickerContainer darkMode={darkMode}>\r\n        <EmojiPickerHeader darkMode={darkMode}>\r\n          <h3>Emojis</h3>\r\n          <IconButton onClick={onClose} size=\"small\">\r\n            <CloseIcon style={{ color: darkMode ? '#e0e0e0' : 'inherit' }} />\r\n          </IconButton>\r\n        </EmojiPickerHeader>\r\n\r\n        <EmojiSearchContainer darkMode={darkMode}>\r\n          <SearchIcon style={{ color: darkMode ? '#888' : '#666' }} />\r\n          <EmojiSearchInput\r\n            darkMode={darkMode}\r\n            placeholder=\"Search emoji...\"\r\n            value={searchTerm}\r\n            onChange={(e) => onSearchChange(e.target.value)}\r\n          />\r\n        </EmojiSearchContainer>\r\n\r\n        <EmojiCategoryTabs\r\n          value={selectedCategory}\r\n          onChange={(e, newValue) => onCategoryChange(newValue)}\r\n          variant=\"scrollable\"\r\n          scrollButtons=\"auto\"\r\n          darkMode={darkMode}\r\n          TabIndicatorProps={{\r\n            style: {\r\n              backgroundColor: darkMode ? '#d32f2f' : '#f44336',\r\n            },\r\n          }}\r\n        >\r\n          {Object.entries(EMOJI_CATEGORIES).map(([key, { name, icon }]) => (\r\n            <Tab\r\n              key={key}\r\n              value={key}\r\n              label={icon}\r\n              title={name}\r\n              style={{\r\n                color: darkMode ? '#e0e0e0' : 'black',\r\n                minWidth: 50,\r\n              }}\r\n            />\r\n          ))}\r\n        </EmojiCategoryTabs>\r\n\r\n        <EmojiGrid darkMode={darkMode}>\r\n          {emojis.length > 0 ? (\r\n            emojis.map((emoji, index) => (\r\n              <EmojiButton\r\n                key={`${emoji}-${index}`}\r\n                onClick={() => onEmojiSelect(emoji)}\r\n                darkMode={darkMode}\r\n              >\r\n                {emoji}\r\n              </EmojiButton>\r\n            ))\r\n          ) : (\r\n            <NoEmojisMessage darkMode={darkMode}>\r\n              {selectedCategory === \"recent\"\r\n                ? \"No recent emojis. Start using emojis!\"\r\n                : \"No emojis found\"}\r\n            </NoEmojisMessage>\r\n          )}\r\n        </EmojiGrid>\r\n      </EmojiPickerContainer>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default EmojiPicker;"],"names":[],"mappings":"AAAA,mDAAmD;;;;;;AACnD;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;AAWA,MAAM,cAAc,CAAC,EACnB,IAAI,EACJ,QAAQ,EACR,OAAO,EACP,gBAAgB,EAChB,gBAAgB,EAChB,UAAU,EACV,cAAc,EACd,MAAM,EACN,aAAa,EACb,QAAQ,EACT;IACC,qBACE,0JAAC,oMAAO;QACN,MAAM;QACN,UAAU;QACV,SAAS;QACT,cAAc;YACZ,UAAU;YACV,YAAY;QACd;QACA,iBAAiB;YACf,UAAU;YACV,YAAY;QACd;QACA,YAAY;YACV,OAAO;gBACL,iBAAiB,WAAW,YAAY;gBACxC,OAAO,WAAW,YAAY;gBAC9B,cAAc;gBACd,WAAW;YACb;QACF;kBAEA,cAAA,0JAAC,oKAAoB;YAAC,UAAU;;8BAC9B,0JAAC,iKAAiB;oBAAC,UAAU;;sCAC3B,0JAAC;sCAAG;;;;;;sCACJ,0JAAC,gNAAU;4BAAC,SAAS;4BAAS,MAAK;sCACjC,cAAA,0JAAC,0JAAS;gCAAC,OAAO;oCAAE,OAAO,WAAW,YAAY;gCAAU;;;;;;;;;;;;;;;;;8BAIhE,0JAAC,oKAAoB;oBAAC,UAAU;;sCAC9B,0JAAC,2JAAU;4BAAC,OAAO;gCAAE,OAAO,WAAW,SAAS;4BAAO;;;;;;sCACvD,0JAAC,gKAAgB;4BACf,UAAU;4BACV,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8BAIlD,0JAAC,iKAAiB;oBAChB,OAAO;oBACP,UAAU,CAAC,GAAG,WAAa,iBAAiB;oBAC5C,SAAQ;oBACR,eAAc;oBACd,UAAU;oBACV,mBAAmB;wBACjB,OAAO;4BACL,iBAAiB,WAAW,YAAY;wBAC1C;oBACF;8BAEC,OAAO,OAAO,CAAC,qJAAgB,EAAE,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,iBAC1D,0JAAC,oLAAG;4BAEF,OAAO;4BACP,OAAO;4BACP,OAAO;4BACP,OAAO;gCACL,OAAO,WAAW,YAAY;gCAC9B,UAAU;4BACZ;2BAPK;;;;;;;;;;8BAYX,0JAAC,yJAAS;oBAAC,UAAU;8BAClB,OAAO,MAAM,GAAG,IACf,OAAO,GAAG,CAAC,CAAC,OAAO,sBACjB,0JAAC,2JAAW;4BAEV,SAAS,IAAM,cAAc;4BAC7B,UAAU;sCAET;2BAJI,GAAG,MAAM,CAAC,EAAE,OAAO;;;;sFAQ5B,0JAAC,+JAAe;wBAAC,UAAU;kCACxB,qBAAqB,WAClB,0CACA;;;;;;;;;;;;;;;;;;;;;;AAOlB;KApGM;uCAsGS","debugId":null}},
    {"offset": {"line": 3814, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/FileUploadDialog.jsx"],"sourcesContent":["// components/ChatScreen/components/FileUploadDialog.jsx\r\nimport React from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  IconButton,\r\n  CircularProgress,\r\n} from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport SendIcon from \"@mui/icons-material/Send\";\r\nimport { FilePreview, FileInfo, FileInput, UploadProgress } from \"../ChatScreen.styles\";\r\nimport { formatFileSize } from \"../utils\";\r\n\r\nconst FileUploadDialog = ({\r\n  open,\r\n  onClose,\r\n  file,\r\n  filePreview,\r\n  input,\r\n  onInputChange,\r\n  uploadProgress,\r\n  isUploading,\r\n  onSend,\r\n  darkMode,\r\n}) => {\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={onClose}\r\n      maxWidth=\"sm\"\r\n      fullWidth\r\n      PaperProps={{\r\n        style: {\r\n          backgroundColor: darkMode ? '#2a2a2a' : 'white',\r\n          color: darkMode ? '#e0e0e0' : 'black',\r\n        },\r\n      }}\r\n    >\r\n      <DialogTitle style={{ color: darkMode ? '#e0e0e0' : 'black' }}>\r\n        Send File\r\n        <IconButton\r\n          onClick={onClose}\r\n          style={{ position: 'absolute', right: 8, top: 8, color: darkMode ? '#e0e0e0' : 'inherit' }}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        {filePreview && (\r\n          <FilePreview>\r\n            <img src={filePreview} alt=\"Preview\" style={{ maxWidth: '100%', maxHeight: '300px' }} />\r\n          </FilePreview>\r\n        )}\r\n        <FileInfo darkMode={darkMode}>\r\n          <p><strong>File:</strong> {file?.name}</p>\r\n          <p><strong>Size:</strong> {formatFileSize(file?.size)} MB</p>\r\n          <p><strong>Type:</strong> {file?.type || 'Unknown'}</p>\r\n        </FileInfo>\r\n        <FileInput\r\n          darkMode={darkMode}\r\n          value={input}\r\n          onChange={(e) => onInputChange(e.target.value)}\r\n          placeholder=\"Add a message (optional)\"\r\n          type=\"text\"\r\n        />\r\n        {isUploading && (\r\n          <UploadProgress>\r\n            <CircularProgress variant=\"determinate\" value={uploadProgress} />\r\n            <p>{Math.round(uploadProgress)}%</p>\r\n          </UploadProgress>\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onClose} style={{ color: darkMode ? '#e0e0e0' : 'inherit' }}>\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={onSend}\r\n          variant=\"contained\"\r\n          disabled={isUploading}\r\n          style={{ backgroundColor: darkMode ? '#d32f2f' : '#f44336', color: 'white' }}\r\n          startIcon={<SendIcon />}\r\n        >\r\n          {isUploading ? 'Sending...' : 'Send'}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default FileUploadDialog;"],"names":[],"mappings":"AAAA,wDAAwD;;;;;;AACxD;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;;;;;;;;AAEA,MAAM,mBAAmB,CAAC,EACxB,IAAI,EACJ,OAAO,EACP,IAAI,EACJ,WAAW,EACX,KAAK,EACL,aAAa,EACb,cAAc,EACd,WAAW,EACX,MAAM,EACN,QAAQ,EACT;IACC,qBACE,0JAAC,gMAAM;QACL,MAAM;QACN,SAAS;QACT,UAAS;QACT,SAAS;QACT,YAAY;YACV,OAAO;gBACL,iBAAiB,WAAW,YAAY;gBACxC,OAAO,WAAW,YAAY;YAChC;QACF;;0BAEA,0JAAC,oNAAW;gBAAC,OAAO;oBAAE,OAAO,WAAW,YAAY;gBAAQ;;oBAAG;kCAE7D,0JAAC,gNAAU;wBACT,SAAS;wBACT,OAAO;4BAAE,UAAU;4BAAY,OAAO;4BAAG,KAAK;4BAAG,OAAO,WAAW,YAAY;wBAAU;kCAEzF,cAAA,0JAAC,0JAAS;;;;;;;;;;;;;;;;0BAGd,0JAAC,4NAAa;;oBACX,6BACC,0JAAC,2JAAW;kCACV,cAAA,0JAAC;4BAAI,KAAK;4BAAa,KAAI;4BAAU,OAAO;gCAAE,UAAU;gCAAQ,WAAW;4BAAQ;;;;;;;;;;;kCAGvF,0JAAC,wJAAQ;wBAAC,UAAU;;0CAClB,0JAAC;;kDAAE,0JAAC;kDAAO;;;;;;oCAAc;oCAAE,MAAM;;;;;;;0CACjC,0JAAC;;kDAAE,0JAAC;kDAAO;;;;;;oCAAc;oCAAE,IAAA,+IAAc,EAAC,MAAM;oCAAM;;;;;;;0CACtD,0JAAC;;kDAAE,0JAAC;kDAAO;;;;;;oCAAc;oCAAE,MAAM,QAAQ;;;;;;;;;;;;;kCAE3C,0JAAC,yJAAS;wBACR,UAAU;wBACV,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;wBAC7C,aAAY;wBACZ,MAAK;;;;;;oBAEN,6BACC,0JAAC,8JAAc;;0CACb,0JAAC,wOAAgB;gCAAC,SAAQ;gCAAc,OAAO;;;;;;0CAC/C,0JAAC;;oCAAG,KAAK,KAAK,CAAC;oCAAgB;;;;;;;;;;;;;;;;;;;0BAIrC,0JAAC,4NAAa;;kCACZ,0JAAC,gMAAM;wBAAC,SAAS;wBAAS,OAAO;4BAAE,OAAO,WAAW,YAAY;wBAAU;kCAAG;;;;;;kCAG9E,0JAAC,gMAAM;wBACL,SAAS;wBACT,SAAQ;wBACR,UAAU;wBACV,OAAO;4BAAE,iBAAiB,WAAW,YAAY;4BAAW,OAAO;wBAAQ;wBAC3E,yBAAW,0JAAC,yJAAQ;;;;;kCAEnB,cAAc,eAAe;;;;;;;;;;;;;;;;;;AAKxC;KA3EM;uCA6ES","debugId":null}},
    {"offset": {"line": 4062, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/VoiceRecordingDialog.jsx"],"sourcesContent":["// components/ChatScreen/components/VoiceRecordingDialog.jsx\r\nimport React from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  CircularProgress,\r\n} from \"@mui/material\";\r\nimport SendIcon from \"@mui/icons-material/Send\";\r\nimport { VoicePreview, UploadProgress } from \"../ChatScreen.styles\";\r\nimport { formatTime } from \"../utils\";\r\n\r\nconst VoiceRecordingDialog = ({\r\n  open,\r\n  audioBlob,\r\n  recordingTime,\r\n  uploadProgress,\r\n  isUploading,\r\n  onCancel,\r\n  onSend,\r\n  onError,\r\n  darkMode,\r\n}) => {\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={onCancel}\r\n      maxWidth=\"sm\"\r\n      fullWidth\r\n      PaperProps={{\r\n        style: {\r\n          backgroundColor: darkMode ? '#2a2a2a' : 'white',\r\n          color: darkMode ? '#e0e0e0' : 'black',\r\n        },\r\n      }}\r\n    >\r\n      <DialogTitle style={{ color: darkMode ? '#e0e0e0' : 'black' }}>\r\n        Voice Message Recorded\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <VoicePreview darkMode={darkMode}>\r\n          <p>Duration: {formatTime(recordingTime)}</p>\r\n          {audioBlob && (\r\n            <>\r\n              <p style={{ fontSize: '12px', color: darkMode ? '#888' : '#666' }}>\r\n                Size: {(audioBlob.size / 1024).toFixed(2)} KB\r\n              </p>\r\n              <p style={{ fontSize: '12px', color: darkMode ? '#888' : '#666' }}>\r\n                Type: {audioBlob.type}\r\n              </p>\r\n              <audio \r\n                controls \r\n                src={URL.createObjectURL(audioBlob)} \r\n                style={{ width: '100%', marginTop: 10 }}\r\n                onError={(e) => {\r\n                  console.error('Audio playback error:', e);\r\n                  onError('Failed to play audio. The recording might be corrupted.');\r\n                }}\r\n              />\r\n            </>\r\n          )}\r\n        </VoicePreview>\r\n        {isUploading && (\r\n          <UploadProgress>\r\n            <CircularProgress variant=\"determinate\" value={uploadProgress} />\r\n            <p>{Math.round(uploadProgress)}%</p>\r\n          </UploadProgress>\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onCancel} disabled={isUploading} style={{ color: darkMode ? '#e0e0e0' : 'inherit' }}>\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={onSend}\r\n          variant=\"contained\"\r\n          disabled={isUploading || !audioBlob || audioBlob.size === 0}\r\n          style={{ backgroundColor: darkMode ? '#d32f2f' : '#f44336', color: 'white' }}\r\n          startIcon={<SendIcon />}\r\n        >\r\n          {isUploading ? 'Sending...' : 'Send'}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default VoiceRecordingDialog;"],"names":[],"mappings":"AAAA,4DAA4D;;;;;;AAC5D;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;;;;;;;AAEA,MAAM,uBAAuB,CAAC,EAC5B,IAAI,EACJ,SAAS,EACT,aAAa,EACb,cAAc,EACd,WAAW,EACX,QAAQ,EACR,MAAM,EACN,OAAO,EACP,QAAQ,EACT;IACC,qBACE,0JAAC,gMAAM;QACL,MAAM;QACN,SAAS;QACT,UAAS;QACT,SAAS;QACT,YAAY;YACV,OAAO;gBACL,iBAAiB,WAAW,YAAY;gBACxC,OAAO,WAAW,YAAY;YAChC;QACF;;0BAEA,0JAAC,oNAAW;gBAAC,OAAO;oBAAE,OAAO,WAAW,YAAY;gBAAQ;0BAAG;;;;;;0BAG/D,0JAAC,4NAAa;;kCACZ,0JAAC,4JAAY;wBAAC,UAAU;;0CACtB,0JAAC;;oCAAE;oCAAW,IAAA,2IAAU,EAAC;;;;;;;4BACxB,2BACC;;kDACE,0JAAC;wCAAE,OAAO;4CAAE,UAAU;4CAAQ,OAAO,WAAW,SAAS;wCAAO;;4CAAG;4CAC1D,CAAC,UAAU,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC;4CAAG;;;;;;;kDAE5C,0JAAC;wCAAE,OAAO;4CAAE,UAAU;4CAAQ,OAAO,WAAW,SAAS;wCAAO;;4CAAG;4CAC1D,UAAU,IAAI;;;;;;;kDAEvB,0JAAC;wCACC,QAAQ;wCACR,KAAK,IAAI,eAAe,CAAC;wCACzB,OAAO;4CAAE,OAAO;4CAAQ,WAAW;wCAAG;wCACtC,SAAS,CAAC;4CACR,QAAQ,KAAK,CAAC,yBAAyB;4CACvC,QAAQ;wCACV;;;;;;;;;;;;;;oBAKP,6BACC,0JAAC,8JAAc;;0CACb,0JAAC,wOAAgB;gCAAC,SAAQ;gCAAc,OAAO;;;;;;0CAC/C,0JAAC;;oCAAG,KAAK,KAAK,CAAC;oCAAgB;;;;;;;;;;;;;;;;;;;0BAIrC,0JAAC,4NAAa;;kCACZ,0JAAC,gMAAM;wBAAC,SAAS;wBAAU,UAAU;wBAAa,OAAO;4BAAE,OAAO,WAAW,YAAY;wBAAU;kCAAG;;;;;;kCAGtG,0JAAC,gMAAM;wBACL,SAAS;wBACT,SAAQ;wBACR,UAAU,eAAe,CAAC,aAAa,UAAU,IAAI,KAAK;wBAC1D,OAAO;4BAAE,iBAAiB,WAAW,YAAY;4BAAW,OAAO;wBAAQ;wBAC3E,yBAAW,0JAAC,yJAAQ;;;;;kCAEnB,cAAc,eAAe;;;;;;;;;;;;;;;;;;AAKxC;KAzEM;uCA2ES","debugId":null}},
    {"offset": {"line": 4266, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/ProfileDialog.jsx"],"sourcesContent":["// components/ChatScreen/components/ProfileDialog.jsx\r\nimport React from \"react\";\r\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, IconButton, Avatar } from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport TimeAgo from \"timeago-react\";\r\nimport { ProfileContainer, ProfileInfo } from \"../ChatScreen.styles\";\r\n\r\nconst ProfileDialog = ({\r\n  open,\r\n  onClose,\r\n  recipient,\r\n  recipientEmail,\r\n  darkMode,\r\n}) => {\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={onClose}\r\n      maxWidth=\"sm\"\r\n      fullWidth\r\n      PaperProps={{\r\n        style: {\r\n          backgroundColor: darkMode ? '#2a2a2a' : 'white',\r\n          color: darkMode ? '#e0e0e0' : 'black',\r\n        },\r\n      }}\r\n    >\r\n      <DialogTitle style={{ color: darkMode ? '#e0e0e0' : 'black' }}>\r\n        User Profile\r\n        <IconButton\r\n          onClick={onClose}\r\n          style={{ position: 'absolute', right: 8, top: 8, color: darkMode ? '#e0e0e0' : 'inherit' }}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <ProfileContainer>\r\n          <Avatar\r\n            src={recipient?.photoURL}\r\n            style={{ width: 100, height: 100, margin: '0 auto 20px' }}\r\n          >\r\n            {recipientEmail?.[0]?.toUpperCase()}\r\n          </Avatar>\r\n          <ProfileInfo darkMode={darkMode}>\r\n            <h2>{recipientEmail}</h2>\r\n            <p>\r\n              <strong>Last Seen:</strong>{\" \"}\r\n              {recipient?.lastSeen?.toDate ? (\r\n                <TimeAgo datetime={recipient.lastSeen.toDate()} />\r\n              ) : (\r\n                \"Not available\"\r\n              )}\r\n            </p>\r\n            {recipient?.displayName && (\r\n              <p><strong>Name:</strong> {recipient.displayName}</p>\r\n            )}\r\n          </ProfileInfo>\r\n        </ProfileContainer>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onClose} style={{ color: darkMode ? '#e0e0e0' : 'inherit' }}>\r\n          Close\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ProfileDialog;"],"names":[],"mappings":"AAAA,qDAAqD;;;;;;AACrD;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;AAEA,MAAM,gBAAgB,CAAC,EACrB,IAAI,EACJ,OAAO,EACP,SAAS,EACT,cAAc,EACd,QAAQ,EACT;IACC,qBACE,0JAAC,gMAAM;QACL,MAAM;QACN,SAAS;QACT,UAAS;QACT,SAAS;QACT,YAAY;YACV,OAAO;gBACL,iBAAiB,WAAW,YAAY;gBACxC,OAAO,WAAW,YAAY;YAChC;QACF;;0BAEA,0JAAC,oNAAW;gBAAC,OAAO;oBAAE,OAAO,WAAW,YAAY;gBAAQ;;oBAAG;kCAE7D,0JAAC,gNAAU;wBACT,SAAS;wBACT,OAAO;4BAAE,UAAU;4BAAY,OAAO;4BAAG,KAAK;4BAAG,OAAO,WAAW,YAAY;wBAAU;kCAEzF,cAAA,0JAAC,0JAAS;;;;;;;;;;;;;;;;0BAGd,0JAAC,4NAAa;0BACZ,cAAA,0JAAC,gKAAgB;;sCACf,0JAAC,gMAAM;4BACL,KAAK,WAAW;4BAChB,OAAO;gCAAE,OAAO;gCAAK,QAAQ;gCAAK,QAAQ;4BAAc;sCAEvD,gBAAgB,CAAC,EAAE,EAAE;;;;;;sCAExB,0JAAC,2JAAW;4BAAC,UAAU;;8CACrB,0JAAC;8CAAI;;;;;;8CACL,0JAAC;;sDACC,0JAAC;sDAAO;;;;;;wCAAoB;wCAC3B,WAAW,UAAU,uBACpB,0JAAC,kKAAO;4CAAC,UAAU,UAAU,QAAQ,CAAC,MAAM;;;;;uFAE5C;;;;;;;gCAGH,WAAW,6BACV,0JAAC;;sDAAE,0JAAC;sDAAO;;;;;;wCAAc;wCAAE,UAAU,WAAW;;;;;;;;;;;;;;;;;;;;;;;;0BAKxD,0JAAC,4NAAa;0BACZ,cAAA,0JAAC,gMAAM;oBAAC,SAAS;oBAAS,OAAO;wBAAE,OAAO,WAAW,YAAY;oBAAU;8BAAG;;;;;;;;;;;;;;;;;AAMtF;KA5DM;uCA8DS","debugId":null}},
    {"offset": {"line": 4450, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/components/ReplyPreview.jsx"],"sourcesContent":["// components/ChatScreen/components/ReplyPreview.jsx\r\nimport React from \"react\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport {\r\n  ReplyPreviewBar,\r\n  ReplyBarIndicator,\r\n  ReplyPreviewContent,\r\n  ReplyPreviewHeader,\r\n  ReplyPreviewText,\r\n} from \"../ChatScreen.styles\";\r\n\r\nconst ReplyPreview = ({ replyingTo, userEmail, onCancel, darkMode }) => {\r\n  if (!replyingTo) return null;\r\n\r\n  return (\r\n    <ReplyPreviewBar darkMode={darkMode}>\r\n      <ReplyBarIndicator />\r\n      <ReplyPreviewContent>\r\n        <ReplyPreviewHeader>\r\n          <span>\r\n            Replying to {replyingTo.user === userEmail ? 'yourself' : replyingTo.user}\r\n          </span>\r\n          <IconButton onClick={onCancel} size=\"small\">\r\n            <CloseIcon fontSize=\"small\" style={{ color: darkMode ? '#e0e0e0' : 'inherit' }} />\r\n          </IconButton>\r\n        </ReplyPreviewHeader>\r\n        <ReplyPreviewText darkMode={darkMode}>\r\n          {replyingTo.message || replyingTo.fileName || 'üé§ Voice message'}\r\n        </ReplyPreviewText>\r\n      </ReplyPreviewContent>\r\n    </ReplyPreviewBar>\r\n  );\r\n};\r\n\r\nexport default ReplyPreview;"],"names":[],"mappings":"AAAA,oDAAoD;;;;;;AACpD;AACA;AACA;AACA;;;;;;AAQA,MAAM,eAAe,CAAC,EAAE,UAAU,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE;IACjE,IAAI,CAAC,YAAY,OAAO;IAExB,qBACE,0JAAC,+JAAe;QAAC,UAAU;;0BACzB,0JAAC,iKAAiB;;;;;0BAClB,0JAAC,mKAAmB;;kCAClB,0JAAC,kKAAkB;;0CACjB,0JAAC;;oCAAK;oCACS,WAAW,IAAI,KAAK,YAAY,aAAa,WAAW,IAAI;;;;;;;0CAE3E,0JAAC,gNAAU;gCAAC,SAAS;gCAAU,MAAK;0CAClC,cAAA,0JAAC,0JAAS;oCAAC,UAAS;oCAAQ,OAAO;wCAAE,OAAO,WAAW,YAAY;oCAAU;;;;;;;;;;;;;;;;;kCAGjF,0JAAC,gKAAgB;wBAAC,UAAU;kCACzB,WAAW,OAAO,IAAI,WAAW,QAAQ,IAAI;;;;;;;;;;;;;;;;;;AAKxD;KArBM;uCAuBS","debugId":null}},
    {"offset": {"line": 4545, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/utils/messageStatus.js"],"sourcesContent":["// components/ChatScreen/utils/messageStatus.js\r\n\r\nimport { \r\n  collection, \r\n  query, \r\n  where, \r\n  getDocs, \r\n  updateDoc, \r\n  doc,\r\n  onSnapshot,\r\n  writeBatch\r\n} from \"firebase/firestore\";\r\nimport { db } from \"../../../firebase\";\r\nimport { MESSAGE_STATUS } from \"../constants\";\r\n\r\n/**\r\n * Mark a single message as delivered\r\n */\r\nexport const markMessageAsDelivered = async (chatId, messageId) => {\r\n  try {\r\n    const messageRef = doc(db, \"chats\", chatId, \"messages\", messageId);\r\n    await updateDoc(messageRef, {\r\n      status: MESSAGE_STATUS.DELIVERED,\r\n      deliveredAt: new Date(),\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error marking message as delivered:\", error);\r\n  }\r\n};\r\n\r\n/**\r\n * Mark a single message as read\r\n */\r\nexport const markMessageAsRead = async (chatId, messageId) => {\r\n  try {\r\n    const messageRef = doc(db, \"chats\", chatId, \"messages\", messageId);\r\n    await updateDoc(messageRef, {\r\n      status: MESSAGE_STATUS.READ,\r\n      readAt: new Date(),\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error marking message as read:\", error);\r\n  }\r\n};\r\n\r\n/**\r\n * Mark all messages from a specific user as delivered (batch update)\r\n */\r\nexport const markUserMessagesAsDelivered = async (chatId, recipientEmail, currentUserEmail) => {\r\n  try {\r\n    const messagesRef = collection(db, \"chats\", chatId, \"messages\");\r\n    const q = query(\r\n      messagesRef,\r\n      where(\"user\", \"==\", recipientEmail),\r\n      where(\"status\", \"==\", MESSAGE_STATUS.SENT)\r\n    );\r\n    \r\n    const snapshot = await getDocs(q);\r\n    \r\n    if (snapshot.empty) return;\r\n\r\n    const batch = writeBatch(db);\r\n    \r\n    snapshot.docs.forEach((document) => {\r\n      batch.update(document.ref, {\r\n        status: MESSAGE_STATUS.DELIVERED,\r\n        deliveredAt: new Date(),\r\n      });\r\n    });\r\n\r\n    await batch.commit();\r\n    console.log(`Marked ${snapshot.docs.length} messages as delivered`);\r\n  } catch (error) {\r\n    console.error(\"Error marking messages as delivered:\", error);\r\n  }\r\n};\r\n\r\n/**\r\n * Mark all messages from a specific user as read (batch update)\r\n */\r\nexport const markUserMessagesAsRead = async (chatId, recipientEmail, currentUserEmail) => {\r\n  try {\r\n    const messagesRef = collection(db, \"chats\", chatId, \"messages\");\r\n    \r\n    // Get all messages that are either sent or delivered, but not read\r\n    const sentQuery = query(\r\n      messagesRef,\r\n      where(\"user\", \"==\", recipientEmail),\r\n      where(\"status\", \"==\", MESSAGE_STATUS.SENT)\r\n    );\r\n    \r\n    const deliveredQuery = query(\r\n      messagesRef,\r\n      where(\"user\", \"==\", recipientEmail),\r\n      where(\"status\", \"==\", MESSAGE_STATUS.DELIVERED)\r\n    );\r\n\r\n    const [sentSnapshot, deliveredSnapshot] = await Promise.all([\r\n      getDocs(sentQuery),\r\n      getDocs(deliveredQuery)\r\n    ]);\r\n\r\n    const allDocs = [...sentSnapshot.docs, ...deliveredSnapshot.docs];\r\n    \r\n    if (allDocs.length === 0) return;\r\n\r\n    const batch = writeBatch(db);\r\n    \r\n    allDocs.forEach((document) => {\r\n      batch.update(document.ref, {\r\n        status: MESSAGE_STATUS.READ,\r\n        readAt: new Date(),\r\n      });\r\n    });\r\n\r\n    await batch.commit();\r\n    console.log(`Marked ${allDocs.length} messages as read`);\r\n  } catch (error) {\r\n    console.error(\"Error marking messages as read:\", error);\r\n  }\r\n};\r\n\r\n/**\r\n * Listen to recipient's online status and mark messages as delivered\r\n */\r\nexport const subscribeToRecipientStatus = (recipientEmail, onStatusChange) => {\r\n  const usersRef = collection(db, \"users\");\r\n  const q = query(usersRef, where(\"email\", \"==\", recipientEmail));\r\n  \r\n  const unsubscribe = onSnapshot(q, (snapshot) => {\r\n    if (!snapshot.empty) {\r\n      const recipientData = snapshot.docs[0].data();\r\n      onStatusChange(recipientData);\r\n    }\r\n  });\r\n\r\n  return unsubscribe;\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4652, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/hooks/useMessageStatus.js"],"sourcesContent":["// components/ChatScreen/hooks/useMessageStatus.js\r\n\r\nimport { useEffect, useCallback } from \"react\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { auth } from \"../../../firebase\";\r\nimport {\r\n  markUserMessagesAsDelivered,\r\n  markUserMessagesAsRead,\r\n  subscribeToRecipientStatus,\r\n} from \"../utils/messageStatus\";\r\n\r\nexport const useMessageStatus = (chatId, recipientEmail) => {\r\n  const [user] = useAuthState(auth);\r\n\r\n  // Mark messages as delivered when component mounts (user opened chat)\r\n  useEffect(() => {\r\n    if (!chatId || !recipientEmail || !user) return;\r\n\r\n    const markAsDelivered = async () => {\r\n      await markUserMessagesAsDelivered(chatId, recipientEmail, user.email);\r\n    };\r\n\r\n    markAsDelivered();\r\n  }, [chatId, recipientEmail, user]);\r\n\r\n  // Mark messages as read when user is actively viewing the chat\r\n  const markMessagesAsRead = useCallback(async () => {\r\n    if (!chatId || !recipientEmail || !user) return;\r\n    \r\n    await markUserMessagesAsRead(chatId, recipientEmail, user.email);\r\n  }, [chatId, recipientEmail, user]);\r\n\r\n  // Mark messages as read when user scrolls or interacts with chat\r\n  useEffect(() => {\r\n    if (!chatId || !recipientEmail || !user) return;\r\n\r\n    // Mark as read immediately when chat is opened\r\n    markMessagesAsRead();\r\n\r\n    // Mark as read when user focuses on the window\r\n    const handleFocus = () => {\r\n      markMessagesAsRead();\r\n    };\r\n\r\n    // Mark as read when user scrolls (debounced)\r\n    let scrollTimeout;\r\n    const handleScroll = () => {\r\n      clearTimeout(scrollTimeout);\r\n      scrollTimeout = setTimeout(() => {\r\n        markMessagesAsRead();\r\n      }, 500);\r\n    };\r\n\r\n    window.addEventListener(\"focus\", handleFocus);\r\n    window.addEventListener(\"scroll\", handleScroll, true);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"focus\", handleFocus);\r\n      window.removeEventListener(\"scroll\", handleScroll, true);\r\n      clearTimeout(scrollTimeout);\r\n    };\r\n  }, [chatId, recipientEmail, user, markMessagesAsRead]);\r\n\r\n  // Listen to recipient's status to auto-update message status\r\n  useEffect(() => {\r\n    if (!recipientEmail) return;\r\n\r\n    const unsubscribe = subscribeToRecipientStatus(\r\n      recipientEmail,\r\n      (recipientData) => {\r\n        // When recipient comes online, mark messages as delivered\r\n        if (recipientData.isOnline) {\r\n          markUserMessagesAsDelivered(chatId, recipientEmail, user?.email);\r\n        }\r\n      }\r\n    );\r\n\r\n    return () => unsubscribe();\r\n  }, [recipientEmail, chatId, user]);\r\n\r\n  return {\r\n    markMessagesAsRead,\r\n    markUserMessagesAsDelivered,\r\n  };\r\n};"],"names":[],"mappings":"AAAA,kDAAkD;;;;;AAElD;AACA;AACA;AACA;;;;;;AAMO,MAAM,mBAAmB,CAAC,QAAQ;;IACvC,MAAM,CAAC,KAAK,GAAG,IAAA,sLAAY,EAAC,4HAAI;IAEhC,sEAAsE;IACtE,IAAA,uIAAS;sCAAC;YACR,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,MAAM;YAEzC,MAAM;8DAAkB;oBACtB,MAAM,IAAA,6KAA2B,EAAC,QAAQ,gBAAgB,KAAK,KAAK;gBACtE;;YAEA;QACF;qCAAG;QAAC;QAAQ;QAAgB;KAAK;IAEjC,+DAA+D;IAC/D,MAAM,qBAAqB,IAAA,yIAAW;4DAAC;YACrC,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,MAAM;YAEzC,MAAM,IAAA,wKAAsB,EAAC,QAAQ,gBAAgB,KAAK,KAAK;QACjE;2DAAG;QAAC;QAAQ;QAAgB;KAAK;IAEjC,iEAAiE;IACjE,IAAA,uIAAS;sCAAC;YACR,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,MAAM;YAEzC,+CAA+C;YAC/C;YAEA,+CAA+C;YAC/C,MAAM;0DAAc;oBAClB;gBACF;;YAEA,6CAA6C;YAC7C,IAAI;YACJ,MAAM;2DAAe;oBACnB,aAAa;oBACb,gBAAgB;mEAAW;4BACzB;wBACF;kEAAG;gBACL;;YAEA,OAAO,gBAAgB,CAAC,SAAS;YACjC,OAAO,gBAAgB,CAAC,UAAU,cAAc;YAEhD;8CAAO;oBACL,OAAO,mBAAmB,CAAC,SAAS;oBACpC,OAAO,mBAAmB,CAAC,UAAU,cAAc;oBACnD,aAAa;gBACf;;QACF;qCAAG;QAAC;QAAQ;QAAgB;QAAM;KAAmB;IAErD,6DAA6D;IAC7D,IAAA,uIAAS;sCAAC;YACR,IAAI,CAAC,gBAAgB;YAErB,MAAM,cAAc,IAAA,4KAA0B,EAC5C;0DACA,CAAC;oBACC,0DAA0D;oBAC1D,IAAI,cAAc,QAAQ,EAAE;wBAC1B,IAAA,6KAA2B,EAAC,QAAQ,gBAAgB,MAAM;oBAC5D;gBACF;;YAGF;8CAAO,IAAM;;QACf;qCAAG;QAAC;QAAgB;QAAQ;KAAK;IAEjC,OAAO;QACL;QACA,6BAAA,6KAA2B;IAC7B;AACF;GAzEa;;QACI,sLAAY","debugId":null}},
    {"offset": {"line": 4774, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/ChatScreen/index.jsx"],"sourcesContent":["// components/ChatScreen/index.jsx\r\nimport React, { useRef, useState, useEffect, useContext } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { auth, db } from \"../../firebase\";\r\nimport { addDoc, collection, doc, setDoc, deleteDoc, serverTimestamp, enableNetwork, disableNetwork } from \"firebase/firestore\";\r\nimport { DarkModeContext } from \"../DarkModeProvider\";\r\n\r\n// Hooks\r\nimport { useEmojiPicker } from \"./hooks/useEmojiPicker\";\r\nimport { useFileUpload } from \"./hooks/useFileUpload\";\r\nimport { useVoiceRecording } from \"./hooks/useVoiceRecording\";\r\nimport { useRecipientData } from \"./hooks/useRecipientData\";\r\nimport { useMessages } from \"./hooks/useMessages\";\r\n\r\n// Components\r\nimport ChatHeader from \"./components/ChatHeader\";\r\nimport MessageList from \"./components/MessageList\";\r\nimport ChatInput from \"./components/ChatInput\";\r\nimport EmojiPicker from \"./components/EmojiPicker\";\r\nimport FileUploadDialog from \"./components/FileUploadDialog\";\r\nimport VoiceRecordingDialog from \"./components/VoiceRecordingDialog\";\r\nimport ProfileDialog from \"./components/ProfileDialog\";\r\nimport ReplyPreview from \"./components/ReplyPreview\";\r\n\r\n// Styled Components\r\nimport { Container, OfflineMessage, ErrorMessage } from \"./ChatScreen.styles\";\r\n\r\n// Utils\r\nimport { checkIfBlocked, buildReplyData } from \"./utils\";\r\nimport { useMessageStatus } from \"./hooks/useMessageStatus\";\r\nimport { MESSAGE_STATUS } from \"./constants\";\r\n\r\nfunction ChatScreen({ chat, messages }) {\r\n  const [user] = useAuthState(auth);\r\n  const router = useRouter();\r\n  const endOfMessagesRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n  \r\n  const [input, setInput] = useState(\"\");\r\n  const [isOnline, setIsOnline] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [sendingError, setSendingError] = useState(null);\r\n  const [showProfile, setShowProfile] = useState(false);\r\n  const [replyingTo, setReplyingTo] = useState(null);\r\n\r\n  // Get dark mode context\r\n  const darkModeContext = useContext(DarkModeContext);\r\n  const { darkMode } = darkModeContext || { darkMode: false };\r\n  \r\n  const chatId = router?.query?.id || null;\r\n\r\n  // Custom Hooks\r\n  const { recipientEmail, recipient, recipientSnapshot, isSelfChat } = useRecipientData(user, chat);\r\n  \r\n  const { markMessagesAsRead } = useMessageStatus(chatId, recipientEmail);\r\n  const { messagesSnapshot } = useMessages(chatId);\r\n  \r\n  const emojiPicker = useEmojiPicker();\r\n  \r\n  const fileUpload = useFileUpload(chatId, user, recipientEmail);\r\n  \r\n  const voiceRecording = useVoiceRecording(chatId, user, recipientEmail);\r\n\r\n  // Monitor online status\r\n  useEffect(() => {\r\n    const handleOnline = () => {\r\n      setIsOnline(true);\r\n      enableNetwork(db);\r\n    };\r\n\r\n    const handleOffline = () => {\r\n      setIsOnline(false);\r\n      disableNetwork(db);\r\n    };\r\n\r\n    window.addEventListener(\"online\", handleOnline);\r\n    window.addEventListener(\"offline\", handleOffline);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"online\", handleOnline);\r\n      window.removeEventListener(\"offline\", handleOffline);\r\n    };\r\n  }, []);\r\n\r\n  // Scroll to bottom\r\n  const scrollToBottom = () => {\r\n    if (endOfMessagesRef?.current) {\r\n      endOfMessagesRef.current.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"start\",\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messagesSnapshot]);\r\n\r\n  // Handle emoji selection\r\n  const handleEmojiClick = (emoji) => {\r\n    const cursorPosition = inputRef.current?.selectionStart || input.length;\r\n    const textBeforeCursor = input.slice(0, cursorPosition);\r\n    const textAfterCursor = input.slice(cursorPosition);\r\n    \r\n    setInput(textBeforeCursor + emoji + textAfterCursor);\r\n    emojiPicker.saveRecentEmoji(emoji);\r\n    \r\n    setTimeout(() => {\r\n      if (inputRef.current) {\r\n        inputRef.current.focus();\r\n        const newPosition = cursorPosition + emoji.length;\r\n        inputRef.current.setSelectionRange(newPosition, newPosition);\r\n      }\r\n    }, 0);\r\n  };\r\n\r\n  // Delete message\r\n  const deleteMessage = async (messageId) => {\r\n    if (!chatId || !messageId) return;\r\n    \r\n    try {\r\n      await deleteDoc(doc(db, \"chats\", chatId, \"messages\", messageId));\r\n      console.log(\"Message deleted successfully\");\r\n    } catch (error) {\r\n      console.error(\"Error deleting message:\", error);\r\n      setSendingError(\"Failed to delete message. Please try again.\");\r\n    }\r\n  };\r\n\r\n  // Set reply\r\n  const handleReply = (messageData) => {\r\n    setReplyingTo(messageData);\r\n    inputRef.current?.focus();\r\n  };\r\n\r\n  // Cancel reply\r\n  const cancelReply = () => {\r\n    setReplyingTo(null);\r\n  };\r\n\r\n  // Send text message\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault();\r\n    setSendingError(null);\r\n\r\n    if (!input?.trim() || !chatId || !user || !recipientEmail) return;\r\n\r\n    try {\r\n      // Skip blocking check for self-chat\r\n      if (!isSelfChat) {\r\n        const isBlocked = await checkIfBlocked(user.email, recipientEmail);\r\n        if (isBlocked) {\r\n          setSendingError(\"You cannot send messages to this user. You have been blocked.\");\r\n          return;\r\n        }\r\n      }\r\n\r\n      const userRef = doc(db, \"users\", user.uid);\r\n      await setDoc(\r\n        userRef,\r\n        {\r\n          lastSeen: serverTimestamp(),\r\n        },\r\n        { merge: true }\r\n      );\r\n\r\n      const messageData = {\r\n        timestamp: serverTimestamp(),\r\n        message: input,\r\n        user: user.email,\r\n        photoURL: user.photoURL,\r\n        status: MESSAGE_STATUS.SENT,\r\n      };\r\n\r\n      const replyData = buildReplyData(replyingTo);\r\n      if (replyData) {\r\n        messageData.replyTo = replyData;\r\n      }\r\n\r\n      await addDoc(collection(db, \"chats\", chatId, \"messages\"), messageData);\r\n\r\n      setInput(\"\");\r\n      setReplyingTo(null);\r\n      scrollToBottom();\r\n    } catch (error) {\r\n      console.error(\"Error sending message:\", error);\r\n      setSendingError(\"Failed to send message. Please try again.\");\r\n    }\r\n  };\r\n\r\n  if (!isOnline) {\r\n    return (\r\n      <Container darkMode={darkMode}>\r\n        <OfflineMessage darkMode={darkMode}>\r\n          You are currently offline. Please check your internet connection.\r\n        </OfflineMessage>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container darkMode={darkMode}>\r\n        <ErrorMessage darkMode={darkMode}>{error}</ErrorMessage>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container darkMode={darkMode}>\r\n      <ChatHeader\r\n        recipient={recipient}\r\n        recipientEmail={recipientEmail}\r\n        recipientSnapshot={recipientSnapshot}\r\n        isSelfChat={isSelfChat}\r\n        onAttachFile={() => fileInputRef.current?.click()}\r\n        onMoreClick={() => setShowProfile(true)}\r\n        darkMode={darkMode}\r\n      />\r\n\r\n      <input\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        hidden\r\n        onChange={fileUpload.handleFileSelect}\r\n        accept=\"*/*\"\r\n      />\r\n\r\n      <MessageList\r\n        ref={endOfMessagesRef}\r\n        messagesSnapshot={messagesSnapshot}\r\n        messages={messages}\r\n        sendingError={sendingError}\r\n        onDelete={deleteMessage}\r\n        onReply={handleReply}\r\n        darkMode={darkMode}\r\n      />\r\n\r\n      <EmojiPicker\r\n        open={emojiPicker.openEmojiPicker}\r\n        anchorEl={emojiPicker.emojiAnchorEl}\r\n        onClose={emojiPicker.handleEmojiPickerClose}\r\n        selectedCategory={emojiPicker.selectedEmojiCategory}\r\n        onCategoryChange={emojiPicker.setSelectedEmojiCategory}\r\n        searchTerm={emojiPicker.emojiSearchTerm}\r\n        onSearchChange={emojiPicker.setEmojiSearchTerm}\r\n        emojis={emojiPicker.getFilteredEmojis()}\r\n        onEmojiSelect={handleEmojiClick}\r\n        darkMode={darkMode}\r\n      />\r\n\r\n      <FileUploadDialog\r\n        open={fileUpload.showFileConfirmation}\r\n        onClose={fileUpload.cancelFileSelection}\r\n        file={fileUpload.selectedFile}\r\n        filePreview={fileUpload.filePreview}\r\n        input={input}\r\n        onInputChange={setInput}\r\n        uploadProgress={fileUpload.uploadProgress}\r\n        isUploading={fileUpload.isUploading}\r\n        onSend={() => fileUpload.sendFileMessage(\r\n          input,\r\n          replyingTo,\r\n          setSendingError,\r\n          setInput,\r\n          setReplyingTo,\r\n          scrollToBottom\r\n        )}\r\n        darkMode={darkMode}\r\n      />\r\n\r\n      <VoiceRecordingDialog\r\n        open={voiceRecording.audioBlob !== null}\r\n        audioBlob={voiceRecording.audioBlob}\r\n        recordingTime={voiceRecording.recordingTime}\r\n        uploadProgress={voiceRecording.uploadProgress}\r\n        isUploading={voiceRecording.isUploading}\r\n        onCancel={voiceRecording.cancelRecording}\r\n        onSend={() => voiceRecording.sendVoiceMessage(\r\n          replyingTo,\r\n          setSendingError,\r\n          setReplyingTo,\r\n          scrollToBottom\r\n        )}\r\n        onError={setSendingError}\r\n        darkMode={darkMode}\r\n      />\r\n\r\n      <ProfileDialog\r\n        open={showProfile}\r\n        onClose={() => setShowProfile(false)}\r\n        recipient={recipient}\r\n        recipientEmail={recipientEmail}\r\n        isSelfChat={isSelfChat}\r\n        darkMode={darkMode}\r\n      />\r\n\r\n      <ReplyPreview\r\n        replyingTo={replyingTo}\r\n        userEmail={user?.email}\r\n        onCancel={cancelReply}\r\n        darkMode={darkMode}\r\n      />\r\n\r\n      <ChatInput\r\n        input={input}\r\n        setInput={setInput}\r\n        inputRef={inputRef}\r\n        isRecording={voiceRecording.isRecording}\r\n        recordingTime={voiceRecording.recordingTime}\r\n        onSubmit={sendMessage}\r\n        onEmojiClick={emojiPicker.handleEmojiPickerOpen}\r\n        onStartRecording={() => voiceRecording.startRecording(setSendingError)}\r\n        onStopRecording={voiceRecording.stopRecording}\r\n        darkMode={darkMode}\r\n      />\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default ChatScreen;"],"names":[],"mappings":"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","debugId":null}}]
}