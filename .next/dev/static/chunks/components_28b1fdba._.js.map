{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/Chat.js"],"sourcesContent":["import React from \"react\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport styled from \"styled-components\";\r\nimport { auth, db } from \"../firebase\";\r\nimport { Avatar } from \"@mui/material\";\r\nimport { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport { collection, query, where } from \"firebase/firestore\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nfunction Chat({ id, users }) {\r\n  const router = useRouter();\r\n  const [user] = useAuthState(auth);\r\n  \r\n  // Handle self-chat case\r\n  const recipientEmail = users.find((userEmail) => userEmail !== user?.email) || user?.email;\r\n  \r\n  const recipientQuery = query(\r\n    collection(db, \"users\"),\r\n    where(\"email\", \"==\", recipientEmail)\r\n  );\r\n  \r\n  const [recipientSnapshot] = useCollection(recipientQuery);\r\n  const recipient = recipientSnapshot?.docs?.[0]?.data();\r\n\r\n  const enterChat = () => {\r\n    router.push(`/chat/${id}`);\r\n  };\r\n\r\n  // Check if this is a self-chat\r\n  const isSelfChat = users.length === 2 && users[0] === users[1];\r\n\r\n  return (\r\n    <Container onClick={enterChat}>\r\n      {recipient ? (\r\n        <UserAvatar src={recipient.photoURL} />\r\n      ) : (\r\n        <UserAvatar>{recipientEmail[0]?.toUpperCase()}</UserAvatar>\r\n      )}\r\n      <ChatContainer>\r\n        <p>{isSelfChat ? `${recipientEmail} (You)` : recipientEmail}</p>\r\n      </ChatContainer>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  padding: 15px;\r\n  word-break: break-word;\r\n\r\n  :hover {\r\n    background-color: #e9eaeb;\r\n  }\r\n`;\r\n\r\nconst UserAvatar = styled(Avatar)`\r\n  margin: 5px;\r\n  margin-right: 15px;\r\n`;\r\n\r\nconst ChatContainer = styled.div`\r\n  flex: 1;\r\n  overflow: hidden;\r\n  \r\n  p {\r\n    margin: 0;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n`;"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;;;AAEA,SAAS,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE;;IACzB,MAAM,SAAS,IAAA,uIAAS;IACxB,MAAM,CAAC,KAAK,GAAG,IAAA,sLAAY,EAAC,4HAAI;IAEhC,wBAAwB;IACxB,MAAM,iBAAiB,MAAM,IAAI,CAAC,CAAC,YAAc,cAAc,MAAM,UAAU,MAAM;IAErF,MAAM,iBAAiB,IAAA,wKAAK,EAC1B,IAAA,6KAAU,EAAC,0HAAE,EAAE,UACf,IAAA,wKAAK,EAAC,SAAS,MAAM;IAGvB,MAAM,CAAC,kBAAkB,GAAG,IAAA,4LAAa,EAAC;IAC1C,MAAM,YAAY,mBAAmB,MAAM,CAAC,EAAE,EAAE;IAEhD,MAAM,YAAY;QAChB,OAAO,IAAI,CAAC,CAAC,MAAM,EAAE,IAAI;IAC3B;IAEA,+BAA+B;IAC/B,MAAM,aAAa,MAAM,MAAM,KAAK,KAAK,KAAK,CAAC,EAAE,KAAK,KAAK,CAAC,EAAE;IAE9D,qBACE,0JAAC;QAAU,SAAS;;YACjB,0BACC,0JAAC;gBAAW,KAAK,UAAU,QAAQ;;;;;qCAEnC,0JAAC;0BAAY,cAAc,CAAC,EAAE,EAAE;;;;;;0BAElC,0JAAC;0BACC,cAAA,0JAAC;8BAAG,aAAa,GAAG,eAAe,MAAM,CAAC,GAAG;;;;;;;;;;;;;;;;;AAIrD;GAlCS;;QACQ,uIAAS;QACT,sLAAY;QAUC,4LAAa;;;KAZlC;uCAoCM;AAEf,MAAM,YAAY,6LAAM,CAAC,GAAG,CAAC;;;;;;;;;;AAU7B,CAAC;MAVK;AAYN,MAAM,aAAa,IAAA,6LAAM,EAAC,gMAAM,CAAC,CAAC;;;AAGlC,CAAC;MAHK;AAKN,MAAM,gBAAgB,6LAAM,CAAC,GAAG,CAAC;;;;;;;;;;AAUjC,CAAC;MAVK","debugId":null}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/DarkModeProvider.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const DarkModeContext = createContext();\r\n\r\nexport const DarkModeProvider = ({ children }) => {\r\n  const [darkMode, setDarkMode] = useState(() => {\r\n    // Get saved preference from localStorage\r\n    if (typeof window !== \"undefined\") {\r\n      const saved = localStorage.getItem(\"darkMode\");\r\n      return saved === \"true\";\r\n    }\r\n    return false;\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Save preference to localStorage\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.setItem(\"darkMode\", darkMode);\r\n    }\r\n  }, [darkMode]);\r\n\r\n  const toggleDarkMode = () => {\r\n    setDarkMode((prev) => !prev);\r\n  };\r\n\r\n  return (\r\n    <DarkModeContext.Provider value={{ darkMode, toggleDarkMode }}>\r\n      {children}\r\n    </DarkModeContext.Provider>\r\n  );\r\n};"],"names":[],"mappings":";;;;;;;AAAA;;;;AAEO,MAAM,gCAAkB,IAAA,2IAAa;AAErC,MAAM,mBAAmB,CAAC,EAAE,QAAQ,EAAE;;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,sIAAQ;qCAAC;YACvC,yCAAyC;YACzC,wCAAmC;gBACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;gBACnC,OAAO,UAAU;YACnB;;;QAEF;;IAEA,IAAA,uIAAS;sCAAC;YACR,kCAAkC;YAClC,wCAAmC;gBACjC,aAAa,OAAO,CAAC,YAAY;YACnC;QACF;qCAAG;QAAC;KAAS;IAEb,MAAM,iBAAiB;QACrB,YAAY,CAAC,OAAS,CAAC;IACzB;IAEA,qBACE,0JAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAU;QAAe;kBACzD;;;;;;AAGP;GA1Ba;KAAA","debugId":null}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waels/OneDrive/Desktop/Expo%20projects/P3/components/Sidebar.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { auth, db } from \"../firebase\";\r\nimport styled from \"styled-components\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Button from \"@mui/material/Button\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport ChatIcon from \"@mui/icons-material/Chat\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport Chat from \"./Chat\";\r\nimport { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport * as EmailValidator from \"email-validator\";\r\nimport { \r\n  collection, \r\n  query, \r\n  where, \r\n  addDoc, \r\n  doc, \r\n  updateDoc,\r\n  arrayUnion,\r\n  arrayRemove,\r\n  setDoc,\r\n} from \"firebase/firestore\";\r\nimport Menu from \"@mui/material/Menu\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport Switch from \"@mui/material/Switch\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport List from \"@mui/material/List\";\r\nimport ListItem from \"@mui/material/ListItem\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport ListItemSecondaryAction from \"@mui/material/ListItemSecondaryAction\";\r\nimport { DarkModeContext } from \"./DarkModeProvider\";\r\n\r\nfunction Sidebar() {\r\n  const [user] = useAuthState(auth);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [headerAnchorEl, setHeaderAnchorEl] = useState(null);\r\n  const [selectedChatId, setSelectedChatId] = useState(null);\r\n  const [selectedChatUsers, setSelectedChatUsers] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [settingsOpen, setSettingsOpen] = useState(false);\r\n  const [aboutOpen, setAboutOpen] = useState(false);\r\n  const [blockedUsersOpen, setBlockedUsersOpen] = useState(false);\r\n  \r\n  // Get dark mode context\r\n  const darkModeContext = useContext(DarkModeContext);\r\n  const { darkMode, toggleDarkMode } = darkModeContext || { darkMode: false, toggleDarkMode: () => {} };\r\n\r\n  const userChatsRef = user\r\n    ? query(\r\n        collection(db, \"chats\"),\r\n        where(\"users\", \"array-contains\", user.email)\r\n      )\r\n    : null;\r\n\r\n  const [chatsSnapshot, loading, error] = useCollection(userChatsRef);\r\n\r\n  // Get current user document to check blocked users\r\n  const userDocRef = user ? doc(db, \"users\", user.uid) : null;\r\n  const [userDocSnapshot] = useCollection(userDocRef ? query(collection(db, \"users\"), where(\"__name__\", \"==\", user.uid)) : null);\r\n  const currentUserData = userDocSnapshot?.docs?.[0]?.data();\r\n  const blockedUsers = currentUserData?.blockedUsers || [];\r\n\r\n  React.useEffect(() => {\r\n    if (error) {\r\n      console.error(\"Collection error:\", error);\r\n    }\r\n  }, [error]);\r\n\r\n  const chatAlreadyExist = (recipientEmail) => {\r\n    if (!chatsSnapshot) return false;\r\n    \r\n    // For self-chat, check if both users in the array are the current user\r\n    if (recipientEmail === user.email) {\r\n      return !!chatsSnapshot.docs.find((chat) => {\r\n        const users = chat.data().users;\r\n        return users.length === 2 && users[0] === user.email && users[1] === user.email;\r\n      });\r\n    }\r\n    \r\n    // For regular chats, check if a chat exists with both users\r\n    return !!chatsSnapshot.docs.find((chat) => {\r\n      const users = chat.data().users;\r\n      return users.includes(recipientEmail) && users.includes(user.email);\r\n    });\r\n  };\r\n\r\n  const createChat = async () => {\r\n    if (!user) {\r\n      console.error(\"No user logged in\");\r\n      return;\r\n    }\r\n\r\n    console.log(\"Current user:\", user.email);\r\n\r\n    const input = prompt(\r\n      \"Please enter an email address for the user you wish to chat with\"\r\n    );\r\n    \r\n    if (!input) {\r\n      console.log(\"User cancelled prompt\");\r\n      return;\r\n    }\r\n\r\n    console.log(\"Input email:\", input);\r\n\r\n    if (!EmailValidator.validate(input)) {\r\n      alert(\"Please enter a valid email address\");\r\n      return;\r\n    }\r\n\r\n    // Removed self-chat prevention to allow chatting with yourself\r\n    // if (input === user.email) {\r\n    //   alert(\"You cannot chat with yourself\");\r\n    //   return;\r\n    // }\r\n\r\n    if (chatAlreadyExist(input)) {\r\n      alert(\"Chat already exists with this user\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      console.log(\"Attempting to create chat with:\", {\r\n        users: [user.email, input],\r\n        deletedBy: [],\r\n      });\r\n\r\n      const docRef = await addDoc(collection(db, \"chats\"), {\r\n        users: [user.email, input],\r\n        deletedBy: [],\r\n        createdAt: new Date(),\r\n      });\r\n\r\n      console.log(\"Chat created successfully with ID:\", docRef.id);\r\n    } catch (error) {\r\n      console.error(\"Error creating chat:\", error);\r\n      console.error(\"Error code:\", error.code);\r\n      console.error(\"Error message:\", error.message);\r\n      alert(`Failed to create chat: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  // Chat options menu handlers\r\n  const handleMenuOpen = (event, chatId, chatUsers) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setSelectedChatId(chatId);\r\n    setSelectedChatUsers(chatUsers);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    setSelectedChatId(null);\r\n    setSelectedChatUsers(null);\r\n  };\r\n\r\n  // Header menu handlers\r\n  const handleHeaderMenuOpen = (event) => {\r\n    setHeaderAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleHeaderMenuClose = () => {\r\n    setHeaderAnchorEl(null);\r\n  };\r\n\r\n  const handleSettingsOpen = () => {\r\n    setSettingsOpen(true);\r\n    handleHeaderMenuClose();\r\n  };\r\n\r\n  const handleSettingsClose = () => {\r\n    setSettingsOpen(false);\r\n  };\r\n\r\n  const handleAboutOpen = () => {\r\n    setAboutOpen(true);\r\n    handleHeaderMenuClose();\r\n  };\r\n\r\n  const handleAboutClose = () => {\r\n    setAboutOpen(false);\r\n  };\r\n\r\n  const handleBlockedUsersOpen = () => {\r\n    setBlockedUsersOpen(true);\r\n    handleHeaderMenuClose();\r\n  };\r\n\r\n  const handleBlockedUsersClose = () => {\r\n    setBlockedUsersOpen(false);\r\n  };\r\n\r\n  const deleteChat = async () => {\r\n    if (!selectedChatId || !user) return;\r\n    try {\r\n      const chatRef = doc(db, \"chats\", selectedChatId);\r\n      await updateDoc(chatRef, {\r\n        deletedBy: arrayUnion(user.email),\r\n      });\r\n      handleMenuClose();\r\n      alert(\"Chat deleted\");\r\n    } catch (error) {\r\n      console.error(\"Error deleting chat:\", error);\r\n      alert(\"Failed to delete chat\");\r\n    }\r\n  };\r\n\r\n  const blockUser = async () => {\r\n    if (!selectedChatUsers || !user) return;\r\n    \r\n    const recipientEmail = selectedChatUsers.find((email) => email !== user.email);\r\n    \r\n    // Don't allow blocking yourself\r\n    if (!recipientEmail || recipientEmail === user.email) {\r\n      alert(\"You cannot block yourself\");\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const userDocRef = doc(db, \"users\", user.uid);\r\n      \r\n      // Create or update user document with blocked user\r\n      await setDoc(userDocRef, {\r\n        email: user.email,\r\n        blockedUsers: arrayUnion(recipientEmail),\r\n      }, { merge: true });\r\n      \r\n      handleMenuClose();\r\n      alert(`${recipientEmail} has been blocked. They can no longer send you messages.`);\r\n    } catch (error) {\r\n      console.error(\"Error blocking user:\", error);\r\n      alert(\"Failed to block user\");\r\n    }\r\n  };\r\n\r\n  const unblockUser = async (emailToUnblock) => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      const userDocRef = doc(db, \"users\", user.uid);\r\n      \r\n      await updateDoc(userDocRef, {\r\n        blockedUsers: arrayRemove(emailToUnblock),\r\n      });\r\n      \r\n      alert(`${emailToUnblock} has been unblocked`);\r\n    } catch (error) {\r\n      console.error(\"Error unblocking user:\", error);\r\n      alert(\"Failed to unblock user\");\r\n    }\r\n  };\r\n\r\n  // Check if the recipient is blocked\r\n  const isUserBlocked = () => {\r\n    if (!selectedChatUsers || !user) return false;\r\n    const recipientEmail = selectedChatUsers.find((email) => email !== user.email);\r\n    if (!recipientEmail) return false; // Self-chat case\r\n    return blockedUsers.includes(recipientEmail);\r\n  };\r\n\r\n  if (!user) return <Container darkMode={darkMode}>Loading...</Container>;\r\n\r\n  const filteredChats = chatsSnapshot?.docs\r\n    .filter((chat) => {\r\n      const deletedBy = chat.data().deletedBy || [];\r\n      return !deletedBy.includes(user.email);\r\n    })\r\n    .filter((chat) => {\r\n      if (!searchTerm.trim()) return true;\r\n      \r\n      const chatUsers = chat.data().users || [];\r\n      const otherUser = chatUsers.find((email) => email !== user.email);\r\n      \r\n      // For self-chat, search by own email\r\n      if (!otherUser) {\r\n        return user.email?.toLowerCase().includes(searchTerm.toLowerCase());\r\n      }\r\n      \r\n      return otherUser?.toLowerCase().includes(searchTerm.toLowerCase());\r\n    });\r\n\r\n  return (\r\n    <Container darkMode={darkMode}>\r\n      <Header darkMode={darkMode}>\r\n        <UserAvatar onClick={() => auth.signOut()} src={user.photoURL} />\r\n        <IconsContainer>\r\n          <IconButton>\r\n            <ChatIcon />\r\n          </IconButton>\r\n          <IconButton onClick={handleHeaderMenuOpen}>\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n        </IconsContainer>\r\n      </Header>\r\n\r\n      <Search darkMode={darkMode}>\r\n        <SearchIcon />\r\n        <SearchInput \r\n          darkMode={darkMode}\r\n          placeholder=\"Search in chats\" \r\n          type=\"text\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n        />\r\n      </Search>\r\n\r\n      <SidebarButton onClick={createChat} disabled={loading}>\r\n        Start a new chat\r\n      </SidebarButton>\r\n\r\n      {filteredChats?.map((chat) => (\r\n        <ChatWrapper key={chat.id} darkMode={darkMode}>\r\n          <Chat id={chat.id} users={chat.data().users} />\r\n          <OptionsButton\r\n            onClick={(e) => handleMenuOpen(e, chat.id, chat.data().users)}\r\n          >\r\n            <MoreVertIcon fontSize=\"small\" />\r\n          </OptionsButton>\r\n        </ChatWrapper>\r\n      ))}\r\n\r\n      {/* Header Menu */}\r\n      <Menu\r\n        anchorEl={headerAnchorEl}\r\n        open={Boolean(headerAnchorEl)}\r\n        onClose={handleHeaderMenuClose}\r\n      >\r\n        <MenuItem onClick={handleSettingsOpen}>Settings</MenuItem>\r\n        <MenuItem onClick={handleBlockedUsersOpen}>Blocked Users</MenuItem>\r\n        <MenuItem onClick={handleAboutOpen}>About</MenuItem>\r\n      </Menu>\r\n\r\n      {/* Chat Options Menu */}\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleMenuClose}\r\n      >\r\n        {selectedChatUsers && selectedChatUsers.find((email) => email !== user.email) && (\r\n          <>\r\n            {isUserBlocked() ? (\r\n              <MenuItem onClick={() => {\r\n                const recipientEmail = selectedChatUsers.find((email) => email !== user.email);\r\n                unblockUser(recipientEmail);\r\n                handleMenuClose();\r\n              }}>\r\n                Unblock User\r\n              </MenuItem>\r\n            ) : (\r\n              <MenuItem onClick={blockUser}>Block User</MenuItem>\r\n            )}\r\n          </>\r\n        )}\r\n        <MenuItem onClick={deleteChat}>Delete Chat</MenuItem>\r\n      </Menu>\r\n\r\n      {/* Settings Dialog */}\r\n      <Dialog open={settingsOpen} onClose={handleSettingsClose} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>Settings</DialogTitle>\r\n        <DialogContent>\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                checked={darkMode}\r\n                onChange={toggleDarkMode}\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Dark Mode\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleSettingsClose}>Close</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Blocked Users Dialog */}\r\n      <Dialog open={blockedUsersOpen} onClose={handleBlockedUsersClose} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>Blocked Users</DialogTitle>\r\n        <DialogContent>\r\n          {blockedUsers.length === 0 ? (\r\n            <Typography variant=\"body2\" color=\"textSecondary\">\r\n              No blocked users\r\n            </Typography>\r\n          ) : (\r\n            <List>\r\n              {blockedUsers.map((blockedEmail) => (\r\n                <ListItem key={blockedEmail}>\r\n                  <ListItemText primary={blockedEmail} />\r\n                  <ListItemSecondaryAction>\r\n                    <Button \r\n                      variant=\"outlined\" \r\n                      size=\"small\"\r\n                      onClick={() => unblockUser(blockedEmail)}\r\n                    >\r\n                      Unblock\r\n                    </Button>\r\n                  </ListItemSecondaryAction>\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleBlockedUsersClose}>Close</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* About Dialog */}\r\n      <Dialog open={aboutOpen} onClose={handleAboutClose} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>About</DialogTitle>\r\n        <DialogContent>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            Chat Application\r\n          </Typography>\r\n          <Typography variant=\"body1\" paragraph>\r\n            Version: 1.0.0\r\n          </Typography>\r\n          <Typography variant=\"body2\" paragraph>\r\n            A real-time messaging application built with React and Firebase.\r\n            Connect with friends and family through instant messaging.\r\n          </Typography>\r\n          <Typography variant=\"body2\" paragraph>\r\n            <strong>Features:</strong>\r\n          </Typography>\r\n          <Typography variant=\"body2\" component=\"div\">\r\n            <ul>\r\n              <li>Real-time messaging</li>\r\n              <li>User authentication</li>\r\n              <li>Search chats</li>\r\n              <li>Block/Unblock users</li>\r\n              <li>Delete conversations</li>\r\n              <li>Dark mode support</li>\r\n              <li>Chat with yourself (like WhatsApp)</li>\r\n            </ul>\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" style={{ marginTop: 20 }}>\r\n            Â© 2024 Chat App. All rights reserved.\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleAboutClose}>Close</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Sidebar;\r\n\r\n// Styled components with dark mode support\r\nconst Container = styled.div`\r\n  flex: 0.45;\r\n  border-right: 1px solid ${props => props.darkMode ? '#333' : 'whitesmoke'};\r\n  height: 100vh;\r\n  min-width: 300px;\r\n  max-width: 350px;\r\n  overflow-y: scroll;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : 'white'};\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n\r\n  ::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n`;\r\n\r\nconst UserAvatar = styled(Avatar)`\r\n  cursor: pointer;\r\n\r\n  :hover {\r\n    opacity: 0.8;\r\n  }\r\n`;\r\n\r\nconst SidebarButton = styled(Button)`\r\n  width: 100%;\r\n  &&& {\r\n    border-top: 1px solid whitesmoke;\r\n    border-bottom: 1px solid whitesmoke;\r\n  }\r\n`;\r\n\r\nconst Search = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 5px;\r\n  border-radius: 2px;\r\n  padding: 20px;\r\n  background-color: ${props => props.darkMode ? '#2a2a2a' : 'white'};\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  outline-width: 0;\r\n  border: none;\r\n  flex: 1;\r\n  background-color: ${props => props.darkMode ? '#2a2a2a' : 'white'};\r\n  color: ${props => props.darkMode ? '#e0e0e0' : 'black'};\r\n  \r\n  ::placeholder {\r\n    color: ${props => props.darkMode ? '#888' : '#999'};\r\n  }\r\n`;\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  position: sticky;\r\n  top: 0;\r\n  background-color: ${props => props.darkMode ? '#1e1e1e' : 'white'};\r\n  z-index: 1;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 15px;\r\n  height: 80px;\r\n  border-bottom: 1px solid ${props => props.darkMode ? '#333' : 'whitesmoke'};\r\n`;\r\n\r\nconst IconsContainer = styled.div``;\r\n\r\nconst ChatWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 10px;\r\n  \r\n  &:hover {\r\n    background-color: ${props => props.darkMode ? '#2a2a2a' : '#f5f5f5'};\r\n  }\r\n`;\r\n\r\nconst OptionsButton = styled(IconButton)`\r\n  visibility: hidden;\r\n  \r\n  ${ChatWrapper}:hover & {\r\n    visibility: visible;\r\n  }\r\n`;"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,SAAS;;IACP,MAAM,CAAC,KAAK,GAAG,IAAA,sLAAY,EAAC,4HAAI;IAChC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,sIAAQ,EAAC;IACzC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,sIAAQ,EAAC;IACrD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,sIAAQ,EAAC;IACrD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,sIAAQ,EAAC;IAC3D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,sIAAQ,EAAC;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,sIAAQ,EAAC;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,sIAAQ,EAAC;IAC3C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,sIAAQ,EAAC;IAEzD,wBAAwB;IACxB,MAAM,kBAAkB,IAAA,wIAAU,EAAC,6IAAe;IAClD,MAAM,EAAE,QAAQ,EAAE,cAAc,EAAE,GAAG,mBAAmB;QAAE,UAAU;QAAO,gBAAgB,KAAO;IAAE;IAEpG,MAAM,eAAe,OACjB,IAAA,wKAAK,EACH,IAAA,6KAAU,EAAC,0HAAE,EAAE,UACf,IAAA,wKAAK,EAAC,SAAS,kBAAkB,KAAK,KAAK,KAE7C;IAEJ,MAAM,CAAC,eAAe,SAAS,MAAM,GAAG,IAAA,4LAAa,EAAC;IAEtD,mDAAmD;IACnD,MAAM,aAAa,OAAO,IAAA,sKAAG,EAAC,0HAAE,EAAE,SAAS,KAAK,GAAG,IAAI;IACvD,MAAM,CAAC,gBAAgB,GAAG,IAAA,4LAAa,EAAC,aAAa,IAAA,wKAAK,EAAC,IAAA,6KAAU,EAAC,0HAAE,EAAE,UAAU,IAAA,wKAAK,EAAC,YAAY,MAAM,KAAK,GAAG,KAAK;IACzH,MAAM,kBAAkB,iBAAiB,MAAM,CAAC,EAAE,EAAE;IACpD,MAAM,eAAe,iBAAiB,gBAAgB,EAAE;IAExD,qIAAK,CAAC,SAAS;6BAAC;YACd,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,qBAAqB;YACrC;QACF;4BAAG;QAAC;KAAM;IAEV,MAAM,mBAAmB,CAAC;QACxB,IAAI,CAAC,eAAe,OAAO;QAE3B,uEAAuE;QACvE,IAAI,mBAAmB,KAAK,KAAK,EAAE;YACjC,OAAO,CAAC,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,CAAC;gBAChC,MAAM,QAAQ,KAAK,IAAI,GAAG,KAAK;gBAC/B,OAAO,MAAM,MAAM,KAAK,KAAK,KAAK,CAAC,EAAE,KAAK,KAAK,KAAK,IAAI,KAAK,CAAC,EAAE,KAAK,KAAK,KAAK;YACjF;QACF;QAEA,4DAA4D;QAC5D,OAAO,CAAC,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,CAAC;YAChC,MAAM,QAAQ,KAAK,IAAI,GAAG,KAAK;YAC/B,OAAO,MAAM,QAAQ,CAAC,mBAAmB,MAAM,QAAQ,CAAC,KAAK,KAAK;QACpE;IACF;IAEA,MAAM,aAAa;QACjB,IAAI,CAAC,MAAM;YACT,QAAQ,KAAK,CAAC;YACd;QACF;QAEA,QAAQ,GAAG,CAAC,iBAAiB,KAAK,KAAK;QAEvC,MAAM,QAAQ,OACZ;QAGF,IAAI,CAAC,OAAO;YACV,QAAQ,GAAG,CAAC;YACZ;QACF;QAEA,QAAQ,GAAG,CAAC,gBAAgB;QAE5B,IAAI,CAAC,mJAAuB,CAAC,QAAQ;YACnC,MAAM;YACN;QACF;QAEA,+DAA+D;QAC/D,8BAA8B;QAC9B,4CAA4C;QAC5C,YAAY;QACZ,IAAI;QAEJ,IAAI,iBAAiB,QAAQ;YAC3B,MAAM;YACN;QACF;QAEA,IAAI;YACF,QAAQ,GAAG,CAAC,mCAAmC;gBAC7C,OAAO;oBAAC,KAAK,KAAK;oBAAE;iBAAM;gBAC1B,WAAW,EAAE;YACf;YAEA,MAAM,SAAS,MAAM,IAAA,yKAAM,EAAC,IAAA,6KAAU,EAAC,0HAAE,EAAE,UAAU;gBACnD,OAAO;oBAAC,KAAK,KAAK;oBAAE;iBAAM;gBAC1B,WAAW,EAAE;gBACb,WAAW,IAAI;YACjB;YAEA,QAAQ,GAAG,CAAC,sCAAsC,OAAO,EAAE;QAC7D,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,QAAQ,KAAK,CAAC,eAAe,MAAM,IAAI;YACvC,QAAQ,KAAK,CAAC,kBAAkB,MAAM,OAAO;YAC7C,MAAM,CAAC,uBAAuB,EAAE,MAAM,OAAO,EAAE;QACjD;IACF;IAEA,6BAA6B;IAC7B,MAAM,iBAAiB,CAAC,OAAO,QAAQ;QACrC,YAAY,MAAM,aAAa;QAC/B,kBAAkB;QAClB,qBAAqB;IACvB;IAEA,MAAM,kBAAkB;QACtB,YAAY;QACZ,kBAAkB;QAClB,qBAAqB;IACvB;IAEA,uBAAuB;IACvB,MAAM,uBAAuB,CAAC;QAC5B,kBAAkB,MAAM,aAAa;IACvC;IAEA,MAAM,wBAAwB;QAC5B,kBAAkB;IACpB;IAEA,MAAM,qBAAqB;QACzB,gBAAgB;QAChB;IACF;IAEA,MAAM,sBAAsB;QAC1B,gBAAgB;IAClB;IAEA,MAAM,kBAAkB;QACtB,aAAa;QACb;IACF;IAEA,MAAM,mBAAmB;QACvB,aAAa;IACf;IAEA,MAAM,yBAAyB;QAC7B,oBAAoB;QACpB;IACF;IAEA,MAAM,0BAA0B;QAC9B,oBAAoB;IACtB;IAEA,MAAM,aAAa;QACjB,IAAI,CAAC,kBAAkB,CAAC,MAAM;QAC9B,IAAI;YACF,MAAM,UAAU,IAAA,sKAAG,EAAC,0HAAE,EAAE,SAAS;YACjC,MAAM,IAAA,4KAAS,EAAC,SAAS;gBACvB,WAAW,IAAA,6KAAU,EAAC,KAAK,KAAK;YAClC;YACA;YACA,MAAM;QACR,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,MAAM;QACR;IACF;IAEA,MAAM,YAAY;QAChB,IAAI,CAAC,qBAAqB,CAAC,MAAM;QAEjC,MAAM,iBAAiB,kBAAkB,IAAI,CAAC,CAAC,QAAU,UAAU,KAAK,KAAK;QAE7E,gCAAgC;QAChC,IAAI,CAAC,kBAAkB,mBAAmB,KAAK,KAAK,EAAE;YACpD,MAAM;YACN;QACF;QAEA,IAAI;YACF,MAAM,aAAa,IAAA,sKAAG,EAAC,0HAAE,EAAE,SAAS,KAAK,GAAG;YAE5C,mDAAmD;YACnD,MAAM,IAAA,yKAAM,EAAC,YAAY;gBACvB,OAAO,KAAK,KAAK;gBACjB,cAAc,IAAA,6KAAU,EAAC;YAC3B,GAAG;gBAAE,OAAO;YAAK;YAEjB;YACA,MAAM,GAAG,eAAe,wDAAwD,CAAC;QACnF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,MAAM;QACR;IACF;IAEA,MAAM,cAAc,OAAO;QACzB,IAAI,CAAC,MAAM;QAEX,IAAI;YACF,MAAM,aAAa,IAAA,sKAAG,EAAC,0HAAE,EAAE,SAAS,KAAK,GAAG;YAE5C,MAAM,IAAA,4KAAS,EAAC,YAAY;gBAC1B,cAAc,IAAA,8KAAW,EAAC;YAC5B;YAEA,MAAM,GAAG,eAAe,mBAAmB,CAAC;QAC9C,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,MAAM;QACR;IACF;IAEA,oCAAoC;IACpC,MAAM,gBAAgB;QACpB,IAAI,CAAC,qBAAqB,CAAC,MAAM,OAAO;QACxC,MAAM,iBAAiB,kBAAkB,IAAI,CAAC,CAAC,QAAU,UAAU,KAAK,KAAK;QAC7E,IAAI,CAAC,gBAAgB,OAAO,OAAO,iBAAiB;QACpD,OAAO,aAAa,QAAQ,CAAC;IAC/B;IAEA,IAAI,CAAC,MAAM,qBAAO,0JAAC;QAAU,UAAU;kBAAU;;;;;;IAEjD,MAAM,gBAAgB,eAAe,KAClC,OAAO,CAAC;QACP,MAAM,YAAY,KAAK,IAAI,GAAG,SAAS,IAAI,EAAE;QAC7C,OAAO,CAAC,UAAU,QAAQ,CAAC,KAAK,KAAK;IACvC,GACC,OAAO,CAAC;QACP,IAAI,CAAC,WAAW,IAAI,IAAI,OAAO;QAE/B,MAAM,YAAY,KAAK,IAAI,GAAG,KAAK,IAAI,EAAE;QACzC,MAAM,YAAY,UAAU,IAAI,CAAC,CAAC,QAAU,UAAU,KAAK,KAAK;QAEhE,qCAAqC;QACrC,IAAI,CAAC,WAAW;YACd,OAAO,KAAK,KAAK,EAAE,cAAc,SAAS,WAAW,WAAW;QAClE;QAEA,OAAO,WAAW,cAAc,SAAS,WAAW,WAAW;IACjE;IAEF,qBACE,0JAAC;QAAU,UAAU;;0BACnB,0JAAC;gBAAO,UAAU;;kCAChB,0JAAC;wBAAW,SAAS,IAAM,4HAAI,CAAC,OAAO;wBAAI,KAAK,KAAK,QAAQ;;;;;;kCAC7D,0JAAC;;0CACC,0JAAC,oKAAU;0CACT,cAAA,0JAAC,yJAAQ;;;;;;;;;;0CAEX,0JAAC,oKAAU;gCAAC,SAAS;0CACnB,cAAA,0JAAC,6JAAY;;;;;;;;;;;;;;;;;;;;;;0BAKnB,0JAAC;gBAAO,UAAU;;kCAChB,0JAAC,2JAAU;;;;;kCACX,0JAAC;wBACC,UAAU;wBACV,aAAY;wBACZ,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;0BAIjD,0JAAC;gBAAc,SAAS;gBAAY,UAAU;0BAAS;;;;;;YAItD,eAAe,IAAI,CAAC,qBACnB,0JAAC;oBAA0B,UAAU;;sCACnC,0JAAC,yHAAI;4BAAC,IAAI,KAAK,EAAE;4BAAE,OAAO,KAAK,IAAI,GAAG,KAAK;;;;;;sCAC3C,0JAAC;4BACC,SAAS,CAAC,IAAM,eAAe,GAAG,KAAK,EAAE,EAAE,KAAK,IAAI,GAAG,KAAK;sCAE5D,cAAA,0JAAC,6JAAY;gCAAC,UAAS;;;;;;;;;;;;mBALT,KAAK,EAAE;;;;;0BAW3B,0JAAC,wJAAI;gBACH,UAAU;gBACV,MAAM,QAAQ;gBACd,SAAS;;kCAET,0JAAC,gKAAQ;wBAAC,SAAS;kCAAoB;;;;;;kCACvC,0JAAC,gKAAQ;wBAAC,SAAS;kCAAwB;;;;;;kCAC3C,0JAAC,gKAAQ;wBAAC,SAAS;kCAAiB;;;;;;;;;;;;0BAItC,0JAAC,wJAAI;gBACH,UAAU;gBACV,MAAM,QAAQ;gBACd,SAAS;;oBAER,qBAAqB,kBAAkB,IAAI,CAAC,CAAC,QAAU,UAAU,KAAK,KAAK,mBAC1E;kCACG,gCACC,0JAAC,gKAAQ;4BAAC,SAAS;gCACjB,MAAM,iBAAiB,kBAAkB,IAAI,CAAC,CAAC,QAAU,UAAU,KAAK,KAAK;gCAC7E,YAAY;gCACZ;4BACF;sCAAG;;;;;iDAIH,0JAAC,gKAAQ;4BAAC,SAAS;sCAAW;;;;;;;kCAIpC,0JAAC,gKAAQ;wBAAC,SAAS;kCAAY;;;;;;;;;;;;0BAIjC,0JAAC,4JAAM;gBAAC,MAAM;gBAAc,SAAS;gBAAqB,UAAS;gBAAK,SAAS;;kCAC/E,0JAAC,sKAAW;kCAAC;;;;;;kCACb,0JAAC,0KAAa;kCACZ,cAAA,0JAAC,gLAAgB;4BACf,uBACE,0JAAC,4JAAM;gCACL,SAAS;gCACT,UAAU;gCACV,OAAM;;;;;;4BAGV,OAAM;;;;;;;;;;;kCAGV,0JAAC,0KAAa;kCACZ,cAAA,0JAAC,4JAAM;4BAAC,SAAS;sCAAqB;;;;;;;;;;;;;;;;;0BAK1C,0JAAC,4JAAM;gBAAC,MAAM;gBAAkB,SAAS;gBAAyB,UAAS;gBAAK,SAAS;;kCACvF,0JAAC,sKAAW;kCAAC;;;;;;kCACb,0JAAC,0KAAa;kCACX,aAAa,MAAM,KAAK,kBACvB,0JAAC,oKAAU;4BAAC,SAAQ;4BAAQ,OAAM;sCAAgB;;;;;iDAIlD,0JAAC,wJAAI;sCACF,aAAa,GAAG,CAAC,CAAC,6BACjB,0JAAC,gKAAQ;;sDACP,0JAAC,wKAAY;4CAAC,SAAS;;;;;;sDACvB,0JAAC,8LAAuB;sDACtB,cAAA,0JAAC,4JAAM;gDACL,SAAQ;gDACR,MAAK;gDACL,SAAS,IAAM,YAAY;0DAC5B;;;;;;;;;;;;mCAPU;;;;;;;;;;;;;;;kCAgBvB,0JAAC,0KAAa;kCACZ,cAAA,0JAAC,4JAAM;4BAAC,SAAS;sCAAyB;;;;;;;;;;;;;;;;;0BAK9C,0JAAC,4JAAM;gBAAC,MAAM;gBAAW,SAAS;gBAAkB,UAAS;gBAAK,SAAS;;kCACzE,0JAAC,sKAAW;kCAAC;;;;;;kCACb,0JAAC,0KAAa;;0CACZ,0JAAC,oKAAU;gCAAC,SAAQ;gCAAK,YAAY;0CAAC;;;;;;0CAGtC,0JAAC,oKAAU;gCAAC,SAAQ;gCAAQ,SAAS;0CAAC;;;;;;0CAGtC,0JAAC,oKAAU;gCAAC,SAAQ;gCAAQ,SAAS;0CAAC;;;;;;0CAItC,0JAAC,oKAAU;gCAAC,SAAQ;gCAAQ,SAAS;0CACnC,cAAA,0JAAC;8CAAO;;;;;;;;;;;0CAEV,0JAAC,oKAAU;gCAAC,SAAQ;gCAAQ,WAAU;0CACpC,cAAA,0JAAC;;sDACC,0JAAC;sDAAG;;;;;;sDACJ,0JAAC;sDAAG;;;;;;sDACJ,0JAAC;sDAAG;;;;;;sDACJ,0JAAC;sDAAG;;;;;;sDACJ,0JAAC;sDAAG;;;;;;sDACJ,0JAAC;sDAAG;;;;;;sDACJ,0JAAC;sDAAG;;;;;;;;;;;;;;;;;0CAGR,0JAAC,oKAAU;gCAAC,SAAQ;gCAAQ,OAAM;gCAAgB,OAAO;oCAAE,WAAW;gCAAG;0CAAG;;;;;;;;;;;;kCAI9E,0JAAC,0KAAa;kCACZ,cAAA,0JAAC,4JAAM;4BAAC,SAAS;sCAAkB;;;;;;;;;;;;;;;;;;;;;;;AAK7C;GA7ZS;;QACQ,sLAAY;QAqBa,4LAAa;QAI3B,4LAAa;;;KA1BhC;uCA+ZM;AAEf,2CAA2C;AAC3C,MAAM,YAAY,6LAAM,CAAC,GAAG,CAAC;;0BAEH,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,SAAS,aAAa;;;;;;;oBAOxD,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,QAAQ;SAC3D,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,QAAQ;;;;;;;;AAQzD,CAAC;MAlBK;AAoBN,MAAM,aAAa,IAAA,6LAAM,EAAC,4JAAM,CAAC,CAAC;;;;;;AAMlC,CAAC;MANK;AAQN,MAAM,gBAAgB,IAAA,6LAAM,EAAC,4JAAM,CAAC,CAAC;;;;;;AAMrC,CAAC;MANK;AAQN,MAAM,SAAS,6LAAM,CAAC,GAAG,CAAC;;;;;;oBAMN,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,QAAQ;AACpE,CAAC;MAPK;AASN,MAAM,cAAc,6LAAM,CAAC,KAAK,CAAC;;;;oBAIb,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,QAAQ;SAC3D,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,QAAQ;;;WAG9C,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,SAAS,OAAO;;AAEvD,CAAC;MAVK;AAYN,MAAM,SAAS,6LAAM,CAAC,GAAG,CAAC;;;;oBAIN,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,QAAQ;;;;;;2BAMzC,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,SAAS,aAAa;AAC7E,CAAC;MAXK;AAaN,MAAM,iBAAiB,6LAAM,CAAC,GAAG,CAAC,CAAC;MAA7B;AAEN,MAAM,cAAc,6LAAM,CAAC,GAAG,CAAC;;;;;;;sBAOT,EAAE,CAAA,QAAS,MAAM,QAAQ,GAAG,YAAY,UAAU;;AAExE,CAAC;MATK;AAWN,MAAM,gBAAgB,IAAA,6LAAM,EAAC,oKAAU,CAAC,CAAC;;;EAGvC,EAAE,YAAY;;;AAGhB,CAAC;MANK","debugId":null}}]
}