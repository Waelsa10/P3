(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98457,(e,t,a)=>{"use strict";var r=e.r(78509);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=r(e.r(21506)),o=e.r(91398);a.default=(0,l.default)((0,o.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat")},90091,(e,t,a)=>{"use strict";var r=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;a.validate=function(e){if(!e||e.length>254||!r.test(e))return!1;var t=e.split("@");return!(t[0].length>64||t[1].split(".").some(function(e){return e.length>63}))}},5151,e=>{"use strict";var t=e.i(91398),a=e.i(91788),r=e.i(67323),l=e.i(38770),o=e.i(60814),i=e.i(22351),n=e.i(55548),s=e.i(73831),d=e.i(98457),c=e.i(9790),u=e.i(96490),p=e.i(3828),f=e.i(67849),h=e.i(60117);e.i(81516);var m=e.i(59385);let g=function({id:e,users:a}){let o=(0,p.useRouter)(),[i]=(0,r.useAuthState)(l.auth),n=i?(0,h.default)(a,i):null,s=n?(0,m.query)((0,m.collection)(l.db,"users"),(0,m.where)("email","==",n)):null,[d]=(0,f.useCollection)(s),c=d?.docs?.[0]?.data();return(0,t.jsxs)(b,{onClick:()=>{e&&o.push(`/chat/${e}`)},children:[c?(0,t.jsx)(v,{src:c.photoURL}):(0,t.jsx)(v,{children:n?n[0]:"?"}),(0,t.jsx)("p",{children:n??"Loading..."})]})},b=o.default.div`
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 15px;
  word-break: break-word;

  :hover {
    background-color: #e9eaeb;
  }
`,v=(0,o.default)(i.default)`
  margin: 5px;
  margin-right: 15px;
`;var y=e.i(90091),x=e.i(33670),k=e.i(1004),w=e.i(82161),C=e.i(56918),j=e.i(85758),S=e.i(77052);e.i(50461);var $=e.i(60997),M=e.i(75907),R=e.i(56206),A=e.i(961);let P=a.createContext(void 0);function B(){return a.useContext(P)}var L=e.i(75032),I=e.i(46739),O=e.i(37887),N=e.i(47539),z=e.i(2977);let F=["ownerState"],D=["variants"],_=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function E(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function T(e,t){return t&&e&&"object"==typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}let U=(0,N.default)();function V({defaultTheme:e,theme:t,themeId:a}){return 0===Object.keys(t).length?e:t[a]||t}function G(e,t,a){let{ownerState:r}=t,l=(0,$.default)(t,F),o="function"==typeof e?e((0,M.default)({ownerState:r},l)):e;if(Array.isArray(o))return o.flatMap(e=>G(e,(0,M.default)({ownerState:r},l),a));if(o&&"object"==typeof o&&Array.isArray(o.variants)){let{variants:e=[]}=o,t=(0,$.default)(o,D);return e.forEach(e=>{let o=!0;if("function"==typeof e.props?o=e.props((0,M.default)({ownerState:r},l,r)):Object.keys(e.props).forEach(t=>{(null==r?void 0:r[t])!==e.props[t]&&l[t]!==e.props[t]&&(o=!1)}),o){Array.isArray(t)||(t=[t]);let o="function"==typeof e.style?e.style((0,M.default)({ownerState:r},l,r)):e.style;t.push(a?T((0,O.internal_serializeStyles)(o),a):o)}}),t}return a?T((0,O.internal_serializeStyles)(o),a):o}let q=function(e={}){let{themeId:t,defaultTheme:a=U,rootShouldForwardProp:r=E,slotShouldForwardProp:l=E}=e,o=e=>(0,z.default)((0,M.default)({},e,{theme:V((0,M.default)({},e,{defaultTheme:a,themeId:t}))}));return o.__mui_systemSx=!0,(e,i={})=>{var n;let s;(0,O.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));let{name:d,slot:c,skipVariantsResolver:u,skipSx:p,overridesResolver:f=!(n=!c?c:c.charAt(0).toLowerCase()+c.slice(1))?null:(e,t)=>t[n]}=i,h=(0,$.default)(i,_),m=d&&d.startsWith("Mui")||c?"components":"custom",g=void 0!==u?u:c&&"Root"!==c&&"root"!==c||!1,b=p||!1,v=E;"Root"===c||"root"===c?v=r:c?v=l:"string"==typeof e&&e.charCodeAt(0)>96&&(v=void 0);let y=(0,O.default)(e,(0,M.default)({shouldForwardProp:v,label:s},h)),x=e=>"function"==typeof e&&e.__emotion_real!==e||(0,L.isPlainObject)(e)?r=>{let l=V({theme:r.theme,defaultTheme:a,themeId:t});return G(e,(0,M.default)({},r,{theme:l}),l.modularCssLayers?m:void 0)}:e,k=(r,...l)=>{let i=x(r),n=l?l.map(x):[];d&&f&&n.push(e=>{let r=V((0,M.default)({},e,{defaultTheme:a,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;let l=r.components[d].styleOverrides,o={};return Object.entries(l).forEach(([t,a])=>{o[t]=G(a,(0,M.default)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),f(e,o)}),d&&!g&&n.push(e=>{var r;let l=V((0,M.default)({},e,{defaultTheme:a,themeId:t}));return G({variants:null==l||null==(r=l.components)||null==(r=r[d])?void 0:r.variants},(0,M.default)({},e,{theme:l}),l.modularCssLayers?"theme":void 0)}),b||n.push(o);let s=n.length-l.length;if(Array.isArray(r)&&s>0){let e=Array(s).fill("");(i=[...r,...e]).raw=[...r.raw,...e]}let c=y(i,...n);return e.muiName&&(c.muiName=e.muiName),c};return y.withConfig&&(k.withConfig=y.withConfig),k}}();var W=e.i(92107),Z=e.i(77137),H=e.i(16162),K=e.i(23551),X=e.i(53259);let Y=["component","direction","spacing","divider","children","className","useFlexGap"],J=(0,N.default)(),Q=q("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function ee(e){return function({props:e,name:t,defaultTheme:a,themeId:r}){let l=(0,Z.default)(a);return r&&(l=l[r]||l),function(e){let{theme:t,name:a,props:r}=e;return t&&t.components&&t.components[a]&&t.components[a].defaultProps?(0,W.default)(t.components[a].defaultProps,r):r}({theme:l,name:t,props:e})}({props:e,name:"MuiStack",defaultTheme:J})}let et=({ownerState:e,theme:t})=>{let a=(0,M.default)({display:"flex",flexDirection:"column"},(0,K.handleBreakpoints)({theme:t},(0,K.resolveBreakpointValues)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let r=(0,X.createUnarySpacing)(t),l=Object.keys(t.breakpoints.values).reduce((t,a)=>(("object"==typeof e.spacing&&null!=e.spacing[a]||"object"==typeof e.direction&&null!=e.direction[a])&&(t[a]=!0),t),{}),o=(0,K.resolveBreakpointValues)({values:e.direction,base:l}),i=(0,K.resolveBreakpointValues)({values:e.spacing,base:l});"object"==typeof o&&Object.keys(o).forEach((e,t,a)=>{if(!o[e]){let r=t>0?o[a[t-1]]:"column";o[e]=r}}),a=(0,L.default)(a,(0,K.handleBreakpoints)({theme:t},i,(t,a)=>e.useFlexGap?{gap:(0,X.getValue)(r,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[a?o[a]:e.direction]}`]:(0,X.getValue)(r,t)}}))}return(0,K.mergeBreakpointsInOrder)(t.breakpoints,a)};var ea=e.i(96851),er=e.i(95724);let el=function(e={}){let{createStyledComponent:r=Q,useThemeProps:l=ee,componentName:o="MuiStack"}=e,i=r(et);return a.forwardRef(function(e,r){let n,s=l(e),d=(0,H.extendSxProp)(s),{component:c="div",direction:u="column",spacing:p=0,divider:f,children:h,className:m,useFlexGap:g=!1}=d,b=(0,$.default)(d,Y),v=(0,A.default)({root:["root"]},e=>(0,I.default)(o,e),{});return(0,t.jsx)(i,(0,M.default)({as:c,ownerState:{direction:u,spacing:p,useFlexGap:g},ref:r,className:(0,R.default)(v.root,m)},b,{children:f?(n=a.Children.toArray(h).filter(Boolean)).reduce((e,t,r)=>(e.push(t),r<n.length-1&&e.push(a.cloneElement(f,{key:`separator-${r}`})),e),[]):h}))})}({createStyledComponent:(0,ea.default)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,er.useDefaultProps)({props:e,name:"MuiStack"})});var eo=e.i(15871),ei=e.i(64107),en=e.i(13149);function es(e){return(0,I.default)("MuiFormControlLabel",e)}let ed=(0,en.default)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),ec=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],eu=(0,ea.default)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[{[`& .${ed.label}`]:t.label},t.root,t[`labelPlacement${(0,ei.default)(a.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>(0,M.default)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ed.disabled}`]:{cursor:"default"}},"start"===t.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===t.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===t.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${ed.label}`]:{[`&.${ed.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),ep=(0,ea.default)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${ed.error}`]:{color:(e.vars||e).palette.error.main}})),ef=a.forwardRef(function(e,r){var l,o;let i=(0,er.useDefaultProps)({props:e,name:"MuiFormControlLabel"}),{className:n,componentsProps:s={},control:d,disabled:c,disableTypography:u,label:p,labelPlacement:f="end",required:h,slotProps:m={}}=i,g=(0,$.default)(i,ec),b=B(),v=null!=(l=null!=c?c:d.props.disabled)?l:null==b?void 0:b.disabled,y=null!=h?h:d.props.required,x={disabled:v,required:y};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===d.props[e]&&void 0!==i[e]&&(x[e]=i[e])});let k=function({props:e,states:t,muiFormControl:a}){return t.reduce((t,r)=>(t[r]=e[r],a&&void 0===e[r]&&(t[r]=a[r]),t),{})}({props:i,muiFormControl:b,states:["error"]}),w=(0,M.default)({},i,{disabled:v,labelPlacement:f,required:y,error:k.error}),C=(e=>{let{classes:t,disabled:a,labelPlacement:r,error:l,required:o}=e,i={root:["root",a&&"disabled",`labelPlacement${(0,ei.default)(r)}`,l&&"error",o&&"required"],label:["label",a&&"disabled"],asterisk:["asterisk",l&&"error"]};return(0,A.default)(i,es,t)})(w),j=null!=(o=m.typography)?o:s.typography,S=p;return null==S||S.type===eo.default||u||(S=(0,t.jsx)(eo.default,(0,M.default)({component:"span"},j,{className:(0,R.default)(C.label,null==j?void 0:j.className),children:S}))),(0,t.jsxs)(eu,(0,M.default)({className:(0,R.default)(C.root,n),ownerState:w,ref:r},g,{children:[a.cloneElement(d,x),y?(0,t.jsxs)(el,{display:"block",children:[S,(0,t.jsxs)(ep,{ownerState:w,"aria-hidden":!0,className:C.asterisk,children:[" ","*"]})]}):S]}))});var eh=e.i(77366),em=e.i(96994),eg=e.i(24382),eb=e.i(41661);function ev(e){return(0,I.default)("PrivateSwitchBase",e)}(0,en.default)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);let ey=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],ex=(0,ea.default)(eb.default,{name:"MuiSwitchBase"})(({ownerState:e})=>(0,M.default)({padding:9,borderRadius:"50%"},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12})),ek=(0,ea.default)("input",{name:"MuiSwitchBase",shouldForwardProp:em.rootShouldForwardProp})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),ew=a.forwardRef(function(e,a){let{autoFocus:r,checked:l,checkedIcon:o,className:i,defaultChecked:n,disabled:s,disableFocusRipple:d=!1,edge:c=!1,icon:u,id:p,inputProps:f,inputRef:h,name:m,onBlur:g,onChange:b,onFocus:v,readOnly:y,required:x=!1,tabIndex:k,type:w,value:C}=e,j=(0,$.default)(e,ey),[S,P]=(0,eg.default)({controlled:l,default:!!n,name:"SwitchBase",state:"checked"}),L=B(),I=s;L&&void 0===I&&(I=L.disabled);let O="checkbox"===w||"radio"===w,N=(0,M.default)({},e,{checked:S,disabled:I,disableFocusRipple:d,edge:c}),z=(e=>{let{classes:t,checked:a,disabled:r,edge:l}=e,o={root:["root",a&&"checked",r&&"disabled",l&&`edge${(0,ei.default)(l)}`],input:["input"]};return(0,A.default)(o,ev,t)})(N);return(0,t.jsxs)(ex,(0,M.default)({component:"span",className:(0,R.default)(z.root,i),centerRipple:!0,focusRipple:!d,disabled:I,tabIndex:null,role:void 0,onFocus:e=>{v&&v(e),L&&L.onFocus&&L.onFocus(e)},onBlur:e=>{g&&g(e),L&&L.onBlur&&L.onBlur(e)},ownerState:N,ref:a},j,{children:[(0,t.jsx)(ek,(0,M.default)({autoFocus:r,checked:l,defaultChecked:n,className:z.input,disabled:I,id:O?p:void 0,name:m,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;let t=e.target.checked;P(t),b&&b(e,t)},readOnly:y,ref:h,required:x,ownerState:N,tabIndex:k,type:w},"checkbox"===w&&void 0===C?{}:{value:C},f)),S?o:u]}))});var eC=e.i(80445);function ej(e){return(0,I.default)("MuiSwitch",e)}let eS=(0,en.default)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),e$=["className","color","edge","size","sx"],eM=(0,eC.styled)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.edge&&t[`edge${(0,ei.default)(a.edge)}`],t[`size${(0,ei.default)(a.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${eS.thumb}`]:{width:16,height:16},[`& .${eS.switchBase}`]:{padding:4,[`&.${eS.checked}`]:{transform:"translateX(16px)"}}}}]}),eR=(0,eC.styled)(ew,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.switchBase,{[`& .${eS.input}`]:t.input},"default"!==a.color&&t[`color${(0,ei.default)(a.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${"light"===e.palette.mode?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${eS.checked}`]:{transform:"translateX(20px)"},[`&.${eS.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${eS.checked} + .${eS.track}`]:{opacity:.5},[`&.${eS.disabled} + .${eS.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${"light"===e.palette.mode?.12:.2}`},[`& .${eS.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,eh.alpha)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,e])=>e.main&&e.light).map(([t])=>({props:{color:t},style:{[`&.${eS.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,eh.alpha)(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${eS.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${"light"===e.palette.mode?(0,eh.lighten)(e.palette[t].main,.62):(0,eh.darken)(e.palette[t].main,.55)}`}},[`&.${eS.checked} + .${eS.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),eA=(0,eC.styled)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${"light"===e.palette.mode?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${"light"===e.palette.mode?.38:.3}`})),eP=(0,eC.styled)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),eB=a.forwardRef(function(e,a){let r=(0,er.useDefaultProps)({props:e,name:"MuiSwitch"}),{className:l,color:o="primary",edge:i=!1,size:n="medium",sx:s}=r,d=(0,$.default)(r,e$),c=(0,M.default)({},r,{color:o,edge:i,size:n}),u=(e=>{let{classes:t,edge:a,size:r,color:l,checked:o,disabled:i}=e,n={root:["root",a&&`edge${(0,ei.default)(a)}`,`size${(0,ei.default)(r)}`],switchBase:["switchBase",`color${(0,ei.default)(l)}`,o&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},s=(0,A.default)(n,ej,t);return(0,M.default)({},t,s)})(c),p=(0,t.jsx)(eP,{className:u.thumb,ownerState:c});return(0,t.jsxs)(eM,{className:(0,R.default)(u.root,l),sx:s,ownerState:c,children:[(0,t.jsx)(eR,(0,M.default)({type:"checkbox",icon:p,checkedIcon:p,ref:a,ownerState:c},d,{classes:(0,M.default)({},u,{root:u.switchBase})})),(0,t.jsx)(eA,{className:u.track,ownerState:c})]})});var eL=e.i(88866),eI=e.i(69213),eO=e.i(16989),eN=e.i(52753),ez=e.i(75136),eF=e.i(60452);function eD(e){return(0,I.default)("MuiListItem",e)}let e_=(0,en.default)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),eE=(0,en.default)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function eT(e){return(0,I.default)("MuiListItemSecondaryAction",e)}(0,en.default)("MuiListItemSecondaryAction",["root","disableGutters"]);let eU=["className"],eV=(0,ea.default)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.disableGutters&&t.disableGutters]}})(({ownerState:e})=>(0,M.default)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),eG=a.forwardRef(function(e,r){let l=(0,er.useDefaultProps)({props:e,name:"MuiListItemSecondaryAction"}),{className:o}=l,i=(0,$.default)(l,eU),n=a.useContext(eF.default),s=(0,M.default)({},l,{disableGutters:n.disableGutters}),d=(e=>{let{disableGutters:t,classes:a}=e;return(0,A.default)({root:["root",t&&"disableGutters"]},eT,a)})(s);return(0,t.jsx)(eV,(0,M.default)({className:(0,R.default)(d.root,o),ownerState:s,ref:r},i))});eG.muiName="ListItemSecondaryAction";let eq=["className"],eW=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],eZ=(0,ea.default)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.dense&&t.dense,"flex-start"===a.alignItems&&t.alignItemsFlexStart,a.divider&&t.divider,!a.disableGutters&&t.gutters,!a.disablePadding&&t.padding,a.button&&t.button,a.hasSecondaryAction&&t.secondaryAction]}})(({theme:e,ownerState:t})=>(0,M.default)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&(0,M.default)({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${eE.root}`]:{paddingRight:48}},{[`&.${e_.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${e_.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,eh.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${e_.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,eh.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${e_.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"flex-start"===t.alignItems&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${e_.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,eh.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,eh.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),eH=(0,ea.default)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),eK=a.forwardRef(function(e,r){let l=(0,er.useDefaultProps)({props:e,name:"MuiListItem"}),{alignItems:o="center",autoFocus:i=!1,button:n=!1,children:s,className:d,component:c,components:u={},componentsProps:p={},ContainerComponent:f="li",ContainerProps:{className:h}={},dense:m=!1,disabled:g=!1,disableGutters:b=!1,disablePadding:v=!1,divider:y=!1,focusVisibleClassName:x,secondaryAction:k,selected:w=!1,slotProps:C={},slots:j={}}=l,S=(0,$.default)(l.ContainerProps,eq),P=(0,$.default)(l,eW),B=a.useContext(eF.default),L=a.useMemo(()=>({dense:m||B.dense||!1,alignItems:o,disableGutters:b}),[o,B.dense,m,b]),I=a.useRef(null);(0,eN.default)(()=>{i&&I.current&&I.current.focus()},[i]);let O=a.Children.toArray(s),N=O.length&&(0,eO.default)(O[O.length-1],["ListItemSecondaryAction"]),z=(0,M.default)({},l,{alignItems:o,autoFocus:i,button:n,dense:L.dense,disabled:g,disableGutters:b,disablePadding:v,divider:y,hasSecondaryAction:N,selected:w}),F=(e=>{let{alignItems:t,button:a,classes:r,dense:l,disabled:o,disableGutters:i,disablePadding:n,divider:s,hasSecondaryAction:d,selected:c}=e;return(0,A.default)({root:["root",l&&"dense",!i&&"gutters",!n&&"padding",s&&"divider",o&&"disabled",a&&"button","flex-start"===t&&"alignItemsFlexStart",d&&"secondaryAction",c&&"selected"],container:["container"]},eD,r)})(z),D=(0,ez.default)(I,r),_=j.root||u.Root||eZ,E=C.root||p.root||{},T=(0,M.default)({className:(0,R.default)(F.root,E.className,d),disabled:g},P),U=c||"li";return(n&&(T.component=c||"div",T.focusVisibleClassName=(0,R.default)(e_.focusVisible,x),U=eb.default),N)?(U=T.component||c?U:"div","li"===f&&("li"===U?U="div":"li"===T.component&&(T.component="div")),(0,t.jsx)(eF.default.Provider,{value:L,children:(0,t.jsxs)(eH,(0,M.default)({as:f,className:(0,R.default)(F.container,h),ref:D,ownerState:z},S,{children:[(0,t.jsx)(_,(0,M.default)({},E,!(0,eI.default)(_)&&{as:U,ownerState:(0,M.default)({},z,E.ownerState)},T,{children:O})),O.pop()]}))})):(0,t.jsx)(eF.default.Provider,{value:L,children:(0,t.jsxs)(_,(0,M.default)({},E,{as:U,ref:D},!(0,eI.default)(_)&&{ownerState:(0,M.default)({},z,E.ownerState)},T,{children:[O,k&&(0,t.jsx)(eG,{children:k})]}))})});var eX=e.i(40303),eY=e.i(83921);let eJ=o.default.div`
  flex: 0.45;
  border-right: 1px solid ${e=>e.darkMode?"#333":"whitesmoke"};
  height: 100vh;
  min-width: 300px;
  max-width: 350px;
  overflow-y: scroll;
  display: flex;
  flex-direction: column;
  background-color: ${e=>e.darkMode?"#1e1e1e":"white"};
  color: ${e=>e.darkMode?"#e0e0e0":"black"};

  ::-webkit-scrollbar {
    display: none;
  }

  -ms-overflow-style: none;
  scrollbar-width: none;
`,eQ=(0,o.default)(i.default)`
  cursor: pointer;

  :hover {
    opacity: 0.8;
  }
`,e0=(0,o.default)(n.default)`
  width: 100%;
  &&& {
    border-top: 1px solid whitesmoke;
    border-bottom: 1px solid whitesmoke;
  }
`,e1=o.default.div`
  display: flex;
  align-items: center;
  padding: 5px;
  border-radius: 2px;
  padding: 20px;
  background-color: ${e=>e.darkMode?"#2a2a2a":"white"};
`,e2=o.default.input`
  outline-width: 0;
  border: none;
  flex: 1;
  background-color: ${e=>e.darkMode?"#2a2a2a":"white"};
  color: ${e=>e.darkMode?"#e0e0e0":"black"};
  
  ::placeholder {
    color: ${e=>e.darkMode?"#888":"#999"};
  }
`,e9=o.default.div`
  display: flex;
  position: sticky;
  top: 0;
  background-color: ${e=>e.darkMode?"#1e1e1e":"white"};
  z-index: 1;
  justify-content: space-between;
  align-items: center;
  padding: 15px;
  height: 80px;
  border-bottom: 1px solid ${e=>e.darkMode?"#333":"whitesmoke"};
`,e5=o.default.div``,e6=o.default.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 10px;
  
  &:hover {
    background-color: ${e=>e.darkMode?"#2a2a2a":"#f5f5f5"};
  }
`,e8=(0,o.default)(s.default)`
  visibility: hidden;
  
  ${e6}:hover & {
    visibility: visible;
  }
`;e.s(["default",0,function(){let[e]=(0,r.useAuthState)(l.auth),[o,i]=(0,a.useState)(null),[p,h]=(0,a.useState)(null),[b,v]=(0,a.useState)(null),[$,M]=(0,a.useState)(null),[R,A]=(0,a.useState)(""),[P,B]=(0,a.useState)(!1),[L,I]=(0,a.useState)(!1),[O,N]=(0,a.useState)(!1),{darkMode:z,toggleDarkMode:F}=(0,a.useContext)(eY.DarkModeContext)||{darkMode:!1,toggleDarkMode:()=>{}},D=e?(0,m.query)((0,m.collection)(l.db,"chats"),(0,m.where)("users","array-contains",e.email)):null,[_,E,T]=(0,f.useCollection)(D),U=e?(0,m.doc)(l.db,"users",e.uid):null,[V]=(0,f.useCollection)(U?(0,m.query)((0,m.collection)(l.db,"users"),(0,m.where)("__name__","==",e.uid)):null),G=V?.docs?.[0]?.data(),q=G?.blockedUsers||[];a.default.useEffect(()=>{T&&console.error("Collection error:",T)},[T]);let W=async()=>{if(!e)return void console.error("No user logged in");console.log("Current user:",e.email);let t=prompt("Please enter an email address for the user you wish to chat with");if(!t)return void console.log("User cancelled prompt");if(console.log("Input email:",t),!y.validate(t))return void alert("Please enter a valid email address");if(t===e.email)return void alert("You cannot chat with yourself");if(_&&_.docs.find(e=>e.data().users.includes(t)))return void alert("Chat already exists with this user");try{console.log("Attempting to create chat with:",{users:[e.email,t],deletedBy:[]});let a=await (0,m.addDoc)((0,m.collection)(l.db,"chats"),{users:[e.email,t],deletedBy:[],createdAt:new Date});console.log("Chat created successfully with ID:",a.id)}catch(e){console.error("Error creating chat:",e),console.error("Error code:",e.code),console.error("Error message:",e.message),alert(`Failed to create chat: ${e.message}`)}},Z=()=>{i(null),v(null),M(null)},H=()=>{h(null)},K=()=>{B(!1)},X=()=>{I(!1)},Y=()=>{N(!1)},J=async()=>{if(b&&e)try{let t=(0,m.doc)(l.db,"chats",b);await (0,m.updateDoc)(t,{deletedBy:(0,m.arrayUnion)(e.email)}),Z(),alert("Chat deleted")}catch(e){console.error("Error deleting chat:",e),alert("Failed to delete chat")}},Q=async()=>{if(!$||!e)return;let t=$.find(t=>t!==e.email);try{let a=(0,m.doc)(l.db,"users",e.uid);await (0,m.setDoc)(a,{email:e.email,blockedUsers:(0,m.arrayUnion)(t)},{merge:!0}),Z(),alert(`${t} has been blocked. They can no longer send you messages.`)}catch(e){console.error("Error blocking user:",e),alert("Failed to block user")}},ee=async t=>{if(e)try{let a=(0,m.doc)(l.db,"users",e.uid);await (0,m.updateDoc)(a,{blockedUsers:(0,m.arrayRemove)(t)}),alert(`${t} has been unblocked`)}catch(e){console.error("Error unblocking user:",e),alert("Failed to unblock user")}};if(!e)return(0,t.jsx)(eJ,{darkMode:z,children:"Loading..."});let et=_?.docs.filter(t=>!(t.data().deletedBy||[]).includes(e.email)).filter(t=>{if(!R.trim())return!0;let a=(t.data().users||[]).find(t=>t!==e.email);return a?.toLowerCase().includes(R.toLowerCase())});return(0,t.jsxs)(eJ,{darkMode:z,children:[(0,t.jsxs)(e9,{darkMode:z,children:[(0,t.jsx)(eQ,{onClick:()=>l.auth.signOut(),src:e.photoURL}),(0,t.jsxs)(e5,{children:[(0,t.jsx)(s.default,{children:(0,t.jsx)(d.default,{})}),(0,t.jsx)(s.default,{onClick:e=>{h(e.currentTarget)},children:(0,t.jsx)(c.default,{})})]})]}),(0,t.jsxs)(e1,{darkMode:z,children:[(0,t.jsx)(u.default,{}),(0,t.jsx)(e2,{darkMode:z,placeholder:"Search in chats",type:"text",value:R,onChange:e=>A(e.target.value)})]}),(0,t.jsx)(e0,{onClick:W,disabled:E,children:"Start a new chat"}),et?.map(e=>(0,t.jsxs)(e6,{darkMode:z,children:[(0,t.jsx)(g,{id:e.id,users:e.data().users}),(0,t.jsx)(e8,{onClick:t=>{var a,r;return a=e.id,r=e.data().users,void(i(t.currentTarget),v(a),M(r))},children:(0,t.jsx)(c.default,{fontSize:"small"})})]},e.id)),(0,t.jsxs)(x.default,{anchorEl:p,open:!!p,onClose:H,children:[(0,t.jsx)(k.default,{onClick:()=>{B(!0),H()},children:"Settings"}),(0,t.jsx)(k.default,{onClick:()=>{N(!0),H()},children:"Blocked Users"}),(0,t.jsx)(k.default,{onClick:()=>{I(!0),H()},children:"About"})]}),(0,t.jsxs)(x.default,{anchorEl:o,open:!!o,onClose:Z,children:[(()=>{if(!$||!e)return!1;let t=$.find(t=>t!==e.email);return q.includes(t)})()?(0,t.jsx)(k.default,{onClick:()=>{ee($.find(t=>t!==e.email)),Z()},children:"Unblock User"}):(0,t.jsx)(k.default,{onClick:Q,children:"Block User"}),(0,t.jsx)(k.default,{onClick:J,children:"Delete Chat"})]}),(0,t.jsxs)(w.default,{open:P,onClose:K,maxWidth:"sm",fullWidth:!0,children:[(0,t.jsx)(C.default,{children:"Settings"}),(0,t.jsx)(j.default,{children:(0,t.jsx)(ef,{control:(0,t.jsx)(eB,{checked:z,onChange:F,color:"primary"}),label:"Dark Mode"})}),(0,t.jsx)(S.default,{children:(0,t.jsx)(n.default,{onClick:K,children:"Close"})})]}),(0,t.jsxs)(w.default,{open:O,onClose:Y,maxWidth:"sm",fullWidth:!0,children:[(0,t.jsx)(C.default,{children:"Blocked Users"}),(0,t.jsx)(j.default,{children:0===q.length?(0,t.jsx)(eo.default,{variant:"body2",color:"textSecondary",children:"No blocked users"}):(0,t.jsx)(eL.default,{children:q.map(e=>(0,t.jsxs)(eK,{children:[(0,t.jsx)(eX.default,{primary:e}),(0,t.jsx)(eG,{children:(0,t.jsx)(n.default,{variant:"outlined",size:"small",onClick:()=>ee(e),children:"Unblock"})})]},e))})}),(0,t.jsx)(S.default,{children:(0,t.jsx)(n.default,{onClick:Y,children:"Close"})})]}),(0,t.jsxs)(w.default,{open:L,onClose:X,maxWidth:"sm",fullWidth:!0,children:[(0,t.jsx)(C.default,{children:"About"}),(0,t.jsxs)(j.default,{children:[(0,t.jsx)(eo.default,{variant:"h6",gutterBottom:!0,children:"Chat Application"}),(0,t.jsx)(eo.default,{variant:"body1",paragraph:!0,children:"Version: 1.0.0"}),(0,t.jsx)(eo.default,{variant:"body2",paragraph:!0,children:"A real-time messaging application built with React and Firebase. Connect with friends and family through instant messaging."}),(0,t.jsx)(eo.default,{variant:"body2",paragraph:!0,children:(0,t.jsx)("strong",{children:"Features:"})}),(0,t.jsx)(eo.default,{variant:"body2",component:"div",children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Real-time messaging"}),(0,t.jsx)("li",{children:"User authentication"}),(0,t.jsx)("li",{children:"Search chats"}),(0,t.jsx)("li",{children:"Block/Unblock users"}),(0,t.jsx)("li",{children:"Delete conversations"}),(0,t.jsx)("li",{children:"Dark mode support"})]})}),(0,t.jsx)(eo.default,{variant:"body2",color:"textSecondary",style:{marginTop:20},children:"© 2024 Chat App. All rights reserved."})]}),(0,t.jsx)(S.default,{children:(0,t.jsx)(n.default,{onClick:X,children:"Close"})})]})]})}],5151)}]);