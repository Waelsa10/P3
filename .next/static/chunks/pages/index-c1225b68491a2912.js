(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(n,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3678)}])},6467:function(n,r,t){"use strict";t.d(r,{Z:function(){return R}});var e=t(7568),i=t(603),o=t(7297),u=t(7582),s=t(5893),c=(t(7294),t(3349)),a=t(3653),d=t(66),l=t(9800),f=t(9417),h=t(3946),x=t(1403),p=t(7976),v=t(2761),Z=t(1163),w=t(6677),b=t(7896),j=t(6100);function m(){var n=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  padding: 15px;\n  word-break: break-word;\n\n  :hover {\n    background-color: #e9eaeb;\n  }\n"]);return m=function(){return n},n}function g(){var n=(0,o.Z)(["\n  margin: 5px;\n  margin-right: 15px;\n"]);return g=function(){return n},n}var k=function(n){var r,t,e=n.id,o=n.users,u=(0,Z.useRouter)(),d=(0,i.Z)((0,c.F_)(a.I8),1)[0],l=(0,j.IO)((0,j.hJ)(a.db,"users"),(0,j.ar)("email","==",(0,b.Z)(o,d))),f=(0,i.Z)((0,w.Kx)(l),1)[0],h=null===f||void 0===f||null===(r=f.docs)||void 0===r||null===(t=r[0])||void 0===t?void 0:t.data(),x=(0,b.Z)(o,d);return(0,s.jsxs)(_,{onClick:function(){u.push("/chat/".concat(e))},children:[h?(0,s.jsx)(y,{src:h.photoURL}):(0,s.jsx)(y,{children:x[0]}),(0,s.jsx)("p",{children:x})]})},_=d.ZP.div(m()),y=(0,d.ZP)(l.Z)(g()),P=t(3999);function E(){var n=(0,o.Z)(["\n  flex: 0.45;\n  border-right: 1px solid whitesmoke;\n  height: 100vh;\n  min-width: 300px;\n  max-width: 350px;\n  overflow-y: scroll;\n\n  ::-webkit-scrollbar {\n    display: none;\n  }\n\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n"]);return E=function(){return n},n}function C(){var n=(0,o.Z)(["\n  cursor: pointer;\n\n  :hover {\n    opacity: 0.8;\n  }\n"]);return C=function(){return n},n}function I(){var n=(0,o.Z)(["\n  width: 100%;\n  &&& {\n    border-top: 1px solid whitesmoke;\n    border-bottom: 1px solid whitesmoke;\n  }\n"]);return I=function(){return n},n}function N(){var n=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n  padding: 5px;\n  border-radius: 2px;\n  padding: 20px;\n"]);return N=function(){return n},n}function O(){var n=(0,o.Z)(["\n  outline-width: 0;\n  border: none;\n  flex: 1;\n"]);return O=function(){return n},n}function F(){var n=(0,o.Z)(["\n  display: flex;\n  position: sticky;\n  top: 0;\n  background-color: white;\n  z-index: 1;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  height: 80px;\n  border-bottom: 1px solid whitesmoke;\n"]);return F=function(){return n},n}function J(){var n=(0,o.Z)([""]);return J=function(){return n},n}var R=function(){var n=(0,i.Z)((0,c.F_)(a.I8),1)[0],r=(0,j.IO)((0,j.hJ)(a.db,"chats"),(0,j.ar)("users","array-contains",n.email)),t=(0,i.Z)((0,w.Kx)(r),1)[0],o=function(){var r=(0,e.Z)((function(){var r;return(0,u.__generator)(this,(function(t){switch(t.label){case 0:return(r=prompt("Please enter an email address for the user you wish to chat with"))?!P.G(r)||d(r)||r===n.email?[3,2]:[4,(0,j.ET)((0,j.hJ)(a.db,"chats"),{users:[n.email,r]})]:[2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}));return function(){return r.apply(this,arguments)}}(),d=function(n){return!!(null===t||void 0===t?void 0:t.docs.find((function(r){return r.data().users.includes(n)})))};return(0,s.jsxs)(T,{children:[(0,s.jsxs)(X,{children:[(0,s.jsx)(K,{onClick:function(){return a.I8.signOut()},src:n.photoURL}),(0,s.jsxs)(z,{children:[(0,s.jsx)(h.Z,{children:(0,s.jsx)(x.Z,{})}),(0,s.jsx)(h.Z,{children:(0,s.jsx)(p.Z,{})})]})]}),(0,s.jsxs)(S,{children:[(0,s.jsx)(v.Z,{}),(0,s.jsx)(U,{placeholder:"Search in chats",type:"text"})]}),(0,s.jsx)(L,{onClick:o,children:"Start a new chat"}),null===t||void 0===t?void 0:t.docs.map((function(n){return(0,s.jsx)(k,{id:n.id,users:n.data().users},n.id)}))]})},T=d.ZP.div(E()),K=(0,d.ZP)(l.Z)(C()),L=(0,d.ZP)(f.Z)(I()),S=d.ZP.div(N()),U=d.ZP.input(O()),X=d.ZP.div(F()),z=d.ZP.div(J())},3678:function(n,r,t){"use strict";t.r(r),t.d(r,{default:function(){return d}});var e=t(7297),i=t(5893),o=t(9008),u=t.n(o),s=t(66),c=t(6467);function a(){var n=(0,e.Z)([""]);return a=function(){return n},n}function d(){return(0,i.jsxs)(l,{children:[(0,i.jsx)(u(),{children:(0,i.jsx)("title",{children:"Your Chats"})}),(0,i.jsx)(c.Z,{})]})}var l=s.ZP.div(a())},7896:function(n,r){"use strict";r.Z=function(n,r){return null===n||void 0===n?void 0:n.filter((function(n){return n!==(null===r||void 0===r?void 0:r.email)}))[0]}}},function(n){n.O(0,[822,774,888,179],(function(){return r=5557,n(n.s=r);var r}));var r=n.O();_N_E=r}]);